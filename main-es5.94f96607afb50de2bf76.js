function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toArray(t){return _arrayWithHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableRest()}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(t,e){var n=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(o.push(r.value),!e||o.length!==e);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _createForOfIteratorHelper(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _construct(t,e,n){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&_setPrototypeOf(i,n.prototype),i}).apply(null,arguments)}function _get(t,e,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=_superPropBase(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var n,r=_getPrototypeOf(t);if(e){var i=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";function r(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function i(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function o(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||e)}n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return c}));var a=n("qOnz"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),u=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new a.a;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(h){}try{for(var o=r(this.instancesDeferred.entries()),a=o.next();!a.done;a=o.next()){var s=i(a.value,2),u=s[1],c=this.normalizeInstanceIdentifier(s[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return t=this,n=function(){var t;return function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(o(o([],i(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),i(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return e.sent(),[2]}}))},new((e=void 0)||(e=Promise))((function(r,i){function o(t){try{s(n.next(t))}catch(e){i(e)}}function a(t){try{s(n.throw(t))}catch(e){i(e)}}function s(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,a)}s((n=n.apply(t,[])).next())}));var t,e,n},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t="[DEFAULT]"),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var o=t.options,a=void 0===o?{}:o,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var u=this.getOrInitializeService({instanceIdentifier:s,options:a});try{for(var c=r(this.instancesDeferred.entries()),l=c.next();!l.done;l=c.next()){var h=i(l.value,2),f=h[1];s===this.normalizeInstanceIdentifier(h[0])&&f.resolve(u)}}catch(d){e={error:d}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}return this.invokeOnInitCallbacks(u,s),u},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&t(o,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i,o=this.onInitCallbacks.get(e);if(o)try{for(var a=r(o),s=a.next();!s.done;s=a.next()){var u=s.value;try{u(t,e)}catch(c){}}}catch(l){n={error:l}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,"[DEFAULT]"===e?void 0:e),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t="[DEFAULT]"),this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),c=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new u(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i.pending=!1,i}return _createClass(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}},{key:"requestAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(t.flush.bind(t,this),n)}},{key:"recycleAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}},{key:"execute",value:function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}},{key:"_unsubscribe",value:function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}]),n}(function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){return _classCallCheck(this,n),e.call(this)}return _createClass(n,[{key:"schedule",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this}}]),n}(n("quSY").a))},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("ZUHj"),i=n("l7GE"),o=n("51Dv"),a=n("lJxs"),s=n("Cfvw");function u(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof e?function(r){return r.pipe(u((function(n,r){return Object(s.a)(t(n,r)).pipe(Object(a.a)((function(t,i){return e(n,t,r,i)})))}),n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new c(t,n))})}var c=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_classCallCheck(this,t),this.project=e,this.concurrent=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new l(t,this.project,this.concurrent))}}]),t}(),l=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _classCallCheck(this,n),(i=e.call(this,t)).project=r,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return _createClass(n,[{key:"_next",value:function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}},{key:"_innerSub",value:function(t,e,n){var i=new o.a(this,e,n),a=this.destination;a.add(i);var s=Object(r.a)(this,t,void 0,void 0,i);s!==i&&a.add(s)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyComplete",value:function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(i.a)},"51Dv":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this)).parent=t,o.outerValue=r,o.outerIndex=i,o.index=0,o}return _createClass(n,[{key:"_next",value:function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}},{key:"_error",value:function(t){this.parent.notifyError(t,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(n("7o/Q").a)},"7Hc7":function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=1,i=Promise.resolve(),o={};function a(t){return t in o&&(delete o[t],!0)}var s=function(t){var e=r++;return o[e]=!0,i.then((function(){return a(e)&&t()})),e},u=function(t){a(t)},c=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return _createClass(n,[{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,t,e,r):(t.actions.push(this),t.scheduled||(t.scheduled=s(t.flush.bind(t,null))))}},{key:"recycleAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return _get(_getPrototypeOf(n.prototype),"recycleAsyncId",this).call(this,t,e,r);0===t.actions.length&&(u(e),t.scheduled=void 0)}}]),n}(n("3N8a").a),l=new(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"flush",value:function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}}}]),n}(n("IjjT").a))(c)},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),a=n("2QA8"),s=n("2fFW"),u=n("NJ4a"),c=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,o){var a;switch(_classCallCheck(this,n),(a=e.call(this)).syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=i.a;break;case 1:if(!t){a.destination=i.a;break}if("object"==typeof t){t instanceof n?(a.syncErrorThrowable=t.syncErrorThrowable,a.destination=t,t.add(_assertThisInitialized(a))):(a.syncErrorThrowable=!0,a.destination=new l(_assertThisInitialized(a),t));break}default:a.syncErrorThrowable=!0,a.destination=new l(_assertThisInitialized(a),t,r,o)}return a}return _createClass(n,[{key:a.a,value:function(){return this}},{key:"next",value:function(t){this.isStopped||this._next(t)}},{key:"error",value:function(t){this.isStopped||(this.isStopped=!0,this._error(t))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,_get(_getPrototypeOf(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(t){this.destination.next(t)}},{key:"_error",value:function(t){this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}],[{key:"create",value:function(t,e,r){var i=new n(t,e,r);return i.syncErrorThrowable=!1,i}}]),n}(o.a),l=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,o,a,s){var u,c;_classCallCheck(this,n),(u=e.call(this))._parentSubscriber=t;var l=_assertThisInitialized(u);return Object(r.a)(o)?c=o:o&&(c=o.next,a=o.error,s=o.complete,o!==i.a&&(l=Object.create(o),Object(r.a)(l.unsubscribe)&&u.add(l.unsubscribe.bind(l)),l.unsubscribe=u.unsubscribe.bind(_assertThisInitialized(u)))),u._context=l,u._next=c,u._error=a,u._complete=s,u}return _createClass(n,[{key:"next",value:function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;s.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}},{key:"error",value:function(t){if(!this.isStopped){var e=this._parentSubscriber,n=s.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}},{key:"complete",value:function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};s.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),s.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}},{key:"__tryOrSetError",value:function(t,e,n){if(!s.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return s.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}]),n}(c)},"9ppp":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),a=n("kJWO"),s=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[a.a]}(t))return function(t,e){return new r.a((function(n){var r=new o.a;return r.add(e.schedule((function(){var i=t[a.a]();r.add(i.subscribe({next:function(t){r.add(e.schedule((function(){return n.next(t)})))},error:function(t){r.add(e.schedule((function(){return n.error(t)})))},complete:function(){r.add(e.schedule((function(){return n.complete()})))}}))}))),r}))}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a((function(n){var r=new o.a;return r.add(e.schedule((function(){return t.then((function(t){r.add(e.schedule((function(){n.next(t),r.add(e.schedule((function(){return n.complete()})))})))}),(function(t){r.add(e.schedule((function(){return n.error(t)})))}))}))),r}))}(t,e);if(Object(l.a)(t))return Object(s.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a((function(n){var r,i=new o.a;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(e.schedule((function(){r=t[u.a](),i.add(e.schedule((function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}})))}))),i}))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("3N8a"),i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=Array.isArray||function(t){return t&&"number"==typeof t.length}},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("HDdC"),i=new r.a((function(t){return t.complete()}));function o(t){return t?function(t){return new r.a((function(e){return t.schedule((function(){return e.complete()}))}))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r,i=n("7o/Q"),o=n("2QA8"),a=n("gRHU"),s=n("kJWO"),u=n("mCNh"),c=n("2fFW"),l=((r=function(){function t(e){_classCallCheck(this,t),this._isScalar=!1,e&&(this._subscribe=e)}return _createClass(t,[{key:"lift",value:function(e){var n=new t;return n.source=this,n.operator=e,n}},{key:"subscribe",value:function(t,e,n){var r=this.operator,s=function(t,e,n){if(t){if(t instanceof i.a)return t;if(t[o.a])return t[o.a]()}return t||e||n?new i.a(t,e,n):new i.a(a.a)}(t,e,n);if(s.add(r?r.call(s,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),c.a.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}},{key:"_trySubscribe",value:function(t){try{return this._subscribe(t)}catch(e){c.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,n=e.closed,r=e.destination,o=e.isStopped;if(n||o)return!1;t=r&&r instanceof i.a?r:null}return!0}(t)?t.error(e):console.warn(e)}}},{key:"forEach",value:function(t,e){var n=this;return new(e=h(e))((function(e,r){var i;i=n.subscribe((function(e){try{t(e)}catch(n){r(n),i&&i.unsubscribe()}}),r,e)}))}},{key:"_subscribe",value:function(t){var e=this.source;return e&&e.subscribe(t)}},{key:s.a,value:function(){return this}},{key:"pipe",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?this:Object(u.b)(e)(this)}},{key:"toPromise",value:function(t){var e=this;return new(t=h(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))}}]),t}()).create=function(t){return new r(t)},r);function h(t){if(t||(t=c.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},IjjT:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=function(){var t=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.now;_classCallCheck(this,t),this.SchedulerAction=e,this.now=n}return _createClass(t,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,t).schedule(n,e)}}]),t}();return t.now=function(){return Date.now()},t}(),i=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.now;return _classCallCheck(this,n),(i=e.call(this,t,(function(){return n.delegate&&n.delegate!==_assertThisInitialized(i)?n.delegate.now():o()}))).actions=[],i.active=!1,i.scheduled=void 0,i}return _createClass(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(t,e,r):_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,t,e,r)}},{key:"flush",value:function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}}]),n}(r)},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",(function(){return r.a})),r.a.registerVersion("firebase","8.6.8","app"),r.a.SDK_VERSION="8.6.8"},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function a(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var a=e[e.length-1];return Object(r.a)(a)?(e.pop(),Object(o.a)(e,a)):Object(i.a)(e)}},Lhse:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout((function(){throw t}),0)}n.d(e,"a",(function(){return r}))},SeVD:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),a=n("kJWO"),s=n("I55L"),u=n("c2HN"),c=n("XoHu"),l=function(t){if(t&&"function"==typeof t[a.a])return l=t,function(t){var e=l[a.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(s.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,function(t){return n.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,i.a),t};if(t&&"function"==typeof t[o.a])return e=t,function(t){for(var n=e[o.a]();;){var r=n.next();if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t};var e,n,l,h=Object(c.a)(t)?"an invalid object":"'".concat(t,"'");throw new TypeError("You provided ".concat(h," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",(function(){return r}))},VRyK:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),a=n("yCtX");function s(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var s=Number.POSITIVE_INFINITY,u=null,c=e[e.length-1];return Object(i.a)(c)?(u=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(s=e.pop())):"number"==typeof c&&(s=e.pop()),null===u&&1===e.length&&e[0]instanceof r.a?e[0]:Object(o.a)(s)(Object(a.a)(e,u))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return l}));var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),a=n("9ppp"),s=n("Ylt2"),u=n("2QA8"),c=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this,t)).destination=t,r}return n}(i.a),l=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.call(this)).observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return _createClass(n,[{key:u.a,value:function(){return new c(this)}},{key:"lift",value:function(t){var e=new h(this,this);return e.operator=t,e}},{key:"next",value:function(t){if(this.closed)throw new a.a;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)}},{key:"error",value:function(t){if(this.closed)throw new a.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new a.a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(t){if(this.closed)throw new a.a;return _get(_getPrototypeOf(n.prototype),"_trySubscribe",this).call(this,t)}},{key:"_subscribe",value:function(t){if(this.closed)throw new a.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new s.a(this,t))}},{key:"asObservable",value:function(){var t=new r.a;return t.source=this,t}}]),n}(r.a);return t.create=function(t,e){return new h(t,e)},t}(),h=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).destination=t,i.source=r,i}return _createClass(n,[{key:"next",value:function(t){var e=this.destination;e&&e.next&&e.next(t)}},{key:"error",value:function(t){var e=this.destination;e&&e.error&&this.destination.error(t)}},{key:"complete",value:function(){var t=this.destination;t&&t.complete&&this.destination.complete()}},{key:"_subscribe",value:function(t){return this.source?this.source.subscribe(t):o.a.EMPTY}}]),n}(l)},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return r}))},Y7HM:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).subject=t,i.subscriber=r,i.closed=!1,i}return _createClass(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}}}]),n}(n("quSY").a)},ZUHj:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("51Dv"),i=n("SeVD"),o=n("HDdC");function a(t,e,n,a){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new r.a(t,n,a);if(!s.closed)return e instanceof o.a?e.subscribe(s):Object(i.a)(e)(s)}},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("5+tZ"),i=n("SpAZ");function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},fXoL:function(t,e,n){"use strict";n.d(e,"a",(function(){return Co})),n.d(e,"b",(function(){return lu})),n.d(e,"c",(function(){return ou})),n.d(e,"d",(function(){return ru})),n.d(e,"e",(function(){return iu})),n.d(e,"f",(function(){return nc})),n.d(e,"g",(function(){return Wu})),n.d(e,"h",(function(){return oo})),n.d(e,"i",(function(){return wu})),n.d(e,"j",(function(){return Va})),n.d(e,"k",(function(){return du})),n.d(e,"l",(function(){return Fa})),n.d(e,"m",(function(){return Cn})),n.d(e,"n",(function(){return Vs})),n.d(e,"o",(function(){return et})),n.d(e,"p",(function(){return m})),n.d(e,"q",(function(){return tt})),n.d(e,"r",(function(){return ko})),n.d(e,"s",(function(){return is})),n.d(e,"t",(function(){return os})),n.d(e,"u",(function(){return fu})),n.d(e,"v",(function(){return vt})),n.d(e,"w",(function(){return Qu})),n.d(e,"x",(function(){return pt})),n.d(e,"y",(function(){return Uu})),n.d(e,"z",(function(){return Eu})),n.d(e,"A",(function(){return b})),n.d(e,"B",(function(){return cu})),n.d(e,"C",(function(){return uu})),n.d(e,"D",(function(){return Ha})),n.d(e,"E",(function(){return qa})),n.d(e,"F",(function(){return Ba})),n.d(e,"G",(function(){return Ga})),n.d(e,"H",(function(){return lr})),n.d(e,"I",(function(){return w})),n.d(e,"J",(function(){return Xu})),n.d(e,"K",(function(){return cs})),n.d(e,"L",(function(){return Ru})),n.d(e,"M",(function(){return Ka})),n.d(e,"N",(function(){return Wa})),n.d(e,"O",(function(){return hs})),n.d(e,"P",(function(){return Ct})),n.d(e,"Q",(function(){return Do})),n.d(e,"R",(function(){return qu})),n.d(e,"S",(function(){return qn})),n.d(e,"T",(function(){return V})),n.d(e,"U",(function(){return lt})),n.d(e,"V",(function(){return Un})),n.d(e,"W",(function(){return tc})),n.d(e,"X",(function(){return Lu})),n.d(e,"Y",(function(){return hu})),n.d(e,"Z",(function(){return so})),n.d(e,"ab",(function(){return Is})),n.d(e,"bb",(function(){return ur})),n.d(e,"cb",(function(){return dr})),n.d(e,"db",(function(){return Gn})),n.d(e,"eb",(function(){return Dn})),n.d(e,"fb",(function(){return Rn})),n.d(e,"gb",(function(){return Mn})),n.d(e,"hb",(function(){return Ln})),n.d(e,"ib",(function(){return Pn})),n.d(e,"jb",(function(){return jn})),n.d(e,"kb",(function(){return Cs})),n.d(e,"lb",(function(){return $u})),n.d(e,"mb",(function(){return Ss})),n.d(e,"nb",(function(){return Es})),n.d(e,"ob",(function(){return Nn})),n.d(e,"pb",(function(){return W})),n.d(e,"qb",(function(){return No})),n.d(e,"rb",(function(){return Zo})),n.d(e,"sb",(function(){return Yo})),n.d(e,"tb",(function(){return xo})),n.d(e,"ub",(function(){return ks})),n.d(e,"vb",(function(){return Kt})),n.d(e,"wb",(function(){return L})),n.d(e,"xb",(function(){return xn})),n.d(e,"yb",(function(){return ba})),n.d(e,"zb",(function(){return Ea})),n.d(e,"Ab",(function(){return La})),n.d(e,"Bb",(function(){return Pr})),n.d(e,"Cb",(function(){return Mo})),n.d(e,"Db",(function(){return ua})),n.d(e,"Eb",(function(){return Xs})),n.d(e,"Fb",(function(){return It})),n.d(e,"Gb",(function(){return Pt})),n.d(e,"Hb",(function(){return E})),n.d(e,"Ib",(function(){return T})),n.d(e,"Jb",(function(){return Dt})),n.d(e,"Kb",(function(){return Lt})),n.d(e,"Lb",(function(){return Uo})),n.d(e,"Mb",(function(){return Ko})),n.d(e,"Nb",(function(){return Wo})),n.d(e,"Ob",(function(){return Go})),n.d(e,"Pb",(function(){return Qo})),n.d(e,"Qb",(function(){return bn})),n.d(e,"Rb",(function(){return ga})),n.d(e,"Sb",(function(){return ct})),n.d(e,"Tb",(function(){return qo})),n.d(e,"Ub",(function(){return nu})),n.d(e,"Vb",(function(){return Bo})),n.d(e,"Wb",(function(){return Xo})),n.d(e,"Xb",(function(){return Js})),n.d(e,"Yb",(function(){return ta})),n.d(e,"Zb",(function(){return js})),n.d(e,"ac",(function(){return Ms})),n.d(e,"bc",(function(){return ra})),n.d(e,"cc",(function(){return na})),n.d(e,"dc",(function(){return Ho})),n.d(e,"ec",(function(){return Ns})),n.d(e,"fc",(function(){return Rs})),n.d(e,"gc",(function(){return Ps})),n.d(e,"hc",(function(){return Ys})),n.d(e,"ic",(function(){return Fo})),n.d(e,"jc",(function(){return fe})),n.d(e,"kc",(function(){return pr})),n.d(e,"lc",(function(){return Nt})),n.d(e,"mc",(function(){return Zs})),n.d(e,"nc",(function(){return sa})),n.d(e,"oc",(function(){return Vo})),n.d(e,"pc",(function(){return pa})),n.d(e,"qc",(function(){return va})),n.d(e,"rc",(function(){return ya}));var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),a=n("VRyK"),s=n("7o/Q");function u(){return function(t){return t.lift(new l(t))}}var c,l=function(){function t(e){_classCallCheck(this,t),this.connectable=e}return _createClass(t,[{key:"call",value:function(t,e){var n=this.connectable;n._refCount++;var r=new h(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),t}(),h=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).connectable=r,i}return _createClass(n,[{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(s.a),f=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).source=t,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return _createClass(n,[{key:"_subscribe",value:function(t){return this.getSubject().subscribe(t)}},{key:"getSubject",value:function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new i.a).add(this.source.subscribe(new p(this.getSubject(),this))),t.closed&&(this._connection=null,t=i.a.EMPTY)),t}},{key:"refCount",value:function(){return u()(this)}}]),n}(o.a),d={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(c=f.prototype)._subscribe},_isComplete:{value:c._isComplete,writable:!0},getSubject:{value:c.getSubject},connect:{value:c.connect},refCount:{value:c.refCount}},p=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).connectable=r,i}return _createClass(n,[{key:"_error",value:function(t){this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_error",this).call(this,t)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}]),n}(r.b);function v(){return new r.a}function y(t){return{toString:t}.toString()}function g(t,e,n){return y((function(){var r=function(t){return function(){if(t){var e=t.apply(void 0,arguments);for(var n in e)this[n]=e[n]}}}(e);function i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(this instanceof i)return r.apply(this,e),this;var o=_construct(i,e);return a.annotation=o,a;function a(t,e,n){for(var r=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i}))}var m=g("Inject",(function(t){return{token:t}})),b=g("Optional"),_=g("Self"),w=g("SkipSelf"),k=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function C(t){for(var e in t)if(t[e]===C)return e;throw Error("Could not find renamed property on target object.")}function S(t,e){for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function E(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function T(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function I(t){return O(t,t[x])||O(t,t[R])}function O(t,e){return e&&e.token===t?e:null}function A(t){return t&&(t.hasOwnProperty(D)||t.hasOwnProperty(P))?t[D]:null}var x=C({"\u0275prov":C}),D=C({"\u0275inj":C}),N=C({"\u0275provFallback":C}),R=C({ngInjectableDef:C}),P=C({ngInjectorDef:C});function L(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(L).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function j(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}var M=C({__forward_ref__:C});function V(t){return t.__forward_ref__=V,t.toString=function(){return L(this())},t}function F(t){return U(t)?t():t}function U(t){return"function"==typeof t&&t.hasOwnProperty(M)&&t.__forward_ref__===V}var q,B="undefined"!=typeof globalThis&&globalThis,H="undefined"!=typeof window&&window,z="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,G="undefined"!=typeof global&&global,W=B||G||H||z,K=C({"\u0275cmp":C}),Q=C({"\u0275dir":C}),Y=C({"\u0275pipe":C}),Z=C({"\u0275mod":C}),X=C({"\u0275loc":C}),J=C({"\u0275fac":C}),$=C({__NG_ELEMENT_ID__:C}),tt=function(){function t(e,n){_classCallCheck(this,t),this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=E({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return _createClass(t,[{key:"toString",value:function(){return"InjectionToken "+this._desc}}]),t}(),et=new tt("INJECTOR",-1),nt={},rt=/\n/gm,it=C({provide:String,useValue:C}),ot=void 0;function at(t){var e=ot;return ot=t,e}function st(t){var e=q;return q=t,e}function ut(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k.Default;if(void 0===ot)throw new Error("inject() must be called from an injection context");return null===ot?ht(t,void 0,e):ot.get(t,e&k.Optional?null:void 0,e)}function ct(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k.Default;return(q||ut)(F(t),e)}var lt=ct;function ht(t,e,n){var r=I(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&k.Optional)return null;if(void 0!==e)return e;throw new Error("Injector: NOT_FOUND [".concat(L(t),"]"))}function ft(t){for(var e=[],n=0;n<t.length;n++){var r=F(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=k.Default,a=0;a<r.length;a++){var s=r[a];s instanceof b||"Optional"===s.ngMetadataName||s===b?o|=k.Optional:s instanceof w||"SkipSelf"===s.ngMetadataName||s===w?o|=k.SkipSelf:s instanceof _||"Self"===s.ngMetadataName||s===_?o|=k.Self:i=s instanceof m||s===m?s.token:s}e.push(ct(i,o))}else e.push(ct(r))}return e}var dt=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt;if(e===nt){var n=new Error("NullInjectorError: No provider for ".concat(L(t),"!"));throw n.name="NullInjectorError",n}return e}}]),t}(),pt=function t(){_classCallCheck(this,t)},vt=function t(){_classCallCheck(this,t)};function yt(t,e){t.forEach((function(t){return Array.isArray(t)?yt(t,e):e(t)}))}function gt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function mt(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function bt(t,e){for(var n=[],r=0;r<t;r++)n.push(e);return n}function _t(t,e){var n=wt(t,e);if(n>=0)return t[1|n]}function wt(t,e){return function(t,e,n){for(var r=0,i=t.length>>1;i!==r;){var o=r+(i-r>>1),a=t[o<<1];if(e===a)return o<<1;a>e?i=o:r=o+1}return~(i<<1)}(t,e)}var kt=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),Ct=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),St={},Et=[],Tt=0;function It(t){return y((function(){var e=t.type,n=e.prototype,r={},i={type:e,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:t.changeDetection===kt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Et,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Ct.Emulated,id:"c",styles:t.styles||Et,_:null,setInput:null,schemas:t.schemas||null,tView:null},o=t.directives,a=t.features,s=t.pipes;return i.id+=Tt++,i.inputs=Rt(t.inputs,r),i.outputs=Rt(t.outputs),a&&a.forEach((function(t){return t(i)})),i.directiveDefs=o?function(){return("function"==typeof o?o():o).map(Ot)}:null,i.pipeDefs=s?function(){return("function"==typeof s?s():s).map(At)}:null,i}))}function Ot(t){return jt(t)||function(t){return t[Q]||null}(t)}function At(t){return function(t){return t[Y]||null}(t)}var xt={};function Dt(t){var e={type:t.type,bootstrap:t.bootstrap||Et,declarations:t.declarations||Et,imports:t.imports||Et,exports:t.exports||Et,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&y((function(){xt[t.id]=t.type})),e}function Nt(t,e){return y((function(){var n=Vt(t,!0);n.declarations=e.declarations||Et,n.imports=e.imports||Et,n.exports=e.exports||Et}))}function Rt(t,e){if(null==t)return St;var n={};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}var Pt=It;function Lt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function jt(t){return t[K]||null}function Mt(t,e){return t.hasOwnProperty(J)?t[J]:null}function Vt(t,e){var n=t[Z]||null;if(!n&&!0===e)throw new Error("Type ".concat(L(t)," does not have '\u0275mod' property."));return n}function Ft(t){return Array.isArray(t)&&"object"==typeof t[1]}function Ut(t){return Array.isArray(t)&&!0===t[1]}function qt(t){return 0!=(8&t.flags)}function Bt(t){return 2==(2&t.flags)}function Ht(t){return 1==(1&t.flags)}function zt(t){return null!==t.template}function Gt(t){return 0!=(512&t[2])}var Wt=void 0;function Kt(t){Wt=t}function Qt(t){return!!t.listen}var Yt={createRenderer:function(t,e){return void 0!==Wt?Wt:"undefined"!=typeof document?document:void 0}};function Zt(t){for(;Array.isArray(t);)t=t[0];return t}function Xt(t,e){return Zt(e[t+20])}function Jt(t,e){return Zt(e[t.index])}function $t(t,e){return t.data[e+20]}function te(t,e){return t[e+20]}function ee(t,e){var n=e[t];return Ft(n)?n:n[0]}function ne(t){var e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function re(t){return 4==(4&t[2])}function ie(t){return 128==(128&t[2])}function oe(t,e){return null===t||null==e?null:t[e]}function ae(t){t[18]=0}function se(t,e){t[5]+=e;for(var n=t,r=t[3];null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}var ue={lFrame:Oe(null),bindingsEnabled:!0,checkNoChangesMode:!1};function ce(){return ue.bindingsEnabled}function le(){return ue.lFrame.lView}function he(){return ue.lFrame.tView}function fe(t){ue.lFrame.contextLView=t}function de(){return ue.lFrame.previousOrParentTNode}function pe(t,e){ue.lFrame.previousOrParentTNode=t,ue.lFrame.isParent=e}function ve(){return ue.lFrame.isParent}function ye(){ue.lFrame.isParent=!1}function ge(){return ue.checkNoChangesMode}function me(t){ue.checkNoChangesMode=t}function be(){var t=ue.lFrame,e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function _e(){return ue.lFrame.bindingIndex++}function we(t,e){var n=ue.lFrame;n.bindingIndex=n.bindingRootIndex=t,ke(e)}function ke(t){ue.lFrame.currentDirectiveIndex=t}function Ce(){return ue.lFrame.currentQueryIndex}function Se(t){ue.lFrame.currentQueryIndex=t}function Ee(t,e){var n=Ie();ue.lFrame=n,n.previousOrParentTNode=e,n.lView=t}function Te(t,e){var n=Ie(),r=t[1];ue.lFrame=n,n.previousOrParentTNode=e,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex}function Ie(){var t=ue.lFrame,e=null===t?null:t.child;return null===e?Oe(t):e}function Oe(t){var e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function Ae(){var t=ue.lFrame;return ue.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}var xe=Ae;function De(){var t=Ae();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.currentSanitizer=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Ne(){return ue.lFrame.selectedIndex}function Re(t){ue.lFrame.selectedIndex=t}function Pe(){var t=ue.lFrame;return $t(t.tView,t.selectedIndex)}function Le(t,e){for(var n=e.directiveStart,r=e.directiveEnd;n<r;n++){var i=t.data[n];i.afterContentInit&&(t.contentHooks||(t.contentHooks=[])).push(-n,i.afterContentInit),i.afterContentChecked&&((t.contentHooks||(t.contentHooks=[])).push(n,i.afterContentChecked),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i.afterContentChecked)),i.afterViewInit&&(t.viewHooks||(t.viewHooks=[])).push(-n,i.afterViewInit),i.afterViewChecked&&((t.viewHooks||(t.viewHooks=[])).push(n,i.afterViewChecked),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,i.afterViewChecked)),null!=i.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(n,i.onDestroy)}}function je(t,e,n){Fe(t,e,3,n)}function Me(t,e,n,r){(3&t[2])===n&&Fe(t,e,n,r)}function Ve(t,e){var n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Fe(t,e,n,r){for(var i=null!=r?r:-1,o=0,a=void 0!==r?65535&t[18]:0;a<e.length;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=r&&o>=r)break}else e[a]<0&&(t[18]+=65536),(o<i||-1==i)&&(Ue(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Ue(t,e,n,r){var i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(a)):o.call(a)}var qe=function t(e,n,r){_classCallCheck(this,t),this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r};function Be(t,e,n){for(var r=Qt(t),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var a=n[i++],s=n[i++],u=n[i++];r?t.setAttribute(e,s,u,a):e.setAttributeNS(a,s,u)}else{var c=o,l=n[++i];ze(c)?r&&t.setProperty(e,c,l):r?t.setAttribute(e,c,l):e.setAttribute(c,l),i++}}return i}function He(t){return 3===t||4===t||6===t}function ze(t){return 64===t.charCodeAt(0)}function Ge(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else for(var n=-1,r=0;r<e.length;r++){var i=e[r];"number"==typeof i?n=i:0===n||We(t,n,i,null,-1===n||2===n?e[++r]:null)}return t}function We(t,e,n,r,i){var o=0,a=t.length;if(-1===e)a=-1;else for(;o<t.length;){var s=t[o++];if("number"==typeof s){if(s===e){a=-1;break}if(s>e){a=o-1;break}}}for(;o<t.length;){var u=t[o];if("number"==typeof u)break;if(u===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==a&&(t.splice(a,0,e),o=a+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Ke(t){return-1!==t}function Qe(t){return 32767&t}function Ye(t){return t>>16}function Ze(t,e){for(var n=Ye(t),r=e;n>0;)r=r[15],n--;return r}function Xe(t){return"string"==typeof t?t:null==t?"":""+t}function Je(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Xe(t)}var $e=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(W);function tn(t){return t instanceof Function?t():t}var en=!0;function nn(t){var e=en;return en=t,e}var rn=0;function on(t,e){var n=sn(t,e);if(-1!==n)return n;var r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,an(r.data,t),an(e,null),an(r.blueprint,null));var i=un(t,e),o=t.injectorIndex;if(Ke(i))for(var a=Qe(i),s=Ze(i,e),u=s[1].data,c=0;c<8;c++)e[o+c]=s[a+c]|u[a+c];return e[o+8]=i,o}function an(t,e){t.push(0,0,0,0,0,0,0,0,e)}function sn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function un(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;for(var n=e[6],r=1;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function cn(t,e,n){!function(t,e,n){var r="string"!=typeof n?n[$]:n.charCodeAt(0)||0;null==r&&(r=n[$]=rn++);var i=255&r,o=1<<i,a=64&i,s=32&i,u=e.data;128&i?a?s?u[t+7]|=o:u[t+6]|=o:s?u[t+5]|=o:u[t+4]|=o:a?s?u[t+3]|=o:u[t+2]|=o:s?u[t+1]|=o:u[t]|=o}(t,e,n)}function ln(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:k.Default,i=arguments.length>4?arguments[4]:void 0;if(null!==t){var o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;var e=t[$];return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof o){Ee(e,t);try{var a=o();if(null!=a||r&k.Optional)return a;throw new Error("No provider for ".concat(Je(n),"!"))}finally{xe()}}else if("number"==typeof o){if(-1===o)return new gn(t,e);var s=null,u=sn(t,e),c=-1,l=r&k.Host?e[16][6]:null;for((-1===u||r&k.SkipSelf)&&(c=-1===u?un(t,e):e[u+8],yn(r,!1)?(s=e[1],u=Qe(c),e=Ze(c,e)):u=-1);-1!==u;){c=e[u+8];var h=e[1];if(vn(o,u,h.data)){var f=fn(u,e,n,s,r,l);if(f!==hn)return f}yn(r,e[1].data[u+8]===l)&&vn(o,u,e)?(s=h,u=Qe(c),e=Ze(c,e)):u=-1}}}if(r&k.Optional&&void 0===i&&(i=null),0==(r&(k.Self|k.Host))){var d=e[9],p=st(void 0);try{return d?d.get(n,i,r&k.Optional):ht(n,i,r&k.Optional)}finally{st(p)}}if(r&k.Optional)return i;throw new Error("NodeInjector: NOT_FOUND [".concat(Je(n),"]"))}var hn={};function fn(t,e,n,r,i,o){var a=e[1],s=a.data[t+8],u=dn(s,a,n,null==r?Bt(s)&&en:r!=a&&3===s.type,i&k.Host&&o===s);return null!==u?pn(e,a,u,s):hn}function dn(t,e,n,r,i){for(var o=t.providerIndexes,a=e.data,s=65535&o,u=t.directiveStart,c=o>>16,l=i?s+c:t.directiveEnd,h=r?s:s+c;h<l;h++){var f=a[h];if(h<u&&n===f||h>=u&&f.type===n)return h}if(i){var d=a[u];if(d&&zt(d)&&d.type===n)return u}return null}function pn(t,e,n,r){var i=t[n],o=e.data;if(i instanceof qe){var a=i;if(a.resolving)throw new Error("Circular dep for "+Je(o[n]));var s,u=nn(a.canSeeViewProviders);a.resolving=!0,a.injectImpl&&(s=st(a.injectImpl)),Ee(t,r);try{i=t[n]=a.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){var r=e.onChanges,i=e.onInit,o=e.doCheck;r&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)),i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{a.injectImpl&&st(s),nn(u),a.resolving=!1,xe()}}return i}function vn(t,e,n){var r=64&t,i=32&t;return!!((128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e])&1<<t)}function yn(t,e){return!(t&k.Self||t&k.Host&&e)}var gn=function(){function t(e,n){_classCallCheck(this,t),this._tNode=e,this._lView=n}return _createClass(t,[{key:"get",value:function(t,e){return ln(this._tNode,this._lView,t,void 0,e)}}]),t}();function mn(t){var e=t;if(U(t))return function(){var t=mn(F(e));return t?t():null};var n=Mt(e);if(null===n){var r=A(e);n=r&&r.factory}return n||null}function bn(t){return y((function(){for(var e=t.prototype.constructor,n=e[J]||mn(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;i&&i!==r;){var o=i[J]||mn(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return function(t){return new t}}))}function _n(t){return t.ngDebugContext}function wn(t){return t.ngOriginalError}function kn(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];t.error.apply(t,n)}var Cn=function(){function t(){_classCallCheck(this,t),this._console=console}return _createClass(t,[{key:"handleError",value:function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||kn}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(t){return t?_n(t)?_n(t):this._findContext(wn(t)):null}},{key:"_findOriginalError",value:function(t){for(var e=wn(t);e&&wn(e);)e=wn(e);return e}}]),t}(),Sn=function(){function t(e){_classCallCheck(this,t),this.changingThisBreaksApplicationSecurity=e}return _createClass(t,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}]),t}(),En=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(Sn),Tn=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(Sn),In=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(Sn),On=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(Sn),An=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(Sn);function xn(t){return t instanceof Sn?t.changingThisBreaksApplicationSecurity:t}function Dn(t,e){var n=Nn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error("Required a safe ".concat(e,", got a ").concat(n," (see http://g.co/ng/security#xss)"))}return n===e}function Nn(t){return t instanceof Sn&&t.getTypeName()||null}function Rn(t){return new En(t)}function Pn(t){return new Tn(t)}function Ln(t){return new In(t)}function jn(t){return new On(t)}function Mn(t){return new An(t)}var Vn=!0,Fn=!1;function Un(){return Fn=!0,Vn}function qn(){if(Fn)throw new Error("Cannot enable prod mode after platform setup.");Vn=!1}var Bn=function(){function t(e){_classCallCheck(this,t),this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");var n=this.inertDocument.body;if(null==n){var r=this.inertDocument.createElement("html");this.inertDocument.appendChild(r),n=this.inertDocument.createElement("body"),r.appendChild(n)}n.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!n.querySelector||n.querySelector("svg")?(n.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=n.querySelector&&n.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return _createClass(t,[{key:"getInertBodyElement_XHR",value:function(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}var e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);var n=e.response.body;return n.removeChild(n.firstChild),n}},{key:"getInertBodyElement_DOMParser",value:function(t){t="<body><remove></remove>"+t+"</body>";try{var e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(n){return null}}},{key:"getInertBodyElement_InertDocument",value:function(t){var e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;var n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var r=e.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||t.removeAttribute(r)}for(var i=t.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}]),t}(),Hn=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,zn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Gn(t){return(t=String(t)).match(Hn)||t.match(zn)?t:(Un()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(t," (see http://g.co/ng/security#xss)")),"unsafe:"+t)}function Wn(t){var e,n={},r=_createForOfIteratorHelper(t.split(","));try{for(r.s();!(e=r.n()).done;){n[e.value]=!0}}catch(i){r.e(i)}finally{r.f()}return n}function Kn(){for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];for(var s in a)a.hasOwnProperty(s)&&(t[s]=!0)}return t}var Qn,Yn=Wn("area,br,col,hr,img,wbr"),Zn=Wn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Xn=Wn("rp,rt"),Jn=Kn(Xn,Zn),$n=Kn(Yn,Kn(Zn,Wn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Kn(Xn,Wn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Jn),tr=Wn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),er=Wn("srcset"),nr=Kn(tr,er,Wn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Wn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),rr=Wn("script,style,template"),ir=function(){function t(){_classCallCheck(this,t),this.sanitizedSomething=!1,this.buf=[]}return _createClass(t,[{key:"sanitizeChildren",value:function(t){for(var e=t.firstChild,n=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(t){var e=t.nodeName.toLowerCase();if(!$n.hasOwnProperty(e))return this.sanitizedSomething=!0,!rr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);for(var n,r=t.attributes,i=0;i<r.length;i++){var o=r.item(i),a=o.name,s=a.toLowerCase();if(nr.hasOwnProperty(s)){var u=o.value;tr[s]&&(u=Gn(u)),er[s]&&(n=u,u=(n=String(n)).split(",").map((function(t){return Gn(t.trim())})).join(", ")),this.buf.push(" ",a,'="',sr(u),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(t){var e=t.nodeName.toLowerCase();$n.hasOwnProperty(e)&&!Yn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}},{key:"chars",value:function(t){this.buf.push(sr(t))}},{key:"checkClobberedElement",value:function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}]),t}(),or=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ar=/([^\#-~ |!])/g;function sr(t){return t.replace(/&/g,"&amp;").replace(or,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(ar,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function ur(t,e){var n=null;try{Qn=Qn||new Bn(t);var r=e?String(e):"";n=Qn.getInertBodyElement(r);var i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Qn.getInertBodyElement(r)}while(r!==o);var a=new ir,s=a.sanitizeChildren(cr(n)||n);return Un()&&a.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),s}finally{if(n)for(var u=cr(n)||n;u.firstChild;)u.removeChild(u.firstChild)}}function cr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var lr=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}(),hr=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),fr=/^url\(([^)]+)\)$/;function dr(t){if(!(t=String(t).trim()))return"";var e=t.match(fr);return e&&Gn(e[1])===e[1]||t.match(hr)&&function(t){for(var e=!0,n=!0,r=0;r<t.length;r++){var i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(Un()&&console.warn("WARNING: sanitizing unsafe style value ".concat(t," (see http://g.co/ng/security#xss).")),"unsafe")}function pr(t){var e,n=(e=le())&&e[12];return n?n.sanitize(lr.URL,t)||"":Dn(t,"URL")?xn(t):Gn(Xe(t))}function vr(t,e){t.__ngContext__=e}function yr(t){throw new Error("Multiple components match node with tagname "+t.tagName)}function gr(){throw new Error("Cannot mix multi providers and regular providers")}function mr(t,e,n){for(var r=t.length;;){var i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){var o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function br(t,e,n){for(var r=0;r<t.length;){var i=t[r++];if(n&&"class"===i){if(-1!==mr((i=t[r]).toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function _r(t){return 0===t.type&&"ng-template"!==t.tagName}function wr(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function kr(t,e,n){for(var r=4,i=t.attrs||[],o=function(t){for(var e=0;e<t.length;e++)if(He(t[e]))return e;return t.length}(i),a=!1,s=0;s<e.length;s++){var u=e[s];if("number"!=typeof u){if(!a)if(4&r){if(r=2|1&r,""!==u&&!wr(t,u,n)||""===u&&1===e.length){if(Cr(r))return!1;a=!0}}else{var c=8&r?u:e[++s];if(8&r&&null!==t.attrs){if(!br(t.attrs,c,n)){if(Cr(r))return!1;a=!0}continue}var l=Sr(8&r?"class":u,i,_r(t),n);if(-1===l){if(Cr(r))return!1;a=!0;continue}if(""!==c){var h;h=l>o?"":i[l+1].toLowerCase();var f=8&r?h:null;if(f&&-1!==mr(f,c,0)||2&r&&c!==h){if(Cr(r))return!1;a=!0}}}}else{if(!a&&!Cr(r)&&!Cr(u))return!1;if(a&&Cr(u))continue;a=!1,r=u|1&r}}return Cr(r)||a}function Cr(t){return 0==(1&t)}function Sr(t,e,n,r){if(null===e)return-1;var i=0;if(r||!n){for(var o=!1;i<e.length;){var a=e[i];if(a===t)return i;if(3===a||6===a)o=!0;else{if(1===a||2===a){for(var s=e[++i];"string"==typeof s;)s=e[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=o?1:2}return-1}return function(t,e){var n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){var r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Er(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;r<e.length;r++)if(kr(t,e[r],n))return!0;return!1}function Tr(t,e){t:for(var n=0;n<e.length;n++){var r=e[n];if(t.length===r.length){for(var i=0;i<t.length;i++)if(t[i]!==r[i])continue t;return!0}}return!1}function Ir(t,e){return t?":not("+e.trim()+")":e}function Or(t){for(var e=t[0],n=1,r=2,i="",o=!1;n<t.length;){var a=t[n];if("string"==typeof a)if(2&r){var s=t[++n];i+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""===i||Cr(a)||(e+=Ir(o,i),i=""),r=a,o=o||!Cr(r);n++}return""!==i&&(e+=Ir(o,i)),e}var Ar={};function xr(t){var e=t[3];return Ut(e)?e[3]:e}function Dr(t){return Rr(t[13])}function Nr(t){return Rr(t[4])}function Rr(t){for(;null!==t&&!Ut(t);)t=t[4];return t}function Pr(t){Lr(he(),le(),Ne()+t,ge())}function Lr(t,e,n,r){if(!r)if(3==(3&e[2])){var i=t.preOrderCheckHooks;null!==i&&je(e,i,n)}else{var o=t.preOrderHooks;null!==o&&Me(e,o,0,n)}Re(n)}function jr(t,e){return t<<17|e<<2}function Mr(t){return t>>17&32767}function Vr(t){return 2|t}function Fr(t){return(131068&t)>>2}function Ur(t,e){return-131069&t|e<<2}function qr(t){return 1|t}function Br(t,e){var n=t.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1];if(-1!==o){var a=t.data[o];Se(i),a.contentQueries(2,e[o],o)}}}function Hr(t,e,n){return Qt(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function zr(t,e,n,r,i,o,a,s,u,c){var l=e.blueprint.slice();return l[0]=i,l[2]=140|r,ae(l),l[3]=l[15]=t,l[8]=n,l[10]=a||t&&t[10],l[11]=s||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Gr(t,e,n,r,i,o){var a=n+20,s=t.data[a]||function(t,e,n,r,i,o){var a=de(),s=ve(),u=s?a:a&&a.parent,c=t.data[n]=ti(0,u&&u!==e?u:null,r,n,i,o);return null===t.firstChild&&(t.firstChild=c),a&&(!s||null!=a.child||null===c.parent&&2!==a.type?s||(a.next=c):a.child=c),c}(t,e,a,r,i,o);return pe(s,!0),s}function Wr(t,e,n){Te(e,e[6]);try{var r=t.viewQuery;null!==r&&ki(1,r,n);var i=t.template;null!==i&&Yr(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Br(t,e),t.staticViewQueries&&ki(2,t.viewQuery,n);var o=t.components;null!==o&&function(t,e){for(var n=0;n<e.length;n++)gi(t,e[n])}(e,o)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),a}finally{e[2]&=-5,De()}}function Kr(t,e,n,r){var i=e[2];if(256!=(256&i)){Te(e,e[6]);var o=ge();try{ae(e),ue.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Yr(t,e,n,2,r);var a=3==(3&i);if(!o)if(a){var s=t.preOrderCheckHooks;null!==s&&je(e,s,null)}else{var u=t.preOrderHooks;null!==u&&Me(e,u,0,null),Ve(e,0)}if(function(t){for(var e=Dr(t);null!==e;e=Nr(e))if(e[2])for(var n=e[9],r=0;r<n.length;r++){var i=n[r],o=i[3];0==(1024&i[2])&&se(o,1),i[2]|=1024}}(e),function(t){for(var e=Dr(t);null!==e;e=Nr(e))for(var n=10;n<e.length;n++){var r=e[n],i=r[1];ie(r)&&Kr(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&Br(t,e),!o)if(a){var c=t.contentCheckHooks;null!==c&&je(e,c)}else{var l=t.contentHooks;null!==l&&Me(e,l,1),Ve(e,1)}!function(t,e){try{var n=t.expandoInstructions;if(null!==n)for(var r=t.expandoStartIndex,i=-1,o=0;o<n.length;o++){var a=n[o];"number"==typeof a?a<=0?(Re(0-a),i=r+=9+n[++o]):r+=a:(null!==a&&(we(r,i),a(2,e[i])),i++)}}finally{Re(-1)}}(t,e);var h=t.components;null!==h&&function(t,e){for(var n=0;n<e.length;n++)yi(t,e[n])}(e,h);var f=t.viewQuery;if(null!==f&&ki(2,f,r),!o)if(a){var d=t.viewCheckHooks;null!==d&&je(e,d)}else{var p=t.viewHooks;null!==p&&Me(e,p,2),Ve(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,se(e[3],-1))}finally{De()}}}function Qr(t,e,n,r){var i=e[10],o=!ge(),a=re(e);try{o&&!a&&i.begin&&i.begin(),a&&Wr(t,e,r),Kr(t,e,n,r)}finally{o&&!a&&i.end&&i.end()}}function Yr(t,e,n,r,i){var o=Ne();try{Re(-1),2&r&&e.length>20&&Lr(t,e,0,ge()),n(r,i)}finally{Re(o)}}function Zr(t,e,n){ce()&&(function(t,e,n,r){var i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||on(n,e),vr(r,e);for(var a=n.initialInputs,s=i;s<o;s++){var u=t.data[s],c=zt(u);c&&fi(e,n,u);var l=pn(e,t,s,n);vr(l,e),null!==a&&di(0,s-i,l,u,0,a),c&&(ee(n.index,e)[8]=l)}}(t,e,n,Jt(n,e)),128==(128&n.flags)&&function(t,e,n){var r=n.directiveStart,i=n.directiveEnd,o=t.expandoInstructions,a=t.firstCreatePass,s=n.index-20,u=ue.lFrame.currentDirectiveIndex;try{Re(s);for(var c=r;c<i;c++){var l=t.data[c],h=e[c];ke(c),null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs?ai(l,h):a&&o.push(null)}}finally{Re(-1),ke(u)}}(t,e,n))}function Xr(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Jt,r=e.localNames;if(null!==r)for(var i=e.index+1,o=0;o<r.length;o+=2){var a=r[o+1],s=-1===a?n(e,t):t[a];t[i++]=s}}function Jr(t){var e=t.tView;return null===e||e.incompleteFirstPass?t.tView=$r(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function $r(t,e,n,r,i,o,a,s,u,c){var l=20+r,h=l+i,f=function(t,e){for(var n=[],r=0;r<e;r++)n.push(r<t?null:Ar);return n}(l,h);return f[1]={type:t,id:e,blueprint:f,template:n,queries:null,viewQuery:s,node:null,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:u,consts:c,incompleteFirstPass:!1}}function ti(t,e,n,r,i,o){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function ei(t,e,n){for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function ni(t,e,n,r,i,o,a,s){var u,c,l=Jt(e,n),h=e.inputs;!s&&null!=h&&(u=h[r])?(Ii(t,n,u,r,i),Bt(e)&&function(t,e){var n=ee(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3===e.type&&(r="class"===(c=r)?"className":"for"===c?"htmlFor":"formaction"===c?"formAction":"innerHtml"===c?"innerHTML":"readonly"===c?"readOnly":"tabindex"===c?"tabIndex":c,i=null!=a?a(i,e.tagName||"",r):i,Qt(o)?o.setProperty(l,r,i):ze(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function ri(t,e,n,r){var i=!1;if(ce()){var o=function(t,e,n){var r=t.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var a=r[o];Er(n,a.selectors,!1)&&(i||(i=[]),cn(on(n,e),t,a.type),zt(a)?(2&n.flags&&yr(n),ui(t,n),i.unshift(a)):i.push(a))}return i}(t,e,n),a=null===r?null:{"":-1};if(null!==o){var s=0;i=!0,li(n,t.data.length,o.length);for(var u=0;u<o.length;u++){var c=o[u];c.providersResolver&&c.providersResolver(c)}si(t,n,o.length);for(var l=!1,h=!1,f=0;f<o.length;f++){var d=o[f];n.mergedAttrs=Ge(n.mergedAttrs,d.hostAttrs),hi(t,e,d),ci(t.data.length-1,d,a),null!==d.contentQueries&&(n.flags|=8),null===d.hostBindings&&null===d.hostAttrs&&0===d.hostVars||(n.flags|=128),!l&&(d.onChanges||d.onInit||d.doCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-20),l=!0),h||!d.onChanges&&!d.doCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-20),h=!0),ii(t,d),s+=d.hostVars}!function(t,e){for(var n=e.directiveEnd,r=t.data,i=e.attrs,o=[],a=null,s=null,u=e.directiveStart;u<n;u++){var c=r[u],l=c.inputs,h=null===i||_r(e)?null:pi(l,i);o.push(h),a=ei(l,u,a),s=ei(c.outputs,u,s)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=s}(t,n),oi(t,e,s)}a&&function(t,e,n){if(e)for(var r=t.localNames=[],i=0;i<e.length;i+=2){var o=n[e[i+1]];if(null==o)throw new Error("Export of name '".concat(e[i+1],"' not found!"));r.push(e[i],o)}}(n,r,a)}return n.mergedAttrs=Ge(n.mergedAttrs,n.attrs),i}function ii(t,e){var n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function oi(t,e,n){for(var r=0;r<n;r++)e.push(Ar),t.blueprint.push(Ar),t.data.push(null)}function ai(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function si(t,e,n){var r=20-e.index,i=t.data.length-(65535&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function ui(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function ci(t,e,n){if(n){if(e.exportAs)for(var r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;zt(e)&&(n[""]=t)}}function li(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function hi(t,e,n){t.data.push(n);var r=n.factory||(n.factory=Mt(n.type)),i=new qe(r,zt(n),null);t.blueprint.push(i),e.push(i)}function fi(t,e,n){var r=Jt(e,t),i=Jr(n),o=t[10],a=mi(t,zr(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n)));t[e.index]=a}function di(t,e,n,r,i,o){var a=o[e];if(null!==a)for(var s=r.setInput,u=0;u<a.length;){var c=a[u++],l=a[u++],h=a[u++];null!==s?r.setInput(n,h,c,l):n[l]=h}}function pi(t,e){for(var n=null,r=0;r<e.length;){var i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function vi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function yi(t,e){var n=ee(e,t);if(ie(n)){var r=n[1];80&n[2]?Kr(r,n,r.template,n[8]):n[5]>0&&function t(e){for(var n=Dr(e);null!==n;n=Nr(n))for(var r=10;r<n.length;r++){var i=n[r];if(1024&i[2]){var o=i[1];Kr(o,i,o.template,i[8])}else i[5]>0&&t(i)}var a=e[1].components;if(null!==a)for(var s=0;s<a.length;s++){var u=ee(a[s],e);ie(u)&&u[5]>0&&t(u)}}(n)}}function gi(t,e){var n=ee(e,t),r=n[1];!function(t,e){for(var n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Wr(r,n,n[8])}function mi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function bi(t){for(;t;){t[2]|=64;var e=xr(t);if(Gt(t)&&!e)return t;t=e}return null}function _i(t,e,n){var r=e[10];r.begin&&r.begin();try{Kr(t,e,t.template,n)}catch(i){throw Ti(e,i),i}finally{r.end&&r.end()}}function wi(t){!function(t){for(var e=0;e<t.components.length;e++){var n=t.components[e],r=ne(n),i=r[1];Qr(i,r,i.template,n)}}(t[8])}function ki(t,e,n){Se(0),e(t,n)}var Ci=Promise.resolve(null);function Si(t){return t[7]||(t[7]=[])}function Ei(t){return t.cleanup||(t.cleanup=[])}function Ti(t,e){var n=t[9],r=n?n.get(Cn,null):null;r&&r.handleError(e)}function Ii(t,e,n,r,i){for(var o=0;o<n.length;){var a=n[o++],s=n[o++],u=e[a],c=t.data[a];null!==c.setInput?c.setInput(u,i,r,s):u[s]=i}}function Oi(t,e){var n=e[3];return-1===t.index?Ut(n)?n:null:n}function Ai(t,e){var n=Oi(t,e);return n?qi(e[11],n[7]):null}function xi(t,e,n,r,i){if(null!=r){var o,a=!1;Ut(r)?o=r:Ft(r)&&(a=!0,r=r[0]);var s=Zt(r);0===t&&null!==n?null==i?Fi(e,n,s):Vi(e,n,s,i||null):1===t&&null!==n?Vi(e,n,s,i||null):2===t?function(t,e,n){var r=qi(t,e);r&&function(t,e,n,r){Qt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,s,a):3===t&&e.destroyNode(s),null!=o&&function(t,e,n,r,i){var o=n[7];o!==Zt(n)&&xi(e,t,r,o,i);for(var a=10;a<n.length;a++){var s=n[a];Wi(s[1],s,t,e,r,o)}}(e,t,o,n,i)}}function Di(t,e,n,r){var i=Ai(t.node,e);i&&Wi(t,e,e[11],n?1:2,i,r)}function Ni(t,e){var n=t[9],r=n.indexOf(e);1024&e[2]&&se(e[3],-1),n.splice(r,1)}function Ri(t,e){if(!(t.length<=10)){var n=10+e,r=t[n];if(r){var i=r[17];null!==i&&i!==t&&Ni(i,r),e>0&&(t[n-1][4]=r[4]);var o=mt(t,10+e);Di(r[1],r,!1,null);var a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}}function Pi(t,e){if(!(256&e[2])){var n=e[11];Qt(n)&&n.destroyNode&&Wi(t,e,n,3,null,null),function(t){var e=t[13];if(!e)return ji(t[1],t);for(;e;){var n=null;if(Ft(e))n=e[13];else{var r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)Ft(e)&&ji(e[1],e),e=Li(e,t);null===e&&(e=t),Ft(e)&&ji(e[1],e),n=e&&e[4]}e=n}}(e)}}function Li(t,e){var n;return Ft(t)&&(n=t[6])&&2===n.type?Oi(n,t):t[3]===e?null:t[3]}function ji(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){var n;if(null!=t&&null!=(n=t.destroyHooks))for(var r=0;r<n.length;r+=2){var i=e[n[r]];if(!(i instanceof qe)){var o=n[r+1];if(Array.isArray(o))for(var a=0;a<o.length;a+=2)o[a+1].call(i[o[a]]);else o.call(i)}}}(t,e),function(t,e){var n=t.cleanup;if(null!==n){for(var r=e[7],i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){var o=n[i+1],a="function"==typeof o?o(e):Zt(e[o]),s=r[n[i+2]],u=n[i+3];"boolean"==typeof u?a.removeEventListener(n[i],s,u):u>=0?r[u]():r[-u].unsubscribe(),i+=2}else n[i].call(r[n[i+1]]);e[7]=null}}(t,e);var n=e[6];n&&3===n.type&&Qt(e[11])&&e[11].destroy();var r=e[17];if(null!==r&&Ut(e[3])){r!==e[3]&&Ni(r,e);var i=e[19];null!==i&&i.detachView(t)}}}function Mi(t,e,n){for(var r=e.parent;null!=r&&(4===r.type||5===r.type);)r=(e=r).parent;if(null==r){var i=n[6];return 2===i.type?Ai(i,n):n[0]}if(e&&5===e.type&&4&e.flags)return Jt(e,n).parentNode;if(2&r.flags){var o=t.data,a=o[o[r.index].directiveStart].encapsulation;if(a!==Ct.ShadowDom&&a!==Ct.Native)return null}return Jt(r,n)}function Vi(t,e,n,r){Qt(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function Fi(t,e,n){Qt(t)?t.appendChild(e,n):e.appendChild(n)}function Ui(t,e,n,r){null!==r?Vi(t,e,n,r):Fi(t,e,n)}function qi(t,e){return Qt(t)?t.parentNode(e):e.parentNode}function Bi(t,e){if(2===t.type){var n=Oi(t,e);return null===n?null:zi(n.indexOf(e,10)-10,n)}return 4===t.type||5===t.type?Jt(t,e):null}function Hi(t,e,n,r){var i=Mi(t,r,e);if(null!=i){var o=e[11],a=Bi(r.parent||e[6],e);if(Array.isArray(n))for(var s=0;s<n.length;s++)Ui(o,i,n[s],a);else Ui(o,i,n,a)}}function zi(t,e){var n=10+t+1;if(n<e.length){var r=e[n],i=r[1].firstChild;if(null!==i)return function t(e,n){if(null!==n){var r=n.type;if(3===r)return Jt(n,e);if(0===r)return zi(-1,e[n.index]);if(4===r||5===r){var i=n.child;if(null!==i)return t(e,i);var o=e[n.index];return Ut(o)?zi(-1,o):Zt(o)}var a=e[16],s=a[6],u=xr(a),c=s.projection[n.projection];return null!=c?t(u,c):t(e,n.next)}return null}(r,i)}return e[7]}function Gi(t,e,n,r,i,o,a){for(;null!=n;){var s=r[n.index],u=n.type;a&&0===e&&(s&&vr(Zt(s),r),n.flags|=4),64!=(64&n.flags)&&(4===u||5===u?(Gi(t,e,n.child,r,i,o,!1),xi(e,t,i,s,o)):1===u?Ki(t,e,r,n,i,o):xi(e,t,i,s,o)),n=a?n.projectionNext:n.next}}function Wi(t,e,n,r,i,o){Gi(n,r,t.node.child,e,i,o,!1)}function Ki(t,e,n,r,i,o){var a=n[16],s=a[6].projection[r.projection];if(Array.isArray(s))for(var u=0;u<s.length;u++)xi(e,t,i,s[u],o);else Gi(t,e,s,a[3],i,o,!0)}function Qi(t,e,n){Qt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Yi(t,e,n){Qt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}var Zi,Xi,Ji,$i=function(){function t(e,n){_classCallCheck(this,t),this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._viewContainerRef=null}return _createClass(t,[{key:"rootNodes",get:function(){var t=this._lView;return null==t[0]?function t(e,n,r,i){for(var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==r;){var a=n[r.index];if(null!==a&&i.push(Zt(a)),Ut(a))for(var s=10;s<a.length;s++){var u=a[s],c=u[1].firstChild;null!==c&&t(u[1],u,c,i)}var l=r.type;if(4===l||5===l)t(e,n,r.child,i);else if(1===l){var h=n[16],f=h[6].projection[r.projection];if(Array.isArray(f))i.push.apply(i,_toConsumableArray(f));else{var d=xr(h);t(d[1],d,f,i,!0)}}r=o?r.projectionNext:r.next}return i}(t[1],t,t[6].child,[]):[]}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}},{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Pi(this._lView[1],this._lView)}},{key:"onDestroy",value:function(t){var e,n,r;e=this._lView[1],r=t,Si(n=this._lView).push(r),e.firstCreatePass&&Ei(e).push(n[7].length-1,null)}},{key:"markForCheck",value:function(){bi(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){_i(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(t,e,n){me(!0);try{_i(t,e,n)}finally{me(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}},{key:"detachFromAppRef",value:function(){var t;this._appRef=null,Wi(this._lView[1],t=this._lView,t[11],2,null,null)}},{key:"attachToAppRef",value:function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}]),t}(),to=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this,t))._view=t,r}return _createClass(n,[{key:"detectChanges",value:function(){wi(this._view)}},{key:"checkNoChanges",value:function(){!function(t){me(!0);try{wi(t)}finally{me(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}($i);function eo(t,e,n){return Zi||(Zi=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(t)),new Zi(Jt(e,n))}function no(t,e,n,r){return Xi||(Xi=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this))._declarationView=t,o._declarationTContainer=r,o.elementRef=i,o}return _createClass(n,[{key:"createEmbeddedView",value:function(t){var e=this._declarationTContainer.tViews,n=zr(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];var r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Wr(e,n,t),new $i(n)}}]),n}(t)),0===n.type?new Xi(r,n,eo(e,n,r)):null}function ro(t,e,n,r){var i;Ji||(Ji=function(t){_inherits(r,t);var n=_createSuper(r);function r(t,e,i){var o;return _classCallCheck(this,r),(o=n.call(this))._lContainer=t,o._hostTNode=e,o._hostView=i,o}return _createClass(r,[{key:"element",get:function(){return eo(e,this._hostTNode,this._hostView)}},{key:"injector",get:function(){return new gn(this._hostTNode,this._hostView)}},{key:"parentInjector",get:function(){var t=un(this._hostTNode,this._hostView),e=Ze(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){for(var r=n.parent.injectorIndex,i=n.parent;null!=i.parent&&r==i.parent.injectorIndex;)i=i.parent;return i}for(var o=Ye(t),a=e,s=e[6];o>1;)s=(a=a[15])[6],o--;return s}(t,this._hostView,this._hostTNode);return Ke(t)&&null!=n?new gn(n,e):new gn(null,this._hostView)}},{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}},{key:"length",get:function(){return this._lContainer.length-10}},{key:"createEmbeddedView",value:function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r}},{key:"createComponent",value:function(t,e,n,r,i){var o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){var a=o.get(pt,null);a&&(i=a)}var s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}},{key:"insert",value:function(t,e){var n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Ut(n[3])){var i=this.indexOf(t);if(-1!==i)this.detach(i);else{var o=n[3],a=new Ji(o,o[6],o[3]);a.detach(a.indexOf(t))}}var s=this._adjustIndex(e);return function(t,e,n,r){var i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],gt(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;var a=e[17];null!==a&&n!==a&&function(t,e){var n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(a,e);var s=e[19];null!==s&&s.insertView(t),e[2]|=128}(r,n,this._lContainer,s),Di(r,n,!0,zi(s,this._lContainer)),t.attachToViewContainerRef(this),gt(this._lContainer[8],s,t),t}},{key:"move",value:function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}},{key:"indexOf",value:function(t){var e=this._lContainer[8];return null!==e?e.indexOf(t):-1}},{key:"remove",value:function(t){this.allocateContainerIfNeeded();var e=this._adjustIndex(t,-1);!function(t,e){var n=Ri(t,e);n&&Pi(n[1],n)}(this._lContainer,e),mt(this._lContainer[8],e)}},{key:"detach",value:function(t){this.allocateContainerIfNeeded();var e=this._adjustIndex(t,-1),n=Ri(this._lContainer,e);return n&&null!=mt(this._lContainer[8],e)?new $i(n):null}},{key:"_adjustIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==t?this.length+e:t}},{key:"allocateContainerIfNeeded",value:function(){null===this._lContainer[8]&&(this._lContainer[8]=[])}}]),r}(t));var o=r[n.index];if(Ut(o))i=o;else{var a;if(4===n.type)a=Zt(o);else if(a=r[11].createComment(""),Gt(r)){var s=r[11],u=Jt(n,r);Vi(s,qi(s,u),a,function(t,e){return Qt(t)?t.nextSibling(e):e.nextSibling}(s,u))}else Hi(r[1],r,a,n);r[n.index]=i=vi(o,r,a,n),mi(r,i)}return new Ji(i,n,r)}function io(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,e,n){if(!n&&Bt(t)){var r=ee(t.index,e);return new $i(r,r)}return 3===t.type||0===t.type||4===t.type||5===t.type?new $i(e[16],e):null}(de(),le(),t)}var oo=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return ao()},t}(),ao=io,so=new tt("Set Injector scope."),uo={},co={},lo=[],ho=void 0;function fo(){return void 0===ho&&(ho=new dt),ho}function po(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return new vo(t,n,e||fo(),r)}var vo=function(){function t(e,n,r){var i=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,t),this.parent=r,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var a=[];n&&yt(n,(function(t){return i.processProvider(t,e,n)})),yt([e],(function(t){return i.processInjectorType(t,[],a)})),this.records.set(et,mo(void 0,this));var s=this.records.get(so);this.scope=null!=s?s.value:null,this.source=o||("object"==typeof e?null:L(e))}return _createClass(t,[{key:"destroyed",get:function(){return this._destroyed}},{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach((function(t){return t.ngOnDestroy()}))}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nt,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k.Default;this.assertNotDestroyed();var r,i=at(this);try{if(!(n&k.SkipSelf)){var o=this.records.get(t);if(void 0===o){var a=("function"==typeof(r=t)||"object"==typeof r&&r instanceof tt)&&I(t);o=a&&this.injectableDefInScope(a)?mo(yo(t),uo):null,this.records.set(t,o)}if(null!=o)return this.hydrate(t,o)}return(n&k.Self?fo():this.parent).get(t,e=n&k.Optional&&e===nt?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(L(t)),i)throw s;return function(t,e,n,r){var i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;var i=L(e);if(Array.isArray(e))i=e.map(L).join(" -> ");else if("object"==typeof e){var o=[];for(var a in e)if(e.hasOwnProperty(a)){var s=e[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):L(s)))}i="{".concat(o.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(t.replace(rt,"\n  "))}("\n"+t.message,i,"R3InjectorError",r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,0,this.source)}throw s}finally{at(i)}}},{key:"_resolveInjectorDefTypes",value:function(){var t=this;this.injectorDefTypes.forEach((function(e){return t.get(e)}))}},{key:"toString",value:function(){var t=[];return this.records.forEach((function(e,n){return t.push(L(n))})),"R3Injector[".concat(t.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(t,e,n){var r=this;if(!(t=F(t)))return!1;var i=A(t),o=null==i&&t.ngModule||void 0,a=void 0===o?t:o,s=-1!==n.indexOf(a);if(void 0!==o&&(i=A(o)),null==i)return!1;if(null!=i.imports&&!s){var u;n.push(a);try{yt(i.imports,(function(t){r.processInjectorType(t,e,n)&&(void 0===u&&(u=[]),u.push(t))}))}finally{}if(void 0!==u)for(var c=function(t){var e=u[t],n=e.ngModule,i=e.providers;yt(i,(function(t){return r.processProvider(t,n,i||lo)}))},l=0;l<u.length;l++)c(l)}this.injectorDefTypes.add(a),this.records.set(a,mo(i.factory,uo));var h=i.providers;if(null!=h&&!s){var f=t;yt(h,(function(t){return r.processProvider(t,f,h)}))}return void 0!==o&&void 0!==t.providers}},{key:"processProvider",value:function(t,e,n){var r=_o(t=F(t))?t:F(t&&t.provide),i=function(t,e,n){return bo(t)?mo(void 0,t.useValue):mo(go(t,e,n),uo)}(t,e,n);if(_o(t)||!0!==t.multi){var o=this.records.get(r);o&&void 0!==o.multi&&gr()}else{var a=this.records.get(r);a?void 0===a.multi&&gr():((a=mo(void 0,uo,!0)).factory=function(){return ft(a.multi)},this.records.set(r,a)),r=t,a.multi.push(t)}this.records.set(r,i)}},{key:"hydrate",value:function(t,e){var n;return e.value===co?function(t){throw new Error("Cannot instantiate cyclic dependency! "+t)}(L(t)):e.value===uo&&(e.value=co,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}},{key:"injectableDefInScope",value:function(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}]),t}();function yo(t){var e=I(t),n=null!==e?e.factory:Mt(t);if(null!==n)return n;var r=A(t);if(null!==r)return r.factory;if(t instanceof tt)throw new Error("Token ".concat(L(t)," is missing a \u0275prov definition."));if(t instanceof Function)return function(t){var e=t.length;if(e>0){var n=bt(e,"?");throw new Error("Can't resolve all parameters for ".concat(L(t),": (").concat(n.join(", "),")."))}var r=function(t){var e=t&&(t[x]||t[R]||t[N]&&t[N]());if(e){var n=function(t){if(t.hasOwnProperty("name"))return t.name;var e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in v10. Please add @Injectable() to the "').concat(n,'" class.')),e}return null}(t);return null!==r?function(){return r.factory(t)}:function(){return new t}}(t);throw new Error("unreachable")}function go(t,e,n){var r,i=void 0;if(_o(t)){var o=F(t);return Mt(o)||yo(o)}if(bo(t))i=function(){return F(t.useValue)};else if((r=t)&&r.useFactory)i=function(){return t.useFactory.apply(t,_toConsumableArray(ft(t.deps||[])))};else if(function(t){return!(!t||!t.useExisting)}(t))i=function(){return ct(F(t.useExisting))};else{var a=F(t&&(t.useClass||t.provide));if(a||function(t,e,n){var r="";throw t&&e&&(r=" - only instances of Provider and Type are allowed, got: [".concat(e.map((function(t){return t==n?"?"+n+"?":"..."})).join(", "),"]")),new Error("Invalid provider for the NgModule '".concat(L(t),"'")+r)}(e,n,t),!function(t){return!!t.deps}(t))return Mt(a)||yo(a);i=function(){return _construct(a,_toConsumableArray(ft(t.deps)))}}return i}function mo(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:t,value:e,multi:n?[]:void 0}}function bo(t){return null!==t&&"object"==typeof t&&it in t}function _o(t){return"function"==typeof t}var wo=function(t,e,n){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0,i=po(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)},ko=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"create",value:function(t,e){return Array.isArray(t)?wo(t,e,""):wo(t.providers,t.parent,t.name||"")}}]),t}();return t.THROW_IF_NOT_FOUND=nt,t.NULL=new dt,t.\u0275prov=E({token:t,providedIn:"any",factory:function(){return ct(et)}}),t.__NG_ELEMENT_ID__=-1,t}(),Co=new tt("AnalyzeForEntryComponents"),So=new Map,Eo=new Set;function To(t){return"string"==typeof t?t:t.text()}function Io(t,e,n){var r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(var a=0;a<e.length;a++){var s=e[a];"number"==typeof s?o=s:1==o?i=j(i,s):2==o&&(r=j(r,s+": "+e[++a]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Oo=null;function Ao(){if(!Oo){var t=W.Symbol;if(t&&t.iterator)Oo=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Oo=r)}}return Oo}function xo(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}var Do=function(){function t(e){_classCallCheck(this,t),this.wrapped=e}return _createClass(t,null,[{key:"wrap",value:function(e){return new t(e)}},{key:"unwrap",value:function(e){return t.isWrapped(e)?e.wrapped:e}},{key:"isWrapped",value:function(e){return e instanceof t}}]),t}();function No(t){return!!Ro(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ao()in t)}function Ro(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Po(t,e,n){return t[e]=n}function Lo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function jo(t,e,n,r){var i=Lo(t,e,n);return Lo(t,e+1,r)||i}function Mo(t,e,n,r){var i=le();return Lo(i,_e(),e)&&(he(),function(t,e,n,r,i,o){var a=Jt(t,e),s=e[11];if(null==r)Qt(s)?s.removeAttribute(a,n,o):a.removeAttribute(n);else{var u=null==i?Xe(r):i(r,t.tagName||"",n);Qt(s)?s.setAttribute(a,n,u,o):o?a.setAttributeNS(o,n,u):a.setAttribute(n,u)}}(Pe(),i,t,e,n,r)),Mo}function Vo(t,e,n,r,i,o,a,s){var u=le(),c=he(),l=t+20,h=c.firstCreatePass?function(t,e,n,r,i,o,a,s,u){var c=e.consts,l=Gr(e,n[6],t,0,a||null,oe(c,s));ri(e,n,l,oe(c,u)),Le(e,l);var h=l.tViews=$r(2,-1,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c),f=ti(0,null,2,-1,null,null);return f.injectorIndex=l.injectorIndex,h.node=f,null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,c,u,e,n,r,i,o,a):c.data[l];pe(h,!1);var f=u[11].createComment("");Hi(c,u,f,h),vr(f,u),mi(u,u[l]=vi(f,u,f,h)),Ht(h)&&Zr(c,u,h),null!=a&&Xr(u,h,s)}function Fo(t){return te(ue.lFrame.contextLView,t)}function Uo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k.Default,n=le();return null==n?ct(t,e):ln(de(),n,F(t),e)}function qo(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;var n=t.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(He(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}return null}(de(),t)}function Bo(){throw new Error("invalid")}function Ho(t,e,n){var r=le();return Lo(r,_e(),e)&&ni(he(),Pe(),r,t,e,r[11],n,!1),Ho}function zo(t,e,n,r,i){var o=i?"class":"style";Ii(t,n,e.inputs[o],o,r)}function Go(t,e,n,r){var i=le(),o=he(),a=20+t,s=i[11],u=i[a]=Hr(e,s,ue.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,a){var s=e.consts,u=oe(s,o),c=Gr(e,n[6],t,3,i,u);return ri(e,n,c,oe(s,a)),null!==c.attrs&&Io(c,c.attrs,!1),null!==c.mergedAttrs&&Io(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(t,o,i,0,e,n,r):o.data[a];pe(c,!0);var l=c.mergedAttrs;null!==l&&Be(s,u,l);var h=c.classes;null!==h&&Yi(s,u,h);var f=c.styles;null!==f&&Qi(s,u,f),Hi(o,i,u,c),0===ue.lFrame.elementDepthCount&&vr(u,i),ue.lFrame.elementDepthCount++,Ht(c)&&(Zr(o,i,c),function(t,e,n){if(qt(e))for(var r=e.directiveEnd,i=e.directiveStart;i<r;i++){var o=t.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}(o,c,i)),null!==r&&Xr(i,c)}function Wo(){var t=de();ve()?ye():pe(t=t.parent,!1);var e=t;ue.lFrame.elementDepthCount--;var n=he();n.firstCreatePass&&(Le(n,t),qt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&zo(n,e,le(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&zo(n,e,le(),e.stylesWithoutHost,!1)}function Ko(t,e,n,r){Go(t,e,n,r),Wo()}function Qo(){return le()}function Yo(t){return!!t&&"function"==typeof t.then}function Zo(t){return!!t&&"function"==typeof t.subscribe}function Xo(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,i=le(),o=he(),a=de();return function(t,e,n,r,i,o){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7?arguments[7]:void 0,u=Ht(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=Si(e),h=!0;if(3===r.type){var f=Jt(r,e),d=s?s(f):St,p=d.target||f,v=l.length,y=s?function(t){return s(Zt(t[r.index])).target}:r.index;if(Qt(n)){var g=null;if(!s&&u&&(g=function(t,e,n,r){var i=t.cleanup;if(null!=i)for(var o=0;o<i.length-1;o+=2){var a=i[o];if(a===n&&i[o+1]===r){var s=e[7],u=i[o+2];return s.length>u?s[u]:null}"string"==typeof a&&(o+=2)}return null}(t,e,i,r.index)),null!==g)(g.__ngLastListenerFn__||g).__ngNextListenerFn__=o,g.__ngLastListenerFn__=o,h=!1;else{o=$o(r,e,o,!1);var m=n.listen(d.name||p,i,o);l.push(o,m),c&&c.push(i,y,v,v+1)}}else o=$o(r,e,o,!0),p.addEventListener(i,o,a),l.push(o),c&&c.push(i,y,v,a)}var b,_=r.outputs;if(h&&null!==_&&(b=_[i])){var w=b.length;if(w)for(var k=0;k<w;k+=2){var C=e[b[k]][b[k+1]].subscribe(o),S=l.length;l.push(o,C),c&&c.push(i,r.index,S,-(S+1))}}}(o,i,i[11],a,t,e,n,r),Xo}function Jo(t,e,n){try{return!1!==e(n)}catch(r){return Ti(t,r),!1}}function $o(t,e,n,r){return function i(o){if(o===Function)return n;var a=2&t.flags?ee(t.index,e):e;0==(32&e[2])&&bi(a);for(var s=Jo(e,n,o),u=i.__ngNextListenerFn__;u;)s=Jo(e,u,o)&&s,u=u.__ngNextListenerFn__;return r&&!1===s&&(o.preventDefault(),o.returnValue=!1),s}}function ta(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){return(ue.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,ue.lFrame.contextLView))[8]}(t)}function ea(t,e){for(var n=null,r=function(t){var e=t.attrs;if(null!=e){var n=e.indexOf(5);if(0==(1&n))return e[n+1]}return null}(t),i=0;i<e.length;i++){var o=e[i];if("*"!==o){if(null===r?Er(t,o,!0):Tr(r,o))return i}else n=i}return n}function na(t){var e=le()[16][6];if(!e.projection)for(var n=e.projection=bt(t?t.length:1,null),r=n.slice(),i=e.child;null!==i;){var o=t?ea(i,t):0;null!==o&&(r[o]?r[o].projectionNext=i:n[o]=i,r[o]=i),i=i.next}}function ra(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=le(),i=he(),o=Gr(i,r[6],t,1,null,n||null);null===o.projection&&(o.projection=e),ye(),function(t,e,n){Ki(e[11],0,e,n,Mi(t,n,e),Bi(n.parent||e[6],e))}(i,r,o)}var ia=[];function oa(t,e,n,r,i){for(var o=t[n+1],a=null===e,s=r?Mr(o):Fr(o),u=!1;0!==s&&(!1===u||a);){var c=t[s+1];aa(t[s],e)&&(u=!0,t[s+1]=r?qr(c):Vr(c)),s=r?Mr(c):Fr(c)}u&&(t[n+1]=r?Vr(o):qr(o))}function aa(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&wt(t,e)>=0}function sa(t,e,n){return ca(t,e,n,!1),sa}function ua(t,e){return ca(t,e,null,!0),ua}function ca(t,e,n,r){var i,o,a,s=le(),u=he(),c=(i=ue.lFrame,o=i.bindingIndex,i.bindingIndex=i.bindingIndex+2,o);(u.firstUpdatePass&&function(t,e,n,r){var i=t.data;if(null===i[n+1]){var o=i[Ne()+20],a=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(t.flags&(e?16:32))})(o,r)&&null===e&&!a&&(e=!1),e=function(t,e,n,r){var i=function(t){var e=ue.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t),o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=ha(n=la(null,t,e,n,r),e.attrs,r),o=null);else{var a=e.directiveStylingLast;if(-1===a||t[a]!==i)if(n=la(i,t,e,n,r),null===o){var s=function(t,e,n){var r=n?e.classBindings:e.styleBindings;if(0!==Fr(r))return t[Mr(r)]}(t,e,r);void 0!==s&&Array.isArray(s)&&function(t,e,n,r){t[Mr(n?e.classBindings:e.styleBindings)]=r}(t,e,r,s=ha(s=la(null,t,e,s[1],r),e.attrs,r))}else o=function(t,e,n){for(var r=void 0,i=e.directiveEnd,o=1+e.directiveStylingLast;o<i;o++)r=ha(r,t[o].hostAttrs,n);return ha(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){var a=o?e.classBindings:e.styleBindings,s=Mr(a),u=Fr(a);t[r]=n;var c,l=!1;if(Array.isArray(n)){var h=n;(null===(c=h[1])||wt(h,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){var f=Mr(t[s+1]);t[r+1]=jr(f,s),0!==f&&(t[f+1]=Ur(t[f+1],r)),t[s+1]=131071&t[s+1]|r<<17}else t[r+1]=jr(s,0),0!==s&&(t[s+1]=Ur(t[s+1],r)),s=r;else t[r+1]=jr(u,0),0===s?s=r:t[u+1]=Ur(t[u+1],r),u=r;l&&(t[r+1]=Vr(t[r+1])),oa(t,c,r,!0),oa(t,c,r,!1),function(t,e,n,r,i){var o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&wt(o,e)>=0&&(n[r+1]=qr(n[r+1]))}(e,c,t,r,o),a=jr(s,u),o?e.classBindings=a:e.styleBindings=a}(i,o,e,n,a,r)}}(u,t,c,r),e!==Ar&&Lo(s,c,e))&&(null==n&&(a=function(){var t=ue.lFrame;return null===t?null:t.currentSanitizer}())&&(n=a),function(t,e,n,r,i,o,a,s){if(3===e.type){var u=t.data,c=u[s+1];da(1==(1&c)?fa(u,e,n,i,Fr(c),a):void 0)||(da(o)||2==(2&c)&&(o=fa(u,null,n,i,s,a)),function(t,e,n,r,i){var o=Qt(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{var a=-1==r.indexOf("-")?void 0:2;null==i?o?t.removeStyle(n,r,a):n.style.removeProperty(r):o?t.setStyle(n,r,i,a):n.style.setProperty(r,i)}}(r,a,Xt(Ne(),n),i,o))}}(u,u.data[Ne()+20],s,s[11],t,s[c+1]=function(t,e){return null==t||("function"==typeof e?t=e(t):"string"==typeof e?t+=e:"object"==typeof t&&(t=L(xn(t)))),t}(e,n),r,c))}function la(t,e,n,r,i){var o=null,a=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<a&&(r=ha(r,(o=e[s]).hostAttrs,i),o!==t);)s++;return null!==t&&(n.directiveStylingLast=s),r}function ha(t,e,n){var r,i,o,a,s=n?1:2,u=-1;if(null!==e)for(var c=0;c<e.length;c++){var l=e[c];"number"==typeof l?u=l:u===s&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),r=t,i=l,o=!!n||e[++c],a=void 0,(a=wt(r,i))>=0?r[1|a]=o:function(t,e,n,r){var i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(r,a=~a,i,o))}return void 0===t?null:t}function fa(t,e,n,r,i,o){for(var a=null===e,s=void 0;i>0;){var u=t[i],c=Array.isArray(u),l=c?u[1]:u,h=null===l,f=n[i+1];f===Ar&&(f=h?ia:void 0);var d=h?_t(f,r):l===r?f:void 0;if(c&&!da(d)&&(d=_t(u,r)),da(d)&&(s=d,a))return s;var p=t[i+1];i=a?Mr(p):Fr(p)}if(null!==e){var v=o?e.residualClasses:e.residualStyles;null!=v&&(s=_t(v,r))}return s}function da(t){return void 0!==t}function pa(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=le(),r=he(),i=t+20,o=r.firstCreatePass?Gr(r,n[6],t,3,null,null):r.data[i],a=n[i]=function(t,e){return Qt(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);Hi(r,n,a,o),pe(o,!1)}function va(t){return ya("",t,""),va}function ya(t,e,n){var r=le(),i=function(t,e,n,r){return Lo(t,_e(),n)?e+Xe(n)+r:Ar}(r,t,e,n);return i!==Ar&&function(t,e,n){var r=Xt(e,t),i=t[11];Qt(i)?i.setValue(r,n):r.textContent=n}(r,Ne(),i),ya}function ga(t,e,n){var r=le();return Lo(r,_e(),e)&&ni(he(),Pe(),r,t,e,r[11],n,!0),ga}function ma(t,e){var n=ne(t)[1],r=n.data.length-1;Le(n,{directiveStart:r,directiveEnd:r+1})}function ba(t){for(var e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0,r=[t];e;){var i=void 0;if(zt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);var o=t;o.inputs=_a(t.inputs),o.declaredInputs=_a(t.declaredInputs),o.outputs=_a(t.outputs);var a=i.hostBindings;a&&Ca(t,a);var s=i.viewQuery,u=i.contentQueries;if(s&&wa(t,s),u&&ka(t,u),S(t.inputs,i.inputs),S(t.declaredInputs,i.declaredInputs),S(t.outputs,i.outputs),zt(i)&&i.data.animation){var c=t.data;c.animation=(c.animation||[]).concat(i.data.animation)}o.afterContentChecked=o.afterContentChecked||i.afterContentChecked,o.afterContentInit=t.afterContentInit||i.afterContentInit,o.afterViewChecked=t.afterViewChecked||i.afterViewChecked,o.afterViewInit=t.afterViewInit||i.afterViewInit,o.doCheck=t.doCheck||i.doCheck,o.onDestroy=t.onDestroy||i.onDestroy,o.onInit=t.onInit||i.onInit}var l=i.features;if(l)for(var h=0;h<l.length;h++){var f=l[h];f&&f.ngInherit&&f(t),f===ba&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){for(var e=0,n=null,r=t.length-1;r>=0;r--){var i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ge(i.hostAttrs,n=Ge(n,i.hostAttrs))}}(r)}function _a(t){return t===St?{}:t===Et?[]:t}function wa(t,e){var n=t.viewQuery;t.viewQuery=n?function(t,r){e(t,r),n(t,r)}:e}function ka(t,e){var n=t.contentQueries;t.contentQueries=n?function(t,r,i){e(t,r,i),n(t,r,i)}:e}function Ca(t,e){var n=t.hostBindings;t.hostBindings=n?function(t,r){e(t,r),n(t,r)}:e}var Sa=function(){function t(e,n,r){_classCallCheck(this,t),this.previousValue=e,this.currentValue=n,this.firstChange=r}return _createClass(t,[{key:"isFirstChange",value:function(){return this.firstChange}}]),t}();function Ea(t){t.type.prototype.ngOnChanges&&(t.setInput=Ta,t.onChanges=function(){var t=Ia(this),e=t&&t.current;if(e){var n=t.previous;if(n===St)t.previous=e;else for(var r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}})}function Ta(t,e,n,r){var i=Ia(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:St,current:null}),o=i.current||(i.current={}),a=i.previous,s=this.declaredInputs[n],u=a[s];o[s]=new Sa(u&&u.currentValue,e,a===St),t[r]=e}function Ia(t){return t.__ngSimpleChanges__||null}function Oa(t,e,n,r,i){if(t=F(t),Array.isArray(t))for(var o=0;o<t.length;o++)Oa(t[o],e,n,r,i);else{var a=he(),s=le(),u=_o(t)?t:F(t.provide),c=go(t),l=de(),h=65535&l.providerIndexes,f=l.directiveStart,d=l.providerIndexes>>16;if(_o(t)||!t.multi){var p=new qe(c,i,Uo),v=Da(u,e,i?h:h+d,f);-1===v?(cn(on(l,s),a,u),Aa(a,t,e.length),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=65536),n.push(p),s.push(p)):(n[v]=p,s[v]=p)}else{var y=Da(u,e,h+d,f),g=Da(u,e,h,h+d),m=y>=0&&n[y],b=g>=0&&n[g];if(i&&!b||!i&&!m){cn(on(l,s),a,u);var _=function(t,e,n,r,i){var o=new qe(t,n,Uo);return o.multi=[],o.index=e,o.componentProviders=0,xa(o,i,r&&!n),o}(i?Ra:Na,n.length,i,r,c);!i&&b&&(n[g].providerFactory=_),Aa(a,t,e.length,0),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=65536),n.push(_),s.push(_)}else Aa(a,t,y>-1?y:g,xa(n[i?g:y],c,!i&&r));!i&&r&&b&&n[g].componentProviders++}}}function Aa(t,e,n,r){var i=_o(e);if(i||e.useClass){var o=(e.useClass||e).prototype.ngOnDestroy;if(o){var a=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){var s=a.indexOf(n);-1===s?a.push(n,[r,o]):a[s+1].push(r,o)}else a.push(n,o)}}}function xa(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Da(t,e,n,r){for(var i=n;i<r;i++)if(e[i]===t)return i;return-1}function Na(t,e,n,r){return Pa(this.multi,[])}function Ra(t,e,n,r){var i,o=this.multi;if(this.providerFactory){var a=this.providerFactory.componentProviders,s=pn(n,n[1],this.providerFactory.index,r);Pa(o,i=s.slice(0,a));for(var u=a;u<s.length;u++)i.push(s[u])}else Pa(o,i=[]);return i}function Pa(t,e){for(var n=0;n<t.length;n++)e.push((0,t[n])());return e}function La(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,r){return function(t,e,n){var r=he();if(r.firstCreatePass){var i=zt(t);Oa(n,r.data,r.blueprint,i,!0),Oa(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}}Ea.ngInherit=!0;var ja=function t(){_classCallCheck(this,t)},Ma=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"resolveComponentFactory",value:function(t){throw function(t){var e=Error("No component factory found for ".concat(L(t),". Did you add it to @NgModule.entryComponents?"));return e.ngComponent=t,e}(t)}}]),t}(),Va=function(){var t=function t(){_classCallCheck(this,t)};return t.NULL=new Ma,t}(),Fa=function(){var t=function t(e){_classCallCheck(this,t),this.nativeElement=e};return t.__NG_ELEMENT_ID__=function(){return Ua(t)},t}(),Ua=function(t){return eo(t,de(),le())},qa=function t(){_classCallCheck(this,t)},Ba=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}(),Ha=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return za()},t}(),za=function(){var t=le(),e=ee(de().index,t);return function(t){var e=t[11];if(Qt(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Ft(e)?e:t)},Ga=function(){var t=function t(){_classCallCheck(this,t)};return t.\u0275prov=E({token:t,providedIn:"root",factory:function(){return null}}),t}(),Wa=function t(e){_classCallCheck(this,t),this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")},Ka=new Wa("9.1.13"),Qa=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"supports",value:function(t){return No(t)}},{key:"create",value:function(t){return new Za(t)}}]),t}(),Ya=function(t,e){return e},Za=function(){function t(e){_classCallCheck(this,t),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Ya}return _createClass(t,[{key:"forEachItem",value:function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)}},{key:"forEachOperation",value:function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<ts(n,r,i)?e:n,a=ts(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,c=s-r;if(u!=c){for(var l=0;l<u;l++){var h=l<i.length?i[l]:i[l]=0,f=h+l;c<=f&&f<u&&(i[l]=h+1)}i[o.previousIndex]=c-u}}a!==s&&t(o,a,s)}}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachMovedItem",value:function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"forEachIdentityChange",value:function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}},{key:"diff",value:function(t){if(null==t&&(t=[]),!No(t))throw new Error("Error trying to diff '".concat(L(t),"'. Only arrays and iterables are allowed"));return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(var s=0;s<this.length;s++)r=t[s],i=this._trackByFn(s,r),null!==o&&xo(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),xo(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r,i=t[Ao()]();!(r=i.next()).done;)e(r.value)}(t,(function(t){i=e._trackByFn(n,t),null!==o&&xo(o.trackById,i)?(a&&(o=e._verifyReinsertion(o,t,i,n)),xo(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),a=!0),o=o._next,n++})),this.length=n;return this._truncate(o),this.collection=t,this.isDirty}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}},{key:"_reset",value:function(){if(this.isDirty){var t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(xo(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(xo(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Xa(e,n),i,r),t}},{key:"_verifyReinsertion",value:function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}},{key:"_truncate",value:function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_moveAfter",value:function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_addAfter",value:function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}},{key:"_insertAfter",value:function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new $a),this._linkedRecords.put(t),t.currentIndex=n,t}},{key:"_remove",value:function(t){return this._addToRemovals(this._unlink(t))}},{key:"_unlink",value:function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}},{key:"_addToMoves",value:function(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}},{key:"_addToRemovals",value:function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new $a),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}},{key:"_addIdentityChange",value:function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}]),t}(),Xa=function t(e,n){_classCallCheck(this,t),this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},Ja=function(){function t(){_classCallCheck(this,t),this._head=null,this._tail=null}return _createClass(t,[{key:"add",value:function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}},{key:"get",value:function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&xo(n.trackById,t))return n;return null}},{key:"remove",value:function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}]),t}(),$a=function(){function t(){_classCallCheck(this,t),this.map=new Map}return _createClass(t,[{key:"put",value:function(t){var e=t.trackById,n=this.map.get(e);n||(n=new Ja,this.map.set(e,n)),n.add(t)}},{key:"get",value:function(t,e){var n=this.map.get(t);return n?n.get(t,e):null}},{key:"remove",value:function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}},{key:"isEmpty",get:function(){return 0===this.map.size}},{key:"clear",value:function(){this.map.clear()}}]),t}();function ts(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var es=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"supports",value:function(t){return t instanceof Map||Ro(t)}},{key:"create",value:function(){return new ns}}]),t}(),ns=function(){function t(){_classCallCheck(this,t),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return _createClass(t,[{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}},{key:"forEachItem",value:function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachChangedItem",value:function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"diff",value:function(t){if(t){if(!(t instanceof Map||Ro(t)))throw new Error("Error trying to diff '".concat(L(t),"'. Only maps and objects are allowed"))}else t=new Map;return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}},{key:"_getOrCreateRecordForKey",value:function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new rs(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(t,e){xo(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}},{key:"_addToAdditions",value:function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}},{key:"_addToChanges",value:function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}},{key:"_forEach",value:function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach((function(n){return e(t[n],n)}))}}]),t}(),rs=function t(e){_classCallCheck(this,t),this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},is=function(){var t=function(){function t(e){_classCallCheck(this,t),this.factories=e}return _createClass(t,[{key:"find",value:function(t){var e,n=this.factories.find((function(e){return e.supports(t)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'"))}}],[{key:"create",value:function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new w,new b]]}}}]),t}();return t.\u0275prov=E({token:t,providedIn:"root",factory:function(){return new t([new Qa])}}),t}(),os=function(){var t=function(){function t(e){_classCallCheck(this,t),this.factories=e}return _createClass(t,[{key:"find",value:function(t){var e=this.factories.find((function(e){return e.supports(t)}));if(e)return e;throw new Error("Cannot find a differ supporting object '".concat(t,"'"))}}],[{key:"create",value:function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new w,new b]]}}}]),t}();return t.\u0275prov=E({token:t,providedIn:"root",factory:function(){return new t([new es])}}),t}(),as=[new es],ss=new is([new Qa]),us=new os(as),cs=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return ls(t,Fa)},t}(),ls=function(t,e){return no(t,e,de(),le())},hs=function(){var t=function t(){_classCallCheck(this,t)};return t.__NG_ELEMENT_ID__=function(){return fs(t,Fa)},t}(),fs=function(t,e){return ro(t,e,de(),le())},ds={},ps=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this)).ngModule=t,r}return _createClass(n,[{key:"resolveComponentFactory",value:function(t){var e=jt(t);return new gs(e,this.ngModule)}}]),n}(Va);function vs(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}var ys=new tt("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return $e}}),gs=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this)).componentDef=t,i.ngModule=r,i.componentType=t.type,i.selector=t.selectors.map(Or).join(","),i.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],i.isBoundToModule=!!r,i}return _createClass(n,[{key:"inputs",get:function(){return vs(this.componentDef.inputs)}},{key:"outputs",get:function(){return vs(this.componentDef.outputs)}},{key:"create",value:function(t,e,n,r){var i,o,a=(r=r||this.ngModule)?function(t,e){return{get:function(n,r,i){var o=t.get(n,ds,i);return o!==ds||r===ds?o:e.get(n,r,i)}}}(t,r.injector):t,s=a.get(qa,Yt),u=a.get(Ga,null),c=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",h=n?function(t,e,n){if(Qt(t))return t.selectRootElement(e,n===Ct.ShadowDom);var r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(c,n,this.componentDef.encapsulation):Hr(l,s.createRenderer(null,this.componentDef),function(t){var e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),f=this.componentDef.onPush?576:528,d="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),p={components:[],scheduler:$e,clean:Ci,playerHandler:null,flags:0},v=$r(0,-1,null,1,0,null,null,null,null,null),y=zr(null,v,p,f,null,null,s,c,u,a);Te(y,null);try{var g=function(t,e,n,r,i,o){var a=n[1];n[20]=t;var s=Gr(a,null,0,3,null,null),u=s.mergedAttrs=e.hostAttrs;null!==u&&(Io(s,u,!0),null!==t&&(Be(i,t,u),null!==s.classes&&Yi(i,t,s.classes),null!==s.styles&&Qi(i,t,s.styles)));var c=r.createRenderer(t,e),l=zr(n,Jr(e),null,e.onPush?64:16,n[20],s,r,c,void 0);return a.firstCreatePass&&(cn(on(s,n),a,e.type),ui(a,s),li(s,n.length,1)),mi(n,l),n[20]=l}(h,this.componentDef,y,s,c);if(h)if(n)Be(c,h,["ng-version",Ka.full]);else{var m=function(t){for(var e=[],n=[],r=1,i=2;r<t.length;){var o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Cr(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]),b=m.attrs,_=m.classes;b&&Be(c,h,b),_&&_.length>0&&Yi(c,h,_.join(" "))}if(o=$t(v,0),void 0!==e)for(var w=o.projection=[],k=0;k<this.ngContentSelectors.length;k++){var C=e[k];w.push(null!=C?Array.from(C):null)}i=function(t,e,n,r,i){var o=n[1],a=function(t,e,n){var r=de();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),si(t,r,1),hi(t,e,n));var i=pn(e,t,e.length-1,r);vr(i,e);var o=Jt(r,e);return o&&vr(o,e),i}(o,n,e);r.components.push(a),t[8]=a,i&&i.forEach((function(t){return t(a,e)})),e.contentQueries&&e.contentQueries(1,a,n.length-1);var s=de();if(o.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){Re(s.index-20);var u=n[1];ii(u,e),oi(u,n,e.hostVars),ai(e,a)}return a}(g,this.componentDef,y,p,[ma]),Wr(v,y,null)}finally{De()}var S=new ms(this.componentType,i,eo(Fa,o,y),y,o);return n&&!d||(v.node.child=o),S}}]),n}(ja),ms=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o,a){var s,u,c,l;return _classCallCheck(this,n),(s=e.call(this)).location=i,s._rootLView=o,s._tNode=a,s.destroyCbs=[],s.instance=r,s.hostView=s.changeDetectorRef=new to(o),u=o[1],c=o,null==(l=u.node)&&(u.node=l=ti(0,null,2,-1,null,null)),c[6]=l,s.componentType=t,s}return _createClass(n,[{key:"injector",get:function(){return new gn(this._tNode,this._rootLView)}},{key:"destroy",value:function(){this.destroyCbs&&(this.destroyCbs.forEach((function(t){return t()})),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}},{key:"onDestroy",value:function(t){this.destroyCbs&&this.destroyCbs.push(t)}}]),n}(function(){return function t(){_classCallCheck(this,t)}}()),bs=void 0,_s=["en",[["a","p"],["AM","PM"],bs],[["AM","PM"],bs,bs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],bs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],bs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",bs,"{1} 'at' {0}",bs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],ws={};function ks(t,e,n){"string"!=typeof e&&(n=e,e=t[Is.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),ws[e]=t,n&&(ws[e][Is.ExtraData]=n)}function Cs(t){var e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t),n=Ts(e);if(n)return n;var r=e.split("-")[0];if(n=Ts(r))return n;if("en"===r)return _s;throw new Error('Missing locale data for the locale "'.concat(t,'".'))}function Ss(t){return Cs(t)[Is.CurrencyCode]||null}function Es(t){return Cs(t)[Is.PluralCase]}function Ts(t){return t in ws||(ws[t]=W.ng&&W.ng.common&&W.ng.common.locales&&W.ng.common.locales[t]),ws[t]}var Is=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,Directionality:19,PluralCase:20,ExtraData:21};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencyCode]="CurrencyCode",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.Directionality]="Directionality",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}();function Os(t){var e;null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: Expected localeId to be defined"+" [Expected=> null != ".concat(e," <=Actual]"))}(0,e),"string"==typeof t&&t.toLowerCase().replace(/_/g,"-")}var As=new Map,xs=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;_classCallCheck(this,n),(i=e.call(this))._parent=r,i._bootstrapComponents=[],i.injector=_assertThisInitialized(i),i.destroyCbs=[],i.componentFactoryResolver=new ps(_assertThisInitialized(i));var o=Vt(t),a=t[X]||null;return a&&Os(a),i._bootstrapComponents=tn(o.bootstrap),i._r3Injector=po(t,r,[{provide:pt,useValue:_assertThisInitialized(i)},{provide:Va,useValue:i.componentFactoryResolver}],L(t)),i._r3Injector._resolveInjectorDefTypes(),i.instance=i.get(t),i}return _createClass(n,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ko.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k.Default;return t===ko||t===pt||t===et?this:this._r3Injector.get(t,e,n)}},{key:"destroy",value:function(){var t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach((function(t){return t()})),this.destroyCbs=null}},{key:"onDestroy",value:function(t){this.destroyCbs.push(t)}}]),n}(pt),Ds=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this)).moduleType=t,null!==Vt(t)&&function t(e){if(null!==e.\u0275mod.id){var n=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error("Duplicate module registered for ".concat(t," - ").concat(L(e)," vs ").concat(L(e.name)))})(n,As.get(n),e),As.set(n,e)}var r=e.\u0275mod.imports;r instanceof Function&&(r=r()),r&&r.forEach((function(e){return t(e)}))}(t),r}return _createClass(n,[{key:"create",value:function(t){return new xs(this.moduleType,t)}}]),n}(vt);function Ns(t,e,n){var r=be()+t,i=le();return i[r]===Ar?Po(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function Rs(t,e,n,r){return function(t,e,n,r,i,o){var a=e+n;return Lo(t,a,i)?Po(t,a+1,o?r.call(o,i):r(i)):Ls(t,a+1)}(le(),be(),t,e,n,r)}function Ps(t,e,n,r,i){return function(t,e,n,r,i,o,a){var s=e+n;return jo(t,s,i,o)?Po(t,s+2,a?r.call(a,i,o):r(i,o)):Ls(t,s+2)}(le(),be(),t,e,n,r,i)}function Ls(t,e){var n=t[e];return n===Ar?void 0:n}function js(t,e){var n,r=he(),i=t+20;r.firstCreatePass?(n=function(t,e){if(e)for(var n=e.length-1;n>=0;n--){var r=e[n];if(t===r.name)return r}throw new Error("The pipe '".concat(t,"' could not be found!"))}(e,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(i,n.onDestroy)):n=r.data[i];var o=n.factory||(n.factory=Mt(n.type)),a=st(Uo),s=nn(!1),u=o();return nn(s),st(a),function(t,e,n,r){var i=n+20;i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),e[i]=r}(r,le(),t,u),u}function Ms(t,e,n,r,i){var o=le(),a=te(o,t);return function(t,e){return Do.isWrapped(e)&&(e=Do.unwrap(e),t[ue.lFrame.bindingIndex]=Ar),e}(o,function(t,e){return t[1].data[e+20].pure}(o,t)?function(t,e,n,r,i,o,a,s){var u=e+n;return function(t,e,n,r,i){var o=jo(t,e,n,r);return Lo(t,e+2,i)||o}(t,u,i,o,a)?Po(t,u+3,s?r.call(s,i,o,a):r(i,o,a)):Ls(t,u+3)}(o,be(),e,a.transform,n,r,i,a):a.transform(n,r,i))}var Vs=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck(this,n),(t=e.call(this)).__isAsync=r,t}return _createClass(n,[{key:"emit",value:function(t){_get(_getPrototypeOf(n.prototype),"next",this).call(this,t)}},{key:"subscribe",value:function(t,e,r){var o,a=function(t){return null},s=function(){return null};t&&"object"==typeof t?(o=this.__isAsync?function(e){setTimeout((function(){return t.next(e)}))}:function(e){t.next(e)},t.error&&(a=this.__isAsync?function(e){setTimeout((function(){return t.error(e)}))}:function(e){t.error(e)}),t.complete&&(s=this.__isAsync?function(){setTimeout((function(){return t.complete()}))}:function(){t.complete()})):(o=this.__isAsync?function(e){setTimeout((function(){return t(e)}))}:function(e){t(e)},e&&(a=this.__isAsync?function(t){setTimeout((function(){return e(t)}))}:function(t){e(t)}),r&&(s=this.__isAsync?function(){setTimeout((function(){return r()}))}:function(){r()}));var u=_get(_getPrototypeOf(n.prototype),"subscribe",this).call(this,o,a,s);return t instanceof i.a&&t.add(u),u}}]),n}(r.a);function Fs(){return this._results[Ao()]()}var Us=function(){function t(){_classCallCheck(this,t),this.dirty=!0,this._results=[],this.changes=new Vs,this.length=0;var e=Ao(),n=t.prototype;n[e]||(n[e]=Fs)}return _createClass(t,[{key:"map",value:function(t){return this._results.map(t)}},{key:"filter",value:function(t){return this._results.filter(t)}},{key:"find",value:function(t){return this._results.find(t)}},{key:"reduce",value:function(t,e){return this._results.reduce(t,e)}},{key:"forEach",value:function(t){this._results.forEach(t)}},{key:"some",value:function(t){return this._results.some(t)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(t){this._results=function t(e,n){void 0===n&&(n=e);for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),t}(),qs=function(){function t(e){_classCallCheck(this,t),this.queryList=e,this.matches=null}return _createClass(t,[{key:"clone",value:function(){return new t(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),t}(),Bs=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,t),this.queries=e}return _createClass(t,[{key:"createEmbeddedView",value:function(e){var n=e.queries;if(null!==n){for(var r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[],o=0;o<r;o++){var a=n.getByIndex(o);i.push(this.queries[a.indexInDeclarationView].clone())}return new t(i)}return null}},{key:"insertView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"detachView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"dirtyQueriesWithMatches",value:function(t){for(var e=0;e<this.queries.length;e++)null!==eu(t,e).matches&&this.queries[e].setDirty()}}]),t}(),Hs=function t(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,t),this.predicate=e,this.descendants=n,this.isStatic=r,this.read=i},zs=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,t),this.queries=e}return _createClass(t,[{key:"elementStart",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}},{key:"elementEnd",value:function(t){for(var e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}},{key:"embeddedTView",value:function(e){for(var n=null,r=0;r<this.length;r++){var i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new t(n):null}},{key:"template",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}},{key:"getByIndex",value:function(t){return this.queries[t]}},{key:"length",get:function(){return this.queries.length}},{key:"track",value:function(t){this.queries.push(t)}}]),t}(),Gs=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;_classCallCheck(this,t),this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return _createClass(t,[{key:"elementStart",value:function(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}},{key:"elementEnd",value:function(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(t,e){this.elementStart(t,e)}},{key:"embeddedTView",value:function(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}},{key:"isApplyingToNode",value:function(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){for(var e=this._declarationNodeIndex,n=t.parent;null!==n&&4===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(t,e){if(Array.isArray(this.metadata.predicate))for(var n=this.metadata.predicate,r=0;r<n.length;r++)this.matchTNodeWithReadOption(t,e,Ws(e,n[r]));else{var i=this.metadata.predicate;i===cs?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,dn(e,t,i,!1,!1))}}},{key:"matchTNodeWithReadOption",value:function(t,e,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===Fa||r===hs||r===cs&&0===e.type)this.addMatch(e.index,-2);else{var i=dn(e,t,r,!1,!1);null!==i&&this.addMatch(e.index,i)}else this.addMatch(e.index,n)}}},{key:"addMatch",value:function(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}]),t}();function Ws(t,e){var n=t.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Ks(t,e,n,r){return-1===n?function(t,e){return 3===t.type||4===t.type?eo(Fa,t,e):0===t.type?no(cs,Fa,t,e):null}(e,t):-2===n?function(t,e,n){return n===Fa?eo(Fa,e,t):n===cs?no(cs,Fa,e,t):n===hs?ro(hs,Fa,e,t):void 0}(t,e,r):pn(t,t[1],n,e)}function Qs(t,e,n,r){var i=e[19].queries[r];if(null===i.matches){for(var o=t.data,a=n.matches,s=[],u=0;u<a.length;u+=2){var c=a[u];s.push(c<0?null:Ks(e,o[c],a[u+1],n.metadata.read))}i.matches=s}return i.matches}function Ys(t){var e=le(),n=he(),r=Ce();Se(r+1);var i=eu(n,r);if(t.dirty&&re(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{var o=i.crossesNgTemplate?function t(e,n,r,i){var o=e.queries.getByIndex(r),a=o.matches;if(null!==a)for(var s=Qs(e,n,o,r),u=0;u<a.length;u+=2){var c=a[u];if(c>0)i.push(s[u/2]);else{for(var l=a[u+1],h=n[-c],f=10;f<h.length;f++){var d=h[f];d[17]===d[3]&&t(d[1],d,l,i)}if(null!==h[9])for(var p=h[9],v=0;v<p.length;v++){var y=p[v];t(y[1],y,l,i)}}}return i}(n,e,r,[]):Qs(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function Zs(t,e,n){!function(t,e,n,r,i,o){t.firstCreatePass&&(tu(t,new Hs(n,r,!0,i),-1),t.staticViewQueries=!0),$s(t,e)}(he(),le(),t,e,n)}function Xs(t,e,n,r){!function(t,e,n,r,i,o,a,s){t.firstCreatePass&&(tu(t,new Hs(n,r,!1,i),a.index),function(t,e){var n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,s)),$s(t,e)}(he(),le(),e,n,r,0,de(),t)}function Js(){return t=le(),e=Ce(),t[19].queries[e].queryList;var t,e}function $s(t,e){var n=new Us;!function(t,e,n,r){var i=Si(e);i.push(n),t.firstCreatePass&&Ei(t).push(r,i.length-1)}(t,e,n,n.destroy),null===e[19]&&(e[19]=new Bs),e[19].queries.push(new qs(n))}function tu(t,e,n){null===t.queries&&(t.queries=new zs),t.queries.track(new Gs(e,n))}function eu(t,e){return t.queries.getByIndex(e)}function nu(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k.Default,e=io(!0);if(null!=e||t&k.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}var ru=new tt("Application Initializer"),iu=function(){var t=function(){function t(e){var n=this;_classCallCheck(this,t),this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(t,e){n.resolve=t,n.reject=e}))}return _createClass(t,[{key:"runInitializers",value:function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();Yo(i)&&e.push(i)}Promise.all(e).then((function(){n()})).catch((function(e){t.reject(e)})),0===e.length&&n(),this.initialized=!0}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(ct(ru,8))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t}(),ou=new tt("AppId"),au={provide:ou,useFactory:function(){return"".concat(su()).concat(su()).concat(su())},deps:[]};function su(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var uu=new tt("Platform Initializer"),cu=new tt("Platform ID"),lu=new tt("appBootstrapListener"),hu=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"log",value:function(t){console.log(t)}},{key:"warn",value:function(t){console.warn(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t}(),fu=new tt("LocaleId"),du=new tt("DefaultCurrencyCode"),pu=function t(e,n){_classCallCheck(this,t),this.ngModuleFactory=e,this.componentFactories=n},vu=function(t){return new Ds(t)},yu=vu,gu=function(t){return Promise.resolve(vu(t))},mu=function(t){var e=vu(t),n=tn(Vt(t).declarations).reduce((function(t,e){var n=jt(e);return n&&t.push(new gs(n)),t}),[]);return new pu(e,n)},bu=mu,_u=function(t){return Promise.resolve(mu(t))},wu=function(){var t=function(){function t(){_classCallCheck(this,t),this.compileModuleSync=yu,this.compileModuleAsync=gu,this.compileModuleAndAllComponentsSync=bu,this.compileModuleAndAllComponentsAsync=_u}return _createClass(t,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(t){}},{key:"getModuleId",value:function(t){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t}(),ku=new tt("compilerOptions"),Cu=Promise.resolve(0);function Su(t){"undefined"==typeof Zone?Cu.then((function(){t&&t.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var Eu=function(){function t(e){var n,r,i=e.enableLongStackTrace,o=void 0!==i&&i,a=e.shouldCoalesceEventChangeDetection,s=void 0!==a&&a;if(_classCallCheck(this,t),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Vs(!1),this.onMicrotaskEmpty=new Vs(!1),this.onStable=new Vs(!1),this.onError=new Vs(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=s,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var t=W.requestAnimationFrame,e=W.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){var n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);var r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,r=!!(n=this).shouldCoalesceEventChangeDetection&&n.nativeRequestAnimationFrame&&function(){!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(W,(function(){t.lastRequestAnimationFrameId=-1,Au(t),Ou(t)})),Au(t))}(n)},n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:r},onInvokeTask:function(t,e,i,o,a,s){try{return xu(n),t.invokeTask(i,o,a,s)}finally{r&&"eventTask"===o.type&&r(),Du(n)}},onInvoke:function(t,e,r,i,o,a,s){try{return xu(n),t.invoke(r,i,o,a,s)}finally{Du(n)}},onHasTask:function(t,e,r,i){t.hasTask(r,i),e===r&&("microTask"==i.change?(n._hasPendingMicrotasks=i.microTask,Au(n),Ou(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,e,r,i){return t.handleError(r,i),n.runOutsideAngular((function(){return n.onError.emit(i)})),!1}})}return _createClass(t,[{key:"run",value:function(t,e,n){return this._inner.run(t,e,n)}},{key:"runTask",value:function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,Iu,Tu,Tu);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}},{key:"runGuarded",value:function(t,e,n){return this._inner.runGuarded(t,e,n)}},{key:"runOutsideAngular",value:function(t){return this._outer.run(t)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),t}();function Tu(){}var Iu={};function Ou(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular((function(){return t.onStable.emit(null)}))}finally{t.isStable=!0}}}function Au(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function xu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Du(t){t._nesting--,Ou(t)}var Nu=function(){function t(){_classCallCheck(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Vs,this.onMicrotaskEmpty=new Vs,this.onStable=new Vs,this.onError=new Vs}return _createClass(t,[{key:"run",value:function(t,e,n){return t.apply(e,n)}},{key:"runGuarded",value:function(t,e,n){return t.apply(e,n)}},{key:"runOutsideAngular",value:function(t){return t()}},{key:"runTask",value:function(t,e,n,r){return t.apply(e,n)}}]),t}(),Ru=function(){var t=function(){function t(e){var n=this;_classCallCheck(this,t),this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run((function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return _createClass(t,[{key:"_watchAngularEvents",value:function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){t._ngZone.onStable.subscribe({next:function(){Eu.assertNotInAngularZone(),Su((function(){t._isZoneStable=!0,t._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var t=this;if(this.isStable())Su((function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1}));else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}})):[]}},{key:"addCallback",value:function(t,e,n){var r=this,i=-1;e&&e>0&&(i=setTimeout((function(){r._callbacks=r._callbacks.filter((function(t){return t.timeoutId!==i})),t(r._didWork,r.getPendingTasks())}),e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(t,e,n){return[]}}]),t}();return t.\u0275fac=function(e){return new(e||t)(ct(Eu))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t}(),Pu=function(){var t=function(){function t(){_classCallCheck(this,t),this._applications=new Map,Mu.addToWindow(this)}return _createClass(t,[{key:"registerApplication",value:function(t,e){this._applications.set(t,e)}},{key:"unregisterApplication",value:function(t){this._applications.delete(t)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(t){return this._applications.get(t)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Mu.findTestabilityInTree(this,t,e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t}();function Lu(t){Mu=t}var ju,Mu=new(function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"addToWindow",value:function(t){}},{key:"findTestabilityInTree",value:function(t,e,n){return null}}]),t}()),Vu=function(t,e,n){var r=t.get(ku,[]).concat(e),i=new Ds(n);if(0===So.size)return Promise.resolve(i);var o,a,s=(o=r.map((function(t){return t.providers})),a=[],o.forEach((function(t){return t&&a.push.apply(a,_toConsumableArray(t))})),a);if(0===s.length)return Promise.resolve(i);var u=function(){var t=W.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}(),c=ko.create({providers:s}).get(u.ResourceLoader);return function(t){var e=[],n=new Map;function r(t){var e=n.get(t);if(!e){var r=function(t){return Promise.resolve(c.get(t))}(t);n.set(t,e=r.then(To))}return e}return So.forEach((function(t,n){var i=[];t.templateUrl&&i.push(r(t.templateUrl).then((function(e){t.template=e})));var o=t.styleUrls,a=t.styles||(t.styles=[]),s=t.styles.length;o&&o.forEach((function(e,n){a.push(""),i.push(r(e).then((function(r){a[s+n]=r,o.splice(o.indexOf(e),1),0==o.length&&(t.styleUrls=void 0)})))}));var u=Promise.all(i).then((function(){return function(t){Eo.delete(t)}(n)}));e.push(u)})),So=new Map,Promise.all(e).then((function(){}))}().then((function(){return i}))},Fu=new tt("AllowMultipleToken"),Uu=function t(e,n){_classCallCheck(this,t),this.name=e,this.token=n};function qu(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: "+e,i=new tt(r);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=Bu();if(!o||o.injector.get(Fu,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{var a=n.concat(e).concat({provide:i,useValue:!0},{provide:so,useValue:"platform"});!function(t){if(ju&&!ju.destroyed&&!ju.injector.get(Fu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ju=t.get(Hu);var e=t.get(uu,null);e&&e.forEach((function(t){return t()}))}(ko.create({providers:a,name:r}))}return function(t){var e=Bu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Bu(){return ju&&!ju.destroyed?ju:null}var Hu=function(){var t=function(){function t(e){_classCallCheck(this,t),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return _createClass(t,[{key:"bootstrapModuleFactory",value:function(t,e){var n,r,i=this,o=(n=e?e.ngZone:void 0,r=e&&e.ngZoneEventCoalescing||!1,"noop"===n?new Nu:("zone.js"===n?void 0:n)||new Eu({enableLongStackTrace:Un(),shouldCoalesceEventChangeDetection:r})),a=[{provide:Eu,useValue:o}];return o.run((function(){var e=ko.create({providers:a,parent:i.injector,name:t.moduleType.name}),n=t.create(e),r=n.injector.get(Cn,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy((function(){return Ku(i._modules,n)})),o.runOutsideAngular((function(){return o.onError.subscribe({next:function(t){r.handleError(t)}})})),function(t,e,r){try{var o=((a=n.injector.get(iu)).runInitializers(),a.donePromise.then((function(){return Os(n.injector.get(fu,"en-US")||"en-US"),i._moduleDoBootstrap(n),n})));return Yo(o)?o.catch((function(n){throw e.runOutsideAngular((function(){return t.handleError(n)})),n})):o}catch(s){throw e.runOutsideAngular((function(){return t.handleError(s)})),s}var a}(r,o)}))}},{key:"bootstrapModule",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=zu({},n);return Vu(this.injector,r,t).then((function(t){return e.bootstrapModuleFactory(t,r)}))}},{key:"_moduleDoBootstrap",value:function(t){var e=t.injector.get(Wu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach((function(t){return e.bootstrap(t)}));else{if(!t.instance.ngDoBootstrap)throw new Error("The module ".concat(L(t.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));t.instance.ngDoBootstrap(e)}this._modules.push(t)}},{key:"onDestroy",value:function(t){this._destroyListeners.push(t)}},{key:"injector",get:function(){return this._injector}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(t){return t.destroy()})),this._destroyListeners.forEach((function(t){return t()})),this._destroyed=!0}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();return t.\u0275fac=function(e){return new(e||t)(ct(ko))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t}();function zu(t,e){return Array.isArray(e)?e.reduce(zu,t):Object.assign(Object.assign({},t),e)}var Gu,Wu=((Gu=function(){function t(e,n,r,i,s,c){var l=this;_classCallCheck(this,t),this._zone=e,this._console=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=s,this._initStatus=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Un(),this._zone.onMicrotaskEmpty.subscribe({next:function(){l._zone.run((function(){l.tick()}))}});var h=new o.a((function(t){l._stable=l._zone.isStable&&!l._zone.hasPendingMacrotasks&&!l._zone.hasPendingMicrotasks,l._zone.runOutsideAngular((function(){t.next(l._stable),t.complete()}))})),f=new o.a((function(t){var e;l._zone.runOutsideAngular((function(){e=l._zone.onStable.subscribe((function(){Eu.assertNotInAngularZone(),Su((function(){l._stable||l._zone.hasPendingMacrotasks||l._zone.hasPendingMicrotasks||(l._stable=!0,t.next(!0))}))}))}));var n=l._zone.onUnstable.subscribe((function(){Eu.assertInAngularZone(),l._stable&&(l._stable=!1,l._zone.runOutsideAngular((function(){t.next(!1)})))}));return function(){e.unsubscribe(),n.unsubscribe()}}));this.isStable=Object(a.a)(h,f.pipe((function(t){return u()((e=v,function(t){var n;n="function"==typeof e?e:function(){return e};var r=Object.create(t,d);return r.source=t,r.subjectFactory=n,r})(t));var e})))}return _createClass(t,[{key:"bootstrap",value:function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof ja?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var i=n.isBoundToModule?void 0:this._injector.get(pt),o=n.create(ko.NULL,[],e||n.selector,i);o.onDestroy((function(){r._unloadComponent(o)}));var a=o.injector.get(Ru,null);return a&&o.injector.get(Pu).registerApplication(o.location.nativeElement,a),this._loadComponent(o),Un()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o}},{key:"tick",value:function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var e,n=_createForOfIteratorHelper(this._views);try{for(n.s();!(e=n.n()).done;)e.value.detectChanges()}catch(o){n.e(o)}finally{n.f()}if(this._enforceNoNewChanges){var r,i=_createForOfIteratorHelper(this._views);try{for(i.s();!(r=i.n()).done;)r.value.checkNoChanges()}catch(o){i.e(o)}finally{i.f()}}}catch(a){this._zone.runOutsideAngular((function(){return t._exceptionHandler.handleError(a)}))}finally{this._runningTick=!1}}},{key:"attachView",value:function(t){var e=t;this._views.push(e),e.attachToAppRef(this)}},{key:"detachView",value:function(t){var e=t;Ku(this._views,e),e.detachFromAppRef()}},{key:"_loadComponent",value:function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(lu,[]).concat(this._bootstrapListeners).forEach((function(e){return e(t)}))}},{key:"_unloadComponent",value:function(t){this.detachView(t.hostView),Ku(this.components,t)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(t){return t.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),t}()).\u0275fac=function(t){return new(t||Gu)(ct(Eu),ct(hu),ct(ko),ct(Cn),ct(Va),ct(iu))},Gu.\u0275prov=E({token:Gu,factory:Gu.\u0275fac}),Gu);function Ku(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var Qu=function t(){_classCallCheck(this,t)},Yu=function t(){_classCallCheck(this,t)},Zu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Xu=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this._compiler=e,this._config=n||Zu}return _createClass(t,[{key:"load",value:function(t){return this.loadAndCompile(t)}},{key:"loadAndCompile",value:function(t){var e=this,r=_slicedToArray(t.split("#"),2),i=r[0],o=r[1];return void 0===o&&(o="default"),n("zn8P")(i).then((function(t){return t[o]})).then((function(t){return Ju(t,i,o)})).then((function(t){return e._compiler.compileModuleAsync(t)}))}},{key:"loadFactory",value:function(t){var e=_slicedToArray(t.split("#"),2),r=e[0],i=e[1],o="NgFactory";return void 0===i&&(i="default",o=""),n("zn8P")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then((function(t){return t[i+o]})).then((function(t){return Ju(t,r,i)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(ct(wu),ct(Yu,8))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t}();function Ju(t,e,n){if(!t)throw new Error("Cannot find '".concat(n,"' in '").concat(e,"'"));return t}var $u=function(t){return null},tc=qu(null,"core",[{provide:cu,useValue:"unknown"},{provide:Hu,deps:[ko]},{provide:Pu,deps:[]},{provide:hu,deps:[]}]),ec=[{provide:Wu,useClass:Wu,deps:[Eu,hu,ko,Cn,Va,iu]},{provide:ys,deps:[Eu],useFactory:function(t){var e=[];return t.onStable.subscribe((function(){for(;e.length;)e.pop()()})),function(t){e.push(t)}}},{provide:iu,useClass:iu,deps:[[new b,ru]]},{provide:wu,useClass:wu,deps:[]},au,{provide:is,useFactory:function(){return ss},deps:[]},{provide:os,useFactory:function(){return us},deps:[]},{provide:fu,useFactory:function(t){return Os(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new m(fu),new b,new w]]},{provide:du,useValue:"USD"}],nc=function(){var t=function t(e){_classCallCheck(this,t)};return t.\u0275mod=Dt({type:t}),t.\u0275inj=T({factory:function(e){return new(e||t)(ct(Wu))},providers:ec}),t}()},gRHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("2fFW"),i=n("NJ4a"),o={closed:!0,next:function(t){},error:function(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete:function(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a((function(n){var r=new i.a,o=0;return r.add(e.schedule((function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}},jmUF:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return T})),n.d(e,"b",(function(){return b})),n.d(e,"c",(function(){return m})),n.d(e,"d",(function(){return d})),n.d(e,"e",(function(){return g})),n.d(e,"f",(function(){return S})),n.d(e,"g",(function(){return w})),n.d(e,"h",(function(){return p})),n.d(e,"i",(function(){return y})),n.d(e,"j",(function(){return k}));var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),a=n("tf+s"),s=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}var h=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.a;_classCallCheck(this,t),this.zone=e,this.delegate=n}return _createClass(t,[{key:"now",value:function(){return this.delegate.now()}},{key:"schedule",value:function(t,e,n){var r=this.zone;return this.delegate.schedule((function(e){var n=this;r.runGuarded((function(){t.apply(n,[e])}))}),e,n)}}]),t}(),f=function(){function t(e){_classCallCheck(this,t),this.zone=e,this.task=null}return _createClass(t,[{key:"call",value:function(t,e){var n=this.unscheduleTask.bind(this);return this.task=this.zone.run((function(){return Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)})),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}},{key:"unscheduleTask",value:function(){var t=this;setTimeout((function(){null!=t.task&&"scheduled"===t.task.state&&(t.task.invoke(),t.task=null)}),10)}}]),t}(),d=function t(e){_classCallCheck(this,t),this.ngZone=e,this.outsideAngular=e.runOutsideAngular((function(){return new h(Zone.current)})),this.insideAngular=e.run((function(){return new h(Zone.current,i.a)}))};function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(a.a)(t.outsideAngular),Object(s.b)(t.insideAngular))}}var v=["ngOnDestroy"],y=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Proxy(t,{get:function(i,o){return n.runOutsideAngular((function(){var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(v.indexOf(o)>-1)return function(){};var a=e.toPromise().then((function(t){var e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then((function(t){return n.run((function(){return t}))})):n.run((function(){return e}))}));return new Proxy((function(){}),{get:function(t,e){return a[e]},apply:function(t,e,n){return a.then((function(t){var e,i=t&&t.apply(void 0,_toConsumableArray(n));return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i}))}})}))}})},g=function(t,e){e.forEach((function(e){Object.getOwnPropertyNames(e.prototype||e).forEach((function(n){Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))}))}))},m=new u.q("angularfire2.app.options"),b=new u.q("angularfire2.app.nameOrConfig"),_=new u.N("6.1.5");function w(e,n,r){var i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";var o=c.a.apps.filter((function(t){return t&&t.name===i.name}))[0]||n.runOutsideAngular((function(){return c.a.initializeApp(e,i)}));try{JSON.stringify(e)!==JSON.stringify(o.options)&&C("error","".concat(o.name," Firebase App already initialized with different options").concat(t.hot?", you may need to reload as Firebase is not HMR aware.":"."))}catch(a){}return o}var k=function(){C("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},C=function(t){for(var e,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Object(u.V)()&&"undefined"!=typeof console&&(e=console)[t].apply(e,r)};function S(e,n,r,i,o){var a=_toArray(globalThis.\u0275AngularfireInstanceCache.get(e)||[]),s=a[0],u=a.slice(1);if(s){try{o.some((function(t,e){var n=u[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n}))&&C("error","".concat(n," was already initialized on the ").concat(r.name," Firebase App instance with different settings.").concat(t.hot?" You may need to reload as Firebase is not HMR aware.":""))}catch(l){}return s}var c=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[c].concat(_toConsumableArray(o))),c}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);var E={provide:function t(){_classCallCheck(this,t)},useFactory:w,deps:[m,u.z,[new u.A,b]]},T=function(){var t=function(){function t(e){_classCallCheck(this,t),c.a.registerVersion("angularfire",_.full,e.toString()),c.a.registerVersion("angular",u.M.full)}return _createClass(t,null,[{key:"initializeApp",value:function(e,n){return{ngModule:t,providers:[{provide:m,useValue:e},{provide:b,useValue:n}]}}}]),t}();return t.\u0275mod=u.Jb({type:t}),t.\u0275inj=u.Ib({factory:function(e){return new(e||t)(u.Sb(u.B))},providers:[E]}),t}()}).call(this,n("3UD+")(t))},kJWO:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r="function"==typeof Symbol&&Symbol.observable||"@@observable"},l7GE:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}},{key:"notifyError",value:function(t,e){this.destination.error(t)}},{key:"notifyComplete",value:function(t){this.destination.complete()}}]),n}(n("7o/Q").a)},lJxs:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}var o=function(){function t(e,n){_classCallCheck(this,t),this.project=e,this.thisArg=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new a(t,this.project,this.thisArg))}}]),t}(),a=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).project=r,o.count=0,o.thisArg=i||_assertThisInitialized(o),o}return _createClass(n,[{key:"_next",value:function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(r.a)},mCNh:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("SpAZ");function i(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return o(e)}function o(t){return 0===t.length?r.a:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",(function(){return r}))},ngJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return h}));var r,i=n("7o/Q"),o=n("EY2u"),a=n("LRne"),s=n("HDdC"),u=((r=function(){function t(e,n,r){_classCallCheck(this,t),this.kind=e,this.value=n,this.error=r,this.hasValue="N"===e}return _createClass(t,[{key:"observe",value:function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}},{key:"do",value:function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}},{key:"accept",value:function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Object(a.a)(this.value);case"E":return t=this.error,new s.a((function(e){return e.error(t)}));case"C":return Object(o.b)()}var t;throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}},{key:"createError",value:function(e){return new t("E",void 0,e)}},{key:"createComplete",value:function(){return t.completeNotification}}]),t}()).completeNotification=new r("C"),r.undefinedValueNotification=new r("N",void 0),r);function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new l(t,e))}}var l=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,t),this.scheduler=e,this.delay=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new h(t,this.scheduler,this.delay))}}]),t}(),h=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _classCallCheck(this,n),(i=e.call(this,t)).scheduler=r,i.delay=o,i}return _createClass(n,[{key:"scheduleMessage",value:function(t){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new f(t,this.destination)))}},{key:"_next",value:function(t){this.scheduleMessage(u.createNext(t))}},{key:"_error",value:function(t){this.scheduleMessage(u.createError(t)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(u.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()}}]),n}(i.a),f=function t(e,n){_classCallCheck(this,t),this.notification=e,this.destination=n}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return d}));var o=[],a=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),s={debug:a.DEBUG,verbose:a.VERBOSE,info:a.INFO,warn:a.WARN,error:a.ERROR,silent:a.SILENT},u=a.INFO,c=((i={})[a.DEBUG]="log",i[a.VERBOSE]="log",i[a.INFO]="info",i[a.WARN]="warn",i[a.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),a=c[e];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[a].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in a))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?s[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.DEBUG],t)),this._logHandler.apply(this,r([this,a.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.VERBOSE],t)),this._logHandler.apply(this,r([this,a.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.INFO],t)),this._logHandler.apply(this,r([this,a.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.WARN],t)),this._logHandler.apply(this,r([this,a.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,a.ERROR],t)),this._logHandler.apply(this,r([this,a.ERROR],t))},t}();function f(t){o.forEach((function(e){e.setLogLevel(t)}))}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=s[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:a[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return _})),n.d(e,"c",(function(){return C})),n.d(e,"d",(function(){return c})),n.d(e,"e",(function(){return S})),n.d(e,"f",(function(){return a})),n.d(e,"g",(function(){return s})),n.d(e,"h",(function(){return I})),n.d(e,"i",(function(){return l})),n.d(e,"j",(function(){return d})),n.d(e,"k",(function(){return p})),n.d(e,"l",(function(){return y})),n.d(e,"m",(function(){return g})),n.d(e,"n",(function(){return h})),n.d(e,"o",(function(){return f})),n.d(e,"p",(function(){return v})),n.d(e,"q",(function(){return m}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},i=function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},o={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&s)<<2|c>>6,h=63&c;u||(h=64,a||(l=64)),r.push(n[o>>2],n[(3&o)<<4|s>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();r.push(o<<2|a>>4),64!==s&&(r.push(a<<4&240|s>>2),64!==u&&r.push(s<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};function a(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var u=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function c(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",r=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var s=i({iss:"https://securetoken.google.com/"+n,aud:n,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[o.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),o.encodeString(JSON.stringify(s),!1),""].join(".")}function l(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function h(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(l())}function f(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function d(){return"object"==typeof self&&self.self===self}function p(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function v(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function y(){return l().indexOf("Electron/")>=0}function g(){var t=l();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function m(){return l().indexOf("MSAppHost/")>=0}var b=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,_.prototype.create),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e}(Error),_=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?w(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new b(i,s,r);return u},t}();function w(t,e){return t.replace(k,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var k=/\{\$([^}]+)}/g;function C(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function S(t,e){var n=new E(t,e);return n.subscribe.bind(n)}var E=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=T),void 0===r.error&&(r.error=T),void 0===r.complete&&(r.complete=T);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function T(){}function I(t){return t&&t._delegate?t._delegate:t}},qgXg:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return _createClass(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e>0?_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}},{key:"execute",value:function(t,e){return e>0||this.closed?_get(_getPrototypeOf(n.prototype),"execute",this).call(this,t,e):this._execute(t,e)}},{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,t,e,r):t.flush(this)}}]),n}(n("3N8a").a),i=new(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return n}(n("IjjT").a))(r)},quSY:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r,i,o=n("DH7j"),a=n("XoHu"),s=n("n6bG"),u=function(){function t(t){return Error.call(this),this.message=t?"".concat(t.length," errors occurred during unsubscription:\n").concat(t.map((function(t,e){return"".concat(e+1,") ").concat(t.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),c=((i=function(){function t(e){_classCallCheck(this,t),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}return _createClass(t,[{key:"unsubscribe",value:function(){var e;if(!this.closed){var n=this._parentOrParents,r=this._unsubscribe,i=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var c=0;c<n.length;++c)n[c].remove(this);if(Object(s.a)(r))try{r.call(this)}catch(p){e=p instanceof u?l(p.errors):[p]}if(Object(o.a)(i))for(var h=-1,f=i.length;++h<f;){var d=i[h];if(Object(a.a)(d))try{d.unsubscribe()}catch(p){e=e||[],p instanceof u?e=e.concat(l(p.errors)):e.push(p)}}if(e)throw new u(e)}}},{key:"add",value:function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}]),t}()).EMPTY=((r=new i).closed=!0,r),i);function l(t){return t.reduce((function(t,e){return t.concat(e instanceof u?e.errors:e)}),[])}},"tf+s":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("7Hc7"),o=n("Y7HM"),a=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.a;return _classCallCheck(this,n),(r=e.call(this)).source=t,r.delayTime=a,r.scheduler=s,(!Object(o.a)(a)||a<0)&&(r.delayTime=0),s&&"function"==typeof s.schedule||(r.scheduler=i.a),r}return _createClass(n,[{key:"_subscribe",value:function(t){return this.scheduler.schedule(n.dispatch,this.delayTime,{source:this.source,subscriber:t})}}],[{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.a;return new n(t,e,r)}},{key:"dispatch",value:function(t){var e=t.source,n=t.subscriber;return this.add(e.subscribe(n))}}]),n}(r.a);function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new u(t,e))}}var u=function(){function t(e,n){_classCallCheck(this,t),this.scheduler=e,this.delay=n}return _createClass(t,[{key:"call",value:function(t,e){return new a(e,this.delay,this.scheduler).subscribe(t)}}]),t}()},vkgz:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("7o/Q");function i(){}var o=n("n6bG");function a(t,e,n){return function(r){return r.lift(new s(t,e,n))}}var s=function(){function t(e,n,r){_classCallCheck(this,t),this.nextOrObserver=e,this.error=n,this.complete=r}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}]),t}(),u=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,a,s){var u;return _classCallCheck(this,n),(u=e.call(this,t))._tapNext=i,u._tapError=i,u._tapComplete=i,u._tapError=a||i,u._tapComplete=s||i,Object(o.a)(r)?(u._context=_assertThisInitialized(u),u._tapNext=r):r&&(u._context=r,u._tapNext=r.next||i,u._tapError=r.error||i,u._tapComplete=r.complete||i),u}return _createClass(n,[{key:"_next",value:function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}},{key:"_error",value:function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}]),n}(r.a)},yCtX:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function a(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return r}))},zIRd:function(t,e,n){"use strict";var r,i,o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},a=n("qOnz"),s=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.b("app","Firebase",c),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),f=new u.b("@firebase/app"),d=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(a.f)(t),this.container=new s.b(e.name),this._addComponent(new s.a("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return r._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){var n;void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){f.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();d.prototype.name&&d.prototype.options||d.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name="[DEFAULT]");var s=o.name;if("string"!=typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if(Object(a.c)(e,s))throw l.create("duplicate-app",{appName:s});var u=new t(n,o,r);return e[s]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var a=i.match(/\s|\//),u=e.match(/\s|\//);if(a||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return a&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void f.warn(c.join(" "))}o(new s.a(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.6.8",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||"[DEFAULT]",!Object(a.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var s=o.name;if(n.has(s))return f.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[s])throw l.create("invalid-app-argument",{appName:s});return t[s]()};void 0!==o.serviceProps&&Object(a.g)(u,o.serviceProps),r[s]=u,t.prototype[s]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,s);return n.apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(d);return e.INTERNAL=o(o({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(a.g)(e,t)},createSubscribe:a.e,ErrorFactory:a.b,deepExtend:a.g}),e}(),v=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(a.j)()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var g=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(a.o)()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),g.apply(void 0,t)};var m,b=p;(m=b).INTERNAL.registerComponent(new s.a("platform-logger",(function(t){return new v(t)}),"PRIVATE")),m.registerVersion("@firebase/app","0.6.27",void 0),m.registerVersion("fire-js",""),e.a=b},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL"),i={apiKey:"AIzaSyCPqV3_yprSW1QvCljfhMzq3se9VBBr79Q",authDomain:"dashboard-83ca3.firebaseapp.com",projectId:"dashboard-83ca3",storageBucket:"dashboard-83ca3.appspot.com",messagingSenderId:"167613396197",appId:"1:167613396197:web:8c0df10a04dc094030100c"},o=null;function a(){return o}var s,u=new r.q("DocumentToken"),c=((s=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||s)},s.\u0275prov=Object(r.Hb)({factory:l,token:s,providedIn:"platform"}),s);function l(){return Object(r.Sb)(d)}var h,f=new r.q("Location Initialized"),d=((h=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this))._doc=t,r._init(),r}return _createClass(n,[{key:"_init",value:function(){this.location=a().getLocation(),this._history=a().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return a().getBaseHref(this._doc)}},{key:"onPopState",value:function(t){a().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}},{key:"onHashChange",value:function(t){a().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(t){this.location.pathname=t}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}},{key:"pushState",value:function(t,e,n){p()?this._history.pushState(t,e,n):this.location.hash=n}},{key:"replaceState",value:function(t,e,n){p()?this._history.replaceState(t,e,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}}]),n}(c)).\u0275fac=function(t){return new(t||h)(r.Sb(u))},h.\u0275prov=Object(r.Hb)({factory:v,token:h,providedIn:"platform"}),h);function p(){return!!window.history.pushState}function v(){return new d(Object(r.Sb)(u))}function y(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function g(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function m(t){return t&&"?"!==t[0]?"?"+t:t}var b,_=((b=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||b)},b.\u0275prov=Object(r.Hb)({factory:w,token:b,providedIn:"root"}),b);function w(t){var e=Object(r.Sb)(u).location;return new T(Object(r.Sb)(c),e&&e.origin||"")}var k,C,S,E=new r.q("appBaseHref"),T=((S=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;if(_classCallCheck(this,n),(i=e.call(this))._platformLocation=t,null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,_possibleConstructorReturn(i)}return _createClass(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(t){return y(this._baseHref,t)}},{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?"".concat(e).concat(n):e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+m(r));this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+m(r));this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(_)).\u0275fac=function(t){return new(t||S)(r.Sb(c),r.Sb(E,8))},S.\u0275prov=r.Hb({token:S,factory:S.\u0275fac}),S),I=((C=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this))._platformLocation=t,i._baseHref="",null!=r&&(i._baseHref=r),i}return _createClass(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}},{key:"prepareExternalUrl",value:function(t){var e=y(this._baseHref,t);return e.length>0?"#"+e:e}},{key:"pushState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}},{key:"replaceState",value:function(t,e,n,r){var i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(_)).\u0275fac=function(t){return new(t||C)(r.Sb(c),r.Sb(E,8))},C.\u0275prov=r.Hb({token:C,factory:C.\u0275fac}),C),O=((k=function(){function t(e,n){var i=this;_classCallCheck(this,t),this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=e;var o=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=g(x(o)),this._platformStrategy.onPopState((function(t){i._subject.emit({url:i.path(!0),pop:!0,state:t.state,type:t.type})}))}return _createClass(t,[{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(t))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(t+m(e))}},{key:"normalize",value:function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,x(e)))}},{key:"prepareExternalUrl",value:function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}},{key:"go",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}},{key:"replaceState",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(t){var e=this;this._urlChangeListeners.push(t),this.subscribe((function(t){e._notifyUrlChangeListeners(t.url,t.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach((function(n){return n(t,e)}))}},{key:"subscribe",value:function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}]),t}()).\u0275fac=function(t){return new(t||k)(r.Sb(_),r.Sb(c))},k.normalizeQueryParams=m,k.joinWithSlash=y,k.stripTrailingSlash=g,k.\u0275prov=Object(r.Hb)({factory:A,token:k,providedIn:"root"}),k);function A(){return new O(Object(r.Sb)(_),Object(r.Sb)(c))}function x(t){return t.replace(/\/index.html$/,"")}var D,N=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),R=r.nb,P=function t(){_classCallCheck(this,t)},L=((D=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this)).locale=t,r}return _createClass(n,[{key:"getPluralCategory",value:function(t,e){switch(R(e||this.locale)(t)){case N.Zero:return"zero";case N.One:return"one";case N.Two:return"two";case N.Few:return"few";case N.Many:return"many";default:return"other"}}}]),n}(P)).\u0275fac=function(t){return new(t||D)(r.Sb(r.u))},D.\u0275prov=r.Hb({token:D,factory:D.\u0275fac}),D);function j(t,e){e=encodeURIComponent(e);var n,r=_createForOfIteratorHelper(t.split(";"));try{for(r.s();!(n=r.n()).done;){var i=n.value,o=i.indexOf("="),a=_slicedToArray(-1==o?[i,""]:[i.slice(0,o),i.slice(o+1)],2),s=a[0],u=a[1];if(s.trim()===e)return decodeURIComponent(u)}}catch(c){r.e(c)}finally{r.f()}return null}var M,V,F=function(){function t(e,n,r,i){_classCallCheck(this,t),this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}return _createClass(t,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),t}(),U=((M=function(){function t(e,n,r){_classCallCheck(this,t),this._viewContainer=e,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return _createClass(t,[{key:"ngForOf",set:function(t){this._ngForOf=t,this._ngForOfDirty=!0}},{key:"ngForTrackBy",get:function(){return this._trackByFn},set:function(t){Object(r.V)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received ".concat(JSON.stringify(t),". See https://angular.io/api/common/NgForOf#change-propagation for more information.")),this._trackByFn=t}},{key:"ngForTemplate",set:function(t){t&&(this._template=t)}},{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(lg){throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'. NgFor only supports binding to Iterables such as Arrays."))}}var e;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(t){var e=this,n=[];t.forEachOperation((function(t,r,i){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new F(null,e._ngForOf,-1,-1),null===i?void 0:i),a=new q(t,o);n.push(a)}else if(null==i)e._viewContainer.remove(null===r?void 0:r);else if(null!==r){var s=e._viewContainer.get(r);e._viewContainer.move(s,i);var u=new q(t,s);n.push(u)}}));for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,o=this._viewContainer.length;i<o;i++){var a=this._viewContainer.get(i);a.context.index=i,a.context.count=o,a.context.ngForOf=this._ngForOf}t.forEachIdentityChange((function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item}))}},{key:"_perViewChange",value:function(t,e){t.context.$implicit=e.item}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}()).\u0275fac=function(t){return new(t||M)(r.Lb(r.O),r.Lb(r.K),r.Lb(r.s))},M.\u0275dir=r.Gb({type:M,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),M),q=function t(e,n){_classCallCheck(this,t),this.record=e,this.view=n},B=((V=function(){function t(e,n){_classCallCheck(this,t),this._viewContainer=e,this._context=new H,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return _createClass(t,[{key:"ngIf",set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}},{key:"ngIfThen",set:function(t){z("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(t){z("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}},{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}()).\u0275fac=function(t){return new(t||V)(r.Lb(r.O),r.Lb(r.K))},V.\u0275dir=r.Gb({type:V,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),V),H=function t(){_classCallCheck(this,t),this.$implicit=null,this.ngIf=null};function z(t,e){if(e&&!e.createEmbeddedView)throw new Error("".concat(t," must be a TemplateRef, but received '").concat(Object(r.wb)(e),"'."))}var G,W,K,Q,Y,Z,X,J=((K=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"transform",value:function(e,n,i){if(null==e)return e;if(!this.supports(e))throw function(t,e){return Error("InvalidPipeArgument: '".concat(e,"' for pipe '").concat(Object(r.wb)(t),"'"))}(t,e);return e.slice(n,i)}},{key:"supports",value:function(t){return"string"==typeof t||Array.isArray(t)}}]),t}()).\u0275fac=function(t){return new(t||K)},K.\u0275pipe=r.Kb({name:"slice",type:K,pure:!1}),K),$=((W=function t(){_classCallCheck(this,t)}).\u0275mod=r.Jb({type:W}),W.\u0275inj=r.Ib({factory:function(t){return new(t||W)},providers:[{provide:P,useClass:L}]}),W),tt=((G=function t(){_classCallCheck(this,t)}).\u0275prov=Object(r.Hb)({token:G,providedIn:"root",factory:function(){return new et(Object(r.Sb)(u),window,Object(r.Sb)(r.m))}}),G),et=function(){function t(e,n,r){_classCallCheck(this,t),this.document=e,this.window=n,this.errorHandler=r,this.offset=function(){return[0,0]}}return _createClass(t,[{key:"setOffset",value:function(t){this.offset=Array.isArray(t)?function(){return t}:t}},{key:"getScrollPosition",value:function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}},{key:"scrollToPosition",value:function(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}},{key:"scrollToAnchor",value:function(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var e=this.document.querySelector("#"+t);if(e)return void this.scrollToElement(e);var n=this.document.querySelector("[name='".concat(t,"']"));if(n)return void this.scrollToElement(n)}catch(Em){this.errorHandler.handleError(Em)}}}},{key:"setHistoryScrollRestoration",value:function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}},{key:"scrollToElement",value:function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"supportScrollRestoration",value:function(){try{return!!this.window&&!!this.window.scrollTo}catch(lg){return!1}}}]),t}(),nt=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getProperty",value:function(t,e){return t[e]}},{key:"log",value:function(t){window.console&&window.console.log&&window.console.log(t)}},{key:"logGroup",value:function(t){window.console&&window.console.group&&window.console.group(t)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}}},{key:"dispatchEvent",value:function(t,e){t.dispatchEvent(e)}},{key:"remove",value:function(t){return t.parentNode&&t.parentNode.removeChild(t),t}},{key:"getValue",value:function(t){return t.value}},{key:"createElement",value:function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(t){return t.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(t){return t instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(t){var e,n=rt||(rt=document.querySelector("base"))?rt.getAttribute("href"):null;return null==n?null:(e=n,Q||(Q=document.createElement("a")),Q.setAttribute("href",e),"/"===Q.pathname.charAt(0)?Q.pathname:"/"+Q.pathname)}},{key:"resetBaseElement",value:function(){rt=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(t){return j(document.cookie,t)}}],[{key:"makeCurrent",value:function(){var t;t=new n,o||(o=t)}}]),n}(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.call(this)}return _createClass(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(function(){return function t(){_classCallCheck(this,t)}}())),rt=null,it=new r.q("TRANSITION_ID"),ot=[{provide:r.d,useFactory:function(t,e,n){return function(){n.get(r.e).donePromise.then((function(){var n=a();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter((function(e){return e.getAttribute("ng-transition")===t})).forEach((function(t){return n.remove(t)}))}))}},deps:[it,u,r.r],multi:!0}],at=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"addToWindow",value:function(t){r.pb.getAngularTestability=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.pb.getAllAngularTestabilities=function(){return t.getAllTestabilities()},r.pb.getAllAngularRootElements=function(){return t.getAllRootElements()},r.pb.frameworkStabilizers||(r.pb.frameworkStabilizers=[]),r.pb.frameworkStabilizers.push((function(t){var e=r.pb.getAllAngularTestabilities(),n=e.length,i=!1,o=function(e){i=i||e,0==--n&&t(i)};e.forEach((function(t){t.whenStable(o)}))}))}},{key:"findTestabilityInTree",value:function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?a().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}],[{key:"init",value:function(){Object(r.X)(new t)}}]),t}(),st=new r.q("EventManagerPlugins"),ut=((Y=function(){function t(e,n){var r=this;_classCallCheck(this,t),this._zone=n,this._eventNameToPlugin=new Map,e.forEach((function(t){return t.manager=r})),this._plugins=e.slice().reverse()}return _createClass(t,[{key:"addEventListener",value:function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}},{key:"addGlobalEventListener",value:function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event "+t)}}]),t}()).\u0275fac=function(t){return new(t||Y)(r.Sb(st),r.Sb(r.z))},Y.\u0275prov=r.Hb({token:Y,factory:Y.\u0275fac}),Y),ct=function(){function t(e){_classCallCheck(this,t),this._doc=e}return _createClass(t,[{key:"addGlobalEventListener",value:function(t,e,n){var r=a().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(e));return this.addEventListener(r,e,n)}}]),t}(),lt=((X=function(){function t(){_classCallCheck(this,t),this._stylesSet=new Set}return _createClass(t,[{key:"addStyles",value:function(t){var e=this,n=new Set;t.forEach((function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))})),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(t){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),t}()).\u0275fac=function(t){return new(t||X)},X.\u0275prov=r.Hb({token:X,factory:X.\u0275fac}),X),ht=((Z=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this))._doc=t,r._hostNodes=new Set,r._styleNodes=new Set,r._hostNodes.add(t.head),r}return _createClass(n,[{key:"_addStylesToHost",value:function(t,e){var n=this;t.forEach((function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))}))}},{key:"addHost",value:function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}},{key:"removeHost",value:function(t){this._hostNodes.delete(t)}},{key:"onStylesAdded",value:function(t){var e=this;this._hostNodes.forEach((function(n){return e._addStylesToHost(t,n)}))}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach((function(t){return a().remove(t)}))}}]),n}(lt)).\u0275fac=function(t){return new(t||Z)(r.Sb(u))},Z.\u0275prov=r.Hb({token:Z,factory:Z.\u0275fac}),Z),ft={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},dt=/%COMP%/g;function pt(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?pt(t,i,n):(i=i.replace(dt,t),n.push(i))}return n}function vt(t){return function(e){if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var yt,gt,mt,bt,_t=((yt=function(){function t(e,n,r){_classCallCheck(this,t),this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new wt(e)}return _createClass(t,[{key:"createRenderer",value:function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.P.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new kt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case r.P.Native:case r.P.ShadowDom:return new Ct(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var i=pt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||yt)(r.Sb(ut),r.Sb(ht),r.Sb(r.c))},yt.\u0275prov=r.Hb({token:yt,factory:yt.\u0275fac}),yt),wt=function(){function t(e){_classCallCheck(this,t),this.eventManager=e,this.data=Object.create(null)}return _createClass(t,[{key:"destroy",value:function(){}},{key:"createElement",value:function(t,e){return e?document.createElementNS(ft[e]||e,t):document.createElement(t)}},{key:"createComment",value:function(t){return document.createComment(t)}},{key:"createText",value:function(t){return document.createTextNode(t)}},{key:"appendChild",value:function(t,e){t.appendChild(e)}},{key:"insertBefore",value:function(t,e,n){t&&t.insertBefore(e,n)}},{key:"removeChild",value:function(t,e){t&&t.removeChild(e)}},{key:"selectRootElement",value:function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'.concat(t,'" did not match any elements'));return e||(n.textContent=""),n}},{key:"parentNode",value:function(t){return t.parentNode}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"setAttribute",value:function(t,e,n,r){if(r){e=r+":"+e;var i=ft[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}},{key:"removeAttribute",value:function(t,e,n){if(n){var r=ft[n];r?t.removeAttributeNS(r,e):t.removeAttribute("".concat(n,":").concat(e))}else t.removeAttribute(e)}},{key:"addClass",value:function(t,e){t.classList.add(e)}},{key:"removeClass",value:function(t,e){t.classList.remove(e)}},{key:"setStyle",value:function(t,e,n,i){i&r.F.DashCase?t.style.setProperty(e,n,i&r.F.Important?"important":""):t.style[e]=n}},{key:"removeStyle",value:function(t,e,n){n&r.F.DashCase?t.style.removeProperty(e):t.style[e]=""}},{key:"setProperty",value:function(t,e,n){t[e]=n}},{key:"setValue",value:function(t,e){t.nodeValue=e}},{key:"listen",value:function(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,vt(n)):this.eventManager.addEventListener(t,e,vt(n))}}]),t}(),kt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;_classCallCheck(this,n),(a=e.call(this,t)).component=i;var s,u=pt(o+"-"+i.id,i.styles,[]);return r.addStyles(u),a.contentAttr="_ngcontent-%COMP%".replace(dt,o+"-"+i.id),a.hostAttr=(s=o+"-"+i.id,"_nghost-%COMP%".replace(dt,s)),a}return _createClass(n,[{key:"applyToHost",value:function(t){_get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,t,this.hostAttr,"")}},{key:"createElement",value:function(t,e){var r=_get(_getPrototypeOf(n.prototype),"createElement",this).call(this,t,e);return _get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(wt),Ct=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,o,a){var s;_classCallCheck(this,n),(s=e.call(this,t)).sharedStylesHost=i,s.hostEl=o,s.component=a,s.shadowRoot=a.encapsulation===r.P.ShadowDom?o.attachShadow({mode:"open"}):o.createShadowRoot(),s.sharedStylesHost.addHost(s.shadowRoot);for(var u=pt(a.id,a.styles,[]),c=0;c<u.length;c++){var l=document.createElement("style");l.textContent=u[c],s.shadowRoot.appendChild(l)}return s}return _createClass(n,[{key:"nodeOrShadowRoot",value:function(t){return t===this.hostEl?this.shadowRoot:t}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(t,e){return _get(_getPrototypeOf(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"insertBefore",value:function(t,e,r){return _get(_getPrototypeOf(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(t),e,r)}},{key:"removeChild",value:function(t,e){return _get(_getPrototypeOf(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"parentNode",value:function(t){return this.nodeOrShadowRoot(_get(_getPrototypeOf(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(t)))}}]),n}(wt),St=((gt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return _createClass(n,[{key:"supports",value:function(t){return!0}},{key:"addEventListener",value:function(t,e,n){var r=this;return t.addEventListener(e,n,!1),function(){return r.removeEventListener(t,e,n)}}},{key:"removeEventListener",value:function(t,e,n){return t.removeEventListener(e,n)}}]),n}(ct)).\u0275fac=function(t){return new(t||gt)(r.Sb(u))},gt.\u0275prov=r.Hb({token:gt,factory:gt.\u0275fac}),gt),Et=["alt","control","meta","shift"],Tt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},It={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ot={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},At=((mt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return _createClass(n,[{key:"supports",value:function(t){return null!=n.parseEventName(t)}},{key:"addEventListener",value:function(t,e,r){var i=n.parseEventName(e),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return a().onAndCancel(t,i.domEventName,o)}))}}],[{key:"parseEventName",value:function(t){var e=t.toLowerCase().split("."),r=e.shift();if(0===e.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(e.pop()),o="";if(Et.forEach((function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),o+=t+".")})),o+=i,0!=e.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a}},{key:"getEventFullKey",value:function(t){var e="",n=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&It.hasOwnProperty(e)&&(e=It[e]))}return Tt[e]||e}(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Et.forEach((function(r){r!=n&&(0,Ot[r])(t)&&(e+=r+".")})),e+=n}},{key:"eventCallback",value:function(t,e,r){return function(i){n.getEventFullKey(i)===t&&r.runGuarded((function(){return e(i)}))}}},{key:"_normalizeKey",value:function(t){switch(t){case"esc":return"escape";default:return t}}}]),n}(ct)).\u0275fac=function(t){return new(t||mt)(r.Sb(u))},mt.\u0275prov=r.Hb({token:mt,factory:mt.\u0275fac}),mt),xt=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){nt.makeCurrent(),at.init()},multi:!0},{provide:u,useFactory:function(){return Object(r.vb)(document),document},deps:[]}],Dt=Object(r.R)(r.W,"browser",xt),Nt=[[],{provide:r.Z,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:st,useClass:St,multi:!0,deps:[u,r.z,r.B]},{provide:st,useClass:At,multi:!0,deps:[u]},[],{provide:_t,useClass:_t,deps:[ut,ht,r.c]},{provide:r.E,useExisting:_t},{provide:lt,useExisting:ht},{provide:ht,useClass:ht,deps:[u]},{provide:r.L,useClass:r.L,deps:[r.z]},{provide:ut,useClass:ut,deps:[st,r.z]},[]],Rt=((bt=function(){function t(e){if(_classCallCheck(this,t),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return _createClass(t,null,[{key:"withServerTransition",value:function(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:it,useExisting:r.c},ot]}}}]),t}()).\u0275mod=r.Jb({type:bt}),bt.\u0275inj=r.Ib({factory:function(t){return new(t||bt)(r.Sb(bt,12))},providers:Nt,imports:[$,r.f]}),bt);"undefined"!=typeof window&&window;var Pt=n("HDdC"),Lt=n("DH7j"),jt=n("lJxs"),Mt=n("XoHu"),Vt=n("Cfvw");function Ft(t,e){return new Pt.a((function(n){var r=t.length;if(0!==r)for(var i=new Array(r),o=0,a=0,s=function(s){var u=Object(Vt.a)(t[s]),c=!1;n.add(u.subscribe({next:function(t){c||(c=!0,a++),i[s]=t},error:function(t){return n.error(t)},complete:function(){++o!==r&&c||(a===r&&n.next(e?e.reduce((function(t,e,n){return t[e]=i[n],t}),{}):i),n.complete())}}))},u=0;u<r;u++)s(u);else n.complete()}))}var Ut,qt,Bt,Ht,zt=new r.q("NgValueAccessor"),Gt={provide:zt,useExisting:Object(r.T)((function(){return Wt})),multi:!0},Wt=((Ut=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||Ut)(r.Lb(r.D),r.Lb(r.l))},Ut.\u0275dir=r.Gb({type:Ut,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Wb("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[r.Ab([Gt])]}),Ut),Kt={provide:zt,useExisting:Object(r.T)((function(){return Yt})),multi:!0},Qt=new r.q("CompositionEventMode"),Yt=((Ht=function(){function t(e,n,r){var i;_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._compositionMode=r,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(i=a()?a().getUserAgent():"",!/android (\d+)/.test(i.toLowerCase())))}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_handleInput",value:function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}]),t}()).\u0275fac=function(t){return new(t||Ht)(r.Lb(r.D),r.Lb(r.l),r.Lb(Qt,8))},Ht.\u0275dir=r.Gb({type:Ht,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Wb("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[r.Ab([Kt])]}),Ht),Zt=((Bt=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}},{key:"reset",value:function(t){this.control&&this.control.reset(t)}},{key:"hasError",value:function(t,e){return!!this.control&&this.control.hasError(t,e)}},{key:"getError",value:function(t,e){return this.control?this.control.getError(t,e):null}}]),t}()).\u0275fac=function(t){return new(t||Bt)},Bt.\u0275dir=r.Gb({type:Bt}),Bt),Xt=((qt=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(Zt)).\u0275fac=function(t){return Jt(t||qt)},qt.\u0275dir=r.Gb({type:qt,features:[r.yb]}),qt),Jt=r.Qb(Xt);function $t(){throw new Error("unimplemented")}var te,ee,ne=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.apply(this,arguments))._parent=null,t.name=null,t.valueAccessor=null,t._rawValidators=[],t._rawAsyncValidators=[],t}return _createClass(n,[{key:"validator",get:function(){return $t()}},{key:"asyncValidator",get:function(){return $t()}}]),n}(Zt),re=function(){function t(e){_classCallCheck(this,t),this._cd=e}return _createClass(t,[{key:"ngClassUntouched",get:function(){return!!this._cd.control&&this._cd.control.untouched}},{key:"ngClassTouched",get:function(){return!!this._cd.control&&this._cd.control.touched}},{key:"ngClassPristine",get:function(){return!!this._cd.control&&this._cd.control.pristine}},{key:"ngClassDirty",get:function(){return!!this._cd.control&&this._cd.control.dirty}},{key:"ngClassValid",get:function(){return!!this._cd.control&&this._cd.control.valid}},{key:"ngClassInvalid",get:function(){return!!this._cd.control&&this._cd.control.invalid}},{key:"ngClassPending",get:function(){return!!this._cd.control&&this._cd.control.pending}}]),t}(),ie=((ee=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return n}(re)).\u0275fac=function(t){return new(t||ee)(r.Lb(ne,2))},ee.\u0275dir=r.Gb({type:ee,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Db("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.yb]}),ee),oe=((te=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return n}(re)).\u0275fac=function(t){return new(t||te)(r.Lb(Xt,2))},te.\u0275dir=r.Gb({type:te,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Db("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.yb]}),te);function ae(t){return null==t||0===t.length}var se=new r.q("NgValidators"),ue=new r.q("NgAsyncValidators"),ce=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,le=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"min",value:function(t){return function(e){if(ae(e.value)||ae(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}},{key:"max",value:function(t){return function(e){if(ae(e.value)||ae(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}},{key:"required",value:function(t){return ae(t.value)?{required:!0}:null}},{key:"requiredTrue",value:function(t){return!0===t.value?null:{required:!0}}},{key:"email",value:function(t){return ae(t.value)||ce.test(t.value)?null:{email:!0}}},{key:"minLength",value:function(t){return function(e){if(ae(e.value))return null;var n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}},{key:"maxLength",value:function(t){return function(e){var n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}},{key:"pattern",value:function(e){return e?("string"==typeof e?(r="","^"!==e.charAt(0)&&(r+="^"),r+=e,"$"!==e.charAt(e.length-1)&&(r+="$"),n=new RegExp(r)):(r=e.toString(),n=e),function(t){if(ae(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:r,actualValue:e}}}):t.nullValidator;var n,r}},{key:"nullValidator",value:function(t){return null}},{key:"compose",value:function(t){if(!t)return null;var e=t.filter(he);return 0==e.length?null:function(t){return de(function(t,e){return e.map((function(e){return e(t)}))}(t,e))}}},{key:"composeAsync",value:function(t){if(!t)return null;var e=t.filter(he);return 0==e.length?null:function(t){return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(1===e.length){var r=e[0];if(Object(Lt.a)(r))return Ft(r,null);if(Object(Mt.a)(r)&&Object.getPrototypeOf(r)===Object.prototype){var i=Object.keys(r);return Ft(i.map((function(t){return r[t]})),i)}}if("function"==typeof e[e.length-1]){var o=e.pop();return Ft(e=1===e.length&&Object(Lt.a)(e[0])?e[0]:e,null).pipe(Object(jt.a)((function(t){return o.apply(void 0,_toConsumableArray(t))})))}return Ft(e,null)}(function(t,e){return e.map((function(e){return e(t)}))}(t,e).map(fe)).pipe(Object(jt.a)(de))}}}]),t}();function he(t){return null!=t}function fe(t){var e=Object(r.sb)(t)?Object(Vt.a)(t):t;if(!Object(r.rb)(e))throw new Error("Expected validator to return Promise or Observable.");return e}function de(t){var e={};return t.forEach((function(t){e=null!=t?Object.assign(Object.assign({},e),t):e})),0===Object.keys(e).length?null:e}function pe(t){return t.validate?function(e){return t.validate(e)}:t}function ve(t){return t.validate?function(e){return t.validate(e)}:t}var ye,ge,me,be,_e,we,ke={provide:zt,useExisting:Object(r.T)((function(){return Ce})),multi:!0},Ce=((ye=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}},{key:"registerOnChange",value:function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||ye)(r.Lb(r.D),r.Lb(r.l))},ye.\u0275dir=r.Gb({type:ye,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Wb("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.Ab([ke])]}),ye),Se={provide:zt,useExisting:Object(r.T)((function(){return Te})),multi:!0},Ee=((me=function(){function t(){_classCallCheck(this,t),this._accessors=[]}return _createClass(t,[{key:"add",value:function(t,e){this._accessors.push([t,e])}},{key:"remove",value:function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}},{key:"select",value:function(t){var e=this;this._accessors.forEach((function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)}))}},{key:"_isSameGroup",value:function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}]),t}()).\u0275fac=function(t){return new(t||me)},me.\u0275prov=r.Hb({token:me,factory:me.\u0275fac}),me),Te=((ge=function(){function t(e,n,r,i){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._registry=r,this._injector=i,this.onChange=function(){},this.onTouched=function(){}}return _createClass(t,[{key:"ngOnInit",value:function(){this._control=this._injector.get(ne),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}},{key:"registerOnChange",value:function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}}},{key:"fireUncheck",value:function(t){this.writeValue(t)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_checkName",value:function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}},{key:"_throwNameError",value:function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}]),t}()).\u0275fac=function(t){return new(t||ge)(r.Lb(r.D),r.Lb(r.l),r.Lb(Ee),r.Lb(r.r))},ge.\u0275dir=r.Gb({type:ge,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Wb("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.Ab([Se])]}),ge),Ie={provide:zt,useExisting:Object(r.T)((function(){return Oe})),multi:!0},Oe=((be=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return _createClass(t,[{key:"writeValue",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}},{key:"registerOnChange",value:function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}]),t}()).\u0275fac=function(t){return new(t||be)(r.Lb(r.D),r.Lb(r.l))},be.\u0275dir=r.Gb({type:be,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Wb("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.Ab([Ie])]}),be),Ae='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',xe='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',De='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',Ne=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"controlParentException",value:function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+Ae)}},{key:"ngModelGroupException",value:function(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '.concat(xe,"\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ").concat(De))}},{key:"missingFormException",value:function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+Ae)}},{key:"groupParentException",value:function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+xe)}},{key:"arrayParentException",value:function(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}},{key:"disabledAttrWarning",value:function(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}},{key:"ngModelWarning",value:function(t){console.warn("\n    It looks like you're using ngModel on the same form field as ".concat(t,". \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/").concat("formControl"===t?"FormControlDirective":"FormControlName","#use-with-ngmodel\n    "))}}]),t}(),Re={provide:zt,useExisting:Object(r.T)((function(){return Pe})),multi:!0},Pe=((_e=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=r.tb}return _createClass(t,[{key:"compareWith",set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}},{key:"writeValue",value:function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),"".concat(t,": ").concat(e).slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){e.value=e._getOptionValue(n),t(e.value)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r),t))return r}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}]),t}()).\u0275fac=function(t){return new(t||_e)(r.Lb(r.D),r.Lb(r.l))},_e.\u0275dir=r.Gb({type:_e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Wb("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.Ab([Re])]}),_e),Le={provide:zt,useExisting:Object(r.T)((function(){return je})),multi:!0},je=((we=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=r.tb}return _createClass(t,[{key:"compareWith",set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t}},{key:"writeValue",value:function(t){var e,n=this;if(this.value=t,Array.isArray(t)){var r=t.map((function(t){return n._getOptionId(t)}));e=function(t,e){t._setSelected(r.indexOf(e.toString())>-1)}}else e=function(t,e){t._setSelected(!1)};this._optionMap.forEach(e)}},{key:"registerOnChange",value:function(t){var e=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty("selectedOptions"))for(var i=n.selectedOptions,o=0;o<i.length;o++){var a=i.item(o),s=e._getOptionValue(a.value);r.push(s)}else for(var u=n.options,c=0;c<u.length;c++){var l=u.item(c);if(l.selected){var h=e._getOptionValue(l.value);r.push(h)}}e.value=r,t(r)}}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},{key:"_registerOption",value:function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}},{key:"_getOptionId",value:function(t){for(var e=0,n=Array.from(this._optionMap.keys());e<n.length;e++){var r=n[e];if(this._compareWith(this._optionMap.get(r)._value,t))return r}return null}},{key:"_getOptionValue",value:function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}]),t}()).\u0275fac=function(t){return new(t||we)(r.Lb(r.D),r.Lb(r.l))},we.\u0275dir=r.Gb({type:we,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Wb("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.Ab([Le])]}),we);function Me(t,e){return[].concat(_toConsumableArray(e.path),[t])}function Ve(t,e){t||Be(e,"Cannot find control with"),e.valueAccessor||Be(e,"No value accessor for form control with"),t.validator=le.compose([t.validator,e.validator]),t.asyncValidator=le.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange((function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Fe(t,e)}))}(t,e),function(t,e){t.registerOnChange((function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)}))}(t,e),function(t,e){e.valueAccessor.registerOnTouched((function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Fe(t,e),"submit"!==t.updateOn&&t.markAsTouched()}))}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange((function(t){e.valueAccessor.setDisabledState(t)})),e._rawValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return t.updateValueAndValidity()}))})),e._rawAsyncValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return t.updateValueAndValidity()}))}))}function Fe(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Ue(t,e){null==t&&Be(e,"Cannot find control with"),t.validator=le.compose([t.validator,e.validator]),t.asyncValidator=le.composeAsync([t.asyncValidator,e.asyncValidator])}function qe(t){return Be(t,"There is no FormControl instance attached to form control element with")}function Be(t,e){var n;throw n=t.path.length>1?"path: '".concat(t.path.join(" -> "),"'"):t.path[0]?"name: '".concat(t.path,"'"):"unspecified name attribute",new Error("".concat(e," ").concat(n))}function He(t){return null!=t?le.compose(t.map(pe)):null}function ze(t){return null!=t?le.composeAsync(t.map(ve)):null}function Ge(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!Object(r.tb)(e,n.currentValue)}var We=[Wt,Oe,Ce,Pe,je,Te];function Ke(t,e){t._syncPendingControls(),e.forEach((function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}))}function Qe(t,e){if(!e)return null;Array.isArray(e)||Be(t,"Value accessor was not provided as an array for form control with");var n=void 0,r=void 0,i=void 0;return e.forEach((function(e){var o;e.constructor===Yt?n=e:(o=e,We.some((function(t){return o.constructor===t}))?(r&&Be(t,"More than one built-in value accessor matches form control with"),r=e):(i&&Be(t,"More than one custom value accessor matches form control with"),i=e))})),i||r||n||(Be(t,"No valid value accessor for form control with"),null)}function Ye(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}function Ze(t){var e=Je(t)?t.validators:t;return Array.isArray(e)?He(e):e||null}function Xe(t,e){var n=Je(e)?e.asyncValidators:t;return Array.isArray(n)?ze(n):n||null}function Je(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var $e,tn,en,nn,rn,on,an,sn,un=function(){function t(e,n){_classCallCheck(this,t),this.validator=e,this.asyncValidator=n,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return _createClass(t,[{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"setValidators",value:function(t){this.validator=Ze(t)}},{key:"setAsyncValidators",value:function(t){this.asyncValidator=Xe(t)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(t){return t.markAllAsTouched()}))}},{key:"markAsUntouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(t){t.markAsUntouched({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"markAsDirty",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}},{key:"markAsPristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(t){t.markAsPristine({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"markAsPending",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}},{key:"disable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(e){e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))})),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!0)}))}},{key:"enable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild((function(e){e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!1)}))}},{key:"_updateAncestors",value:function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(t){this._parent=t}},{key:"updateValueAndValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}},{key:"_updateTreeValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild((function(e){return e._updateTreeValidity(t)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(t){var e=this;if(this.asyncValidator){this.status="PENDING";var n=fe(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe((function(n){return e.setErrors(n,{emitEvent:t})}))}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}},{key:"setErrors",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}},{key:"get",value:function(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;var r=t;return e.forEach((function(t){r=r instanceof ln?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof hn&&r.at(t)||null})),r}(this,t)}},{key:"getError",value:function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}},{key:"hasError",value:function(t,e){return!!this.getError(t,e)}},{key:"root",get:function(){for(var t=this;t._parent;)t=t._parent;return t}},{key:"_updateControlsErrors",value:function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}},{key:"_initObservables",value:function(){this.valueChanges=new r.n,this.statusChanges=new r.n}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(t){return this._anyControls((function(e){return e.status===t}))}},{key:"_anyControlsDirty",value:function(){return this._anyControls((function(t){return t.dirty}))}},{key:"_anyControlsTouched",value:function(){return this._anyControls((function(t){return t.touched}))}},{key:"_updatePristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"_updateTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"_isBoxedValue",value:function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}},{key:"_registerOnCollectionChange",value:function(t){this._onCollectionChange=t}},{key:"_setUpdateStrategy",value:function(t){Je(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}},{key:"_parentMarkedDirty",value:function(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}]),t}(),cn=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(t=e.call(this,Ze(i),Xe(o,i)))._onChange=[],t._applyFormState(r),t._setUpdateStrategy(i),t.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),t._initObservables(),t}return _createClass(n,[{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach((function(t){return t(e.value,!1!==n.emitViewToModelChange)})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(t,e)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(t){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(t){this._onChange.push(t)}},{key:"_clearChangeFns",value:function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}}},{key:"registerOnDisabledChange",value:function(t){this._onDisabledChange.push(t)}},{key:"_forEachChild",value:function(t){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}]),n}(un),ln=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,Ze(r),Xe(i,r))).controls=t,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass(n,[{key:"registerControl",value:function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}},{key:"addControl",value:function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),Object.keys(t).forEach((function(r){e._throwIfControlMissing(r),e.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(t).forEach((function(r){e.controls[r]&&e.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this._reduceChildren({},(function(t,e,n){return t[n]=e instanceof cn?e.value:e.getRawValue(),t}))}},{key:"_syncPendingControls",value:function(){var t=this._reduceChildren(!1,(function(t,e){return!!e._syncPendingControls()||t}));return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: ".concat(t,"."))}},{key:"_forEachChild",value:function(t){var e=this;Object.keys(this.controls).forEach((function(n){return t(e.controls[n],n)}))}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild((function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)}))}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(t){var e=this,n=!1;return this._forEachChild((function(r,i){n=n||e.contains(i)&&t(r)})),n}},{key:"_reduceValue",value:function(){var t=this;return this._reduceChildren({},(function(e,n,r){return(n.enabled||t.disabled)&&(e[r]=n.value),e}))}},{key:"_reduceChildren",value:function(t,e){var n=t;return this._forEachChild((function(t,r){n=e(n,t,r)})),n}},{key:"_allControlsDisabled",value:function(){for(var t=0,e=Object.keys(this.controls);t<e.length;t++){var n=e[t];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))}))}}]),n}(un),hn=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,Ze(r),Xe(i,r))).controls=t,o._initObservables(),o._setUpdateStrategy(r),o._setUpControls(),o.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),o}return _createClass(n,[{key:"at",value:function(t){return this.controls[t]}},{key:"push",value:function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}},{key:"removeAt",value:function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),this.updateValueAndValidity()}},{key:"setControl",value:function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"length",get:function(){return this.controls.length}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),t.forEach((function(t,r){e._throwIfControlMissing(r),e.at(r).setValue(t,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.forEach((function(t,r){e.at(r)&&e.at(r).patchValue(t,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this.controls.map((function(t){return t instanceof cn?t.value:t.getRawValue()}))}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild((function(t){return t._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var t=this.controls.reduce((function(t,e){return!!e._syncPendingControls()||t}),!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}},{key:"_forEachChild",value:function(t){this.controls.forEach((function(e,n){t(e,n)}))}},{key:"_updateValue",value:function(){var t=this;this.value=this.controls.filter((function(e){return e.enabled||t.disabled})).map((function(t){return t.value}))}},{key:"_anyControls",value:function(t){return this.controls.some((function(e){return e.enabled&&t(e)}))}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild((function(e){return t._registerControl(e)}))}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))}))}},{key:"_allControlsDisabled",value:function(){var t,e=_createForOfIteratorHelper(this.controls);try{for(e.s();!(t=e.n()).done;){if(t.value.enabled)return!1}}catch(n){e.e(n)}finally{e.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}]),n}(un),fn={provide:Xt,useExisting:Object(r.T)((function(){return pn}))},dn=Promise.resolve(null),pn=((tn=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var o;return _classCallCheck(this,n),(o=e.call(this)).submitted=!1,o._directives=[],o.ngSubmit=new r.n,o.form=new ln({},He(t),ze(i)),o}return _createClass(n,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}},{key:"addControl",value:function(t){var e=this;dn.then((function(){var n=e._findContainer(t.path);t.control=n.registerControl(t.name,t.control),Ve(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),e._directives.push(t)}))}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){var e=this;dn.then((function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name),Ye(e._directives,t)}))}},{key:"addFormGroup",value:function(t){var e=this;dn.then((function(){var n=e._findContainer(t.path),r=new ln({});Ue(r,t),n.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})}))}},{key:"removeFormGroup",value:function(t){var e=this;dn.then((function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)}))}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){var n=this;dn.then((function(){n.form.get(t.path).setValue(e)}))}},{key:"setValue",value:function(t){this.control.setValue(t)}},{key:"onSubmit",value:function(t){return this.submitted=!0,Ke(this.form,this._directives),this.ngSubmit.emit(t),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(t){return t.pop(),t.length?this.form.get(t):this.form}}]),n}(Xt)).\u0275fac=function(t){return new(t||tn)(r.Lb(se,10),r.Lb(ue,10))},tn.\u0275dir=r.Gb({type:tn,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.Wb("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Ab([fn]),r.yb]}),tn),vn=(($e=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormGroup(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormGroup(this)}},{key:"control",get:function(){return this.formDirective.getFormGroup(this)}},{key:"path",get:function(){return Me(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return He(this._validators)}},{key:"asyncValidator",get:function(){return ze(this._asyncValidators)}},{key:"_checkParentType",value:function(){}}]),n}(Xt)).\u0275fac=function(t){return yn(t||$e)},$e.\u0275dir=r.Gb({type:$e,features:[r.yb]}),$e),yn=r.Qb(vn),gn=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"modelParentException",value:function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      '.concat(Ae,'\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '))}},{key:"formGroupNameException",value:function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ".concat(xe,"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ").concat(De))}},{key:"missingNameException",value:function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}},{key:"modelGroupParentException",value:function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ".concat(xe,"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ").concat(De))}}]),t}(),mn={provide:Xt,useExisting:Object(r.T)((function(){return bn}))},bn=((en=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this))._parent=t,o._validators=r,o._asyncValidators=i,o}return _createClass(n,[{key:"_checkParentType",value:function(){this._parent instanceof n||this._parent instanceof pn||gn.modelGroupParentException()}}]),n}(vn)).\u0275fac=function(t){return new(t||en)(r.Lb(Xt,5),r.Lb(se,10),r.Lb(ue,10))},en.\u0275dir=r.Gb({type:en,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[r.Ab([mn]),r.yb]}),en),_n={provide:ne,useExisting:Object(r.T)((function(){return kn}))},wn=Promise.resolve(null),kn=((rn=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,o,a){var s;return _classCallCheck(this,n),(s=e.call(this)).control=new cn,s._registered=!1,s.update=new r.n,s._parent=t,s._rawValidators=i||[],s._rawAsyncValidators=o||[],s.valueAccessor=Qe(_assertThisInitialized(s),a),s}return _createClass(n,[{key:"ngOnChanges",value:function(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),Ge(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"path",get:function(){return this._parent?Me(this.name,this._parent):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return He(this._rawValidators)}},{key:"asyncValidator",get:function(){return ze(this._rawAsyncValidators)}},{key:"viewToModelUpdate",value:function(t){this.viewModel=t,this.update.emit(t)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){Ve(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){!(this._parent instanceof bn)&&this._parent instanceof vn?gn.formGroupNameException():this._parent instanceof bn||this._parent instanceof pn||gn.modelParentException()}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||gn.missingNameException()}},{key:"_updateValue",value:function(t){var e=this;wn.then((function(){e.control.setValue(t,{emitViewToModelChange:!1})}))}},{key:"_updateDisabled",value:function(t){var e=this,n=t.isDisabled.currentValue,r=""===n||n&&"false"!==n;wn.then((function(){r&&!e.control.disabled?e.control.disable():!r&&e.control.disabled&&e.control.enable()}))}}]),n}(ne)).\u0275fac=function(t){return new(t||rn)(r.Lb(Xt,9),r.Lb(se,10),r.Lb(ue,10),r.Lb(zt,10))},rn.\u0275dir=r.Gb({type:rn,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.Ab([_n]),r.yb,r.zb]}),rn),Cn=((nn=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||nn)},nn.\u0275dir=r.Gb({type:nn,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),nn),Sn=new r.q("NgModelWithFormControlWarning"),En={provide:Xt,useExisting:Object(r.T)((function(){return Tn}))},Tn=((on=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var o;return _classCallCheck(this,n),(o=e.call(this))._validators=t,o._asyncValidators=i,o.submitted=!1,o.directives=[],o.form=null,o.ngSubmit=new r.n,o}return _createClass(n,[{key:"ngOnChanges",value:function(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"addControl",value:function(t){var e=this.form.get(t.path);return Ve(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){Ye(this.directives,t)}},{key:"addFormGroup",value:function(t){var e=this.form.get(t.path);Ue(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormGroup",value:function(t){}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"addFormArray",value:function(t){var e=this.form.get(t.path);Ue(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormArray",value:function(t){}},{key:"getFormArray",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){this.form.get(t.path).setValue(e)}},{key:"onSubmit",value:function(t){return this.submitted=!0,Ke(this.form,this.directives),this.ngSubmit.emit(t),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_updateDomValue",value:function(){var t=this;this.directives.forEach((function(e){var n=t.form.get(e.path);e.control!==n&&(function(t,e){e.valueAccessor.registerOnChange((function(){return qe(e)})),e.valueAccessor.registerOnTouched((function(){return qe(e)})),e._rawValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)})),e._rawAsyncValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(null)})),t&&t._clearChangeFns()}(e.control,e),n&&Ve(n,e),e.control=n)})),this.form._updateTreeValidity({emitEvent:!1})}},{key:"_updateRegistrations",value:function(){var t=this;this.form._registerOnCollectionChange((function(){return t._updateDomValue()})),this._oldForm&&this._oldForm._registerOnCollectionChange((function(){})),this._oldForm=this.form}},{key:"_updateValidators",value:function(){var t=He(this._validators);this.form.validator=le.compose([this.form.validator,t]);var e=ze(this._asyncValidators);this.form.asyncValidator=le.composeAsync([this.form.asyncValidator,e])}},{key:"_checkFormPresent",value:function(){this.form||Ne.missingFormException()}}]),n}(Xt)).\u0275fac=function(t){return new(t||on)(r.Lb(se,10),r.Lb(ue,10))},on.\u0275dir=r.Gb({type:on,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.Wb("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Ab([En]),r.yb,r.zb]}),on),In={provide:Xt,useExisting:Object(r.T)((function(){return On}))},On=((an=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this))._parent=t,o._validators=r,o._asyncValidators=i,o}return _createClass(n,[{key:"_checkParentType",value:function(){Dn(this._parent)&&Ne.groupParentException()}}]),n}(vn)).\u0275fac=function(t){return new(t||an)(r.Lb(Xt,13),r.Lb(se,10),r.Lb(ue,10))},an.\u0275dir=r.Gb({type:an,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[r.Ab([In]),r.yb]}),an),An={provide:Xt,useExisting:Object(r.T)((function(){return xn}))},xn=((sn=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this))._parent=t,o._validators=r,o._asyncValidators=i,o}return _createClass(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormArray(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormArray(this)}},{key:"control",get:function(){return this.formDirective.getFormArray(this)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"path",get:function(){return Me(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"validator",get:function(){return He(this._validators)}},{key:"asyncValidator",get:function(){return ze(this._asyncValidators)}},{key:"_checkParentType",value:function(){Dn(this._parent)&&Ne.arrayParentException()}}]),n}(Xt)).\u0275fac=function(t){return new(t||sn)(r.Lb(Xt,13),r.Lb(se,10),r.Lb(ue,10))},sn.\u0275dir=r.Gb({type:sn,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[r.Ab([An]),r.yb]}),sn);function Dn(t){return!(t instanceof On||t instanceof Tn||t instanceof xn)}var Nn,Rn,Pn,Ln,jn,Mn,Vn,Fn={provide:ne,useExisting:Object(r.T)((function(){return Un}))},Un=((Nn=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,o,a,s){var u;return _classCallCheck(this,n),(u=e.call(this))._ngModelWarningConfig=s,u._added=!1,u.update=new r.n,u._ngModelWarningSent=!1,u._parent=t,u._rawValidators=i||[],u._rawAsyncValidators=o||[],u.valueAccessor=Qe(_assertThisInitialized(u),a),u}return _createClass(n,[{key:"isDisabled",set:function(t){Ne.disabledAttrWarning()}},{key:"ngOnChanges",value:function(t){var e,i;this._added||this._setUpControl(),Ge(t,this.viewModel)&&(e=n,i=this._ngModelWarningConfig,Object(r.V)()&&"never"!==i&&((null!==i&&"once"!==i||e._ngModelWarningSentOnce)&&("always"!==i||this._ngModelWarningSent)||(Ne.ngModelWarning("formControlName"),e._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(t){this.viewModel=t,this.update.emit(t)}},{key:"path",get:function(){return Me(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return He(this._rawValidators)}},{key:"asyncValidator",get:function(){return ze(this._rawAsyncValidators)}},{key:"_checkParentType",value:function(){!(this._parent instanceof On)&&this._parent instanceof vn?Ne.ngModelGroupException():this._parent instanceof On||this._parent instanceof Tn||this._parent instanceof xn||Ne.controlParentException()}},{key:"_setUpControl",value:function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}]),n}(ne)).\u0275fac=function(t){return new(t||Nn)(r.Lb(Xt,13),r.Lb(se,10),r.Lb(ue,10),r.Lb(zt,10),r.Lb(Sn,8))},Nn.\u0275dir=r.Gb({type:Nn,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.Ab([Fn]),r.yb,r.zb]}),Nn._ngModelWarningSentOnce=!1,Nn),qn={provide:se,useExisting:Object(r.T)((function(){return Bn})),multi:!0},Bn=((Rn=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"required",get:function(){return this._required},set:function(t){this._required=null!=t&&!1!==t&&""+t!="false",this._onChange&&this._onChange()}},{key:"validate",value:function(t){return this.required?le.required(t):null}},{key:"registerOnValidatorChange",value:function(t){this._onChange=t}}]),t}()).\u0275fac=function(t){return new(t||Rn)},Rn.\u0275dir=r.Gb({type:Rn,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&r.Cb("required",e.required?"":null)},inputs:{required:"required"},features:[r.Ab([qn])]}),Rn),Hn={provide:se,useExisting:Object(r.T)((function(){return zn})),multi:!0},zn=((Vn=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnChanges",value:function(t){"pattern"in t&&(this._createValidator(),this._onChange&&this._onChange())}},{key:"validate",value:function(t){return this._validator(t)}},{key:"registerOnValidatorChange",value:function(t){this._onChange=t}},{key:"_createValidator",value:function(){this._validator=le.pattern(this.pattern)}}]),t}()).\u0275fac=function(t){return new(t||Vn)},Vn.\u0275dir=r.Gb({type:Vn,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&r.Cb("pattern",e.pattern?e.pattern:null)},inputs:{pattern:"pattern"},features:[r.Ab([Hn]),r.zb]}),Vn),Gn=((Mn=function t(){_classCallCheck(this,t)}).\u0275mod=r.Jb({type:Mn}),Mn.\u0275inj=r.Ib({factory:function(t){return new(t||Mn)}}),Mn),Wn=((jn=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"group",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this._reduceControls(t),r=null,i=null,o=void 0;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(r=null!=e.validators?e.validators:null,i=null!=e.asyncValidators?e.asyncValidators:null,o=null!=e.updateOn?e.updateOn:void 0):(r=null!=e.validator?e.validator:null,i=null!=e.asyncValidator?e.asyncValidator:null)),new ln(n,{asyncValidators:i,updateOn:o,validators:r})}},{key:"control",value:function(t,e,n){return new cn(t,e,n)}},{key:"array",value:function(t,e,n){var r=this,i=t.map((function(t){return r._createControl(t)}));return new hn(i,e,n)}},{key:"_reduceControls",value:function(t){var e=this,n={};return Object.keys(t).forEach((function(r){n[r]=e._createControl(t[r])})),n}},{key:"_createControl",value:function(t){return t instanceof cn||t instanceof ln||t instanceof hn?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}]),t}()).\u0275fac=function(t){return new(t||jn)},jn.\u0275prov=r.Hb({token:jn,factory:jn.\u0275fac}),jn),Kn=((Ln=function t(){_classCallCheck(this,t)}).\u0275mod=r.Jb({type:Ln}),Ln.\u0275inj=r.Ib({factory:function(t){return new(t||Ln)},providers:[Ee],imports:[Gn]}),Ln),Qn=((Pn=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"withConfig",value:function(e){return{ngModule:t,providers:[{provide:Sn,useValue:e.warnOnNgModelWithFormControl}]}}}]),t}()).\u0275mod=r.Jb({type:Pn}),Pn.\u0275inj=r.Ib({factory:function(t){return new(t||Pn)},providers:[Wn,Ee],imports:[Gn]}),Pn),Yn=n("LRne"),Zn=n("5+tZ");function Xn(t,e){return Object(Zn.a)(t,e,1)}var Jn=n("7o/Q");function $n(t,e){return function(n){return n.lift(new tr(t,e))}}var tr=function(){function t(e,n){_classCallCheck(this,t),this.predicate=e,this.thisArg=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new er(t,this.predicate,this.thisArg))}}]),t}(),er=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).predicate=r,o.thisArg=i,o.count=0,o}return _createClass(n,[{key:"_next",value:function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}]),n}(Jn.a),nr=function t(){_classCallCheck(this,t)},rr=function t(){_classCallCheck(this,t)},ir=function(){function t(e){var n=this;_classCallCheck(this,t),this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?function(){n.headers=new Map,e.split("\n").forEach((function(t){var e=t.indexOf(":");if(e>0){var r=t.slice(0,e),i=r.toLowerCase(),o=t.slice(e+1).trim();n.maybeSetNormalizedName(r,i),n.headers.has(i)?n.headers.get(i).push(o):n.headers.set(i,[o])}}))}:function(){n.headers=new Map,Object.keys(e).forEach((function(t){var r=e[t],i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(n.headers.set(i,r),n.maybeSetNormalizedName(t,i))}))}:this.headers=new Map}return _createClass(t,[{key:"has",value:function(t){return this.init(),this.headers.has(t.toLowerCase())}},{key:"get",value:function(t){this.init();var e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(t){return this.init(),this.headers.get(t.toLowerCase())||null}},{key:"append",value:function(t,e){return this.clone({name:t,value:e,op:"a"})}},{key:"set",value:function(t,e){return this.clone({name:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({name:t,value:e,op:"d"})}},{key:"maybeSetNormalizedName",value:function(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}},{key:"init",value:function(){var e=this;this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach((function(t){return e.applyUpdate(t)})),this.lazyUpdate=null))}},{key:"copyFrom",value:function(t){var e=this;t.init(),Array.from(t.headers.keys()).forEach((function(n){e.headers.set(n,t.headers.get(n)),e.normalizedNames.set(n,t.normalizedNames.get(n))}))}},{key:"clone",value:function(e){var n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}},{key:"applyUpdate",value:function(t){var e=t.name.toLowerCase();switch(t.op){case"a":case"s":var n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);var r=("a"===t.op?this.headers.get(e):void 0)||[];r.push.apply(r,_toConsumableArray(n)),this.headers.set(e,r);break;case"d":var i=t.value;if(i){var o=this.headers.get(e);if(!o)return;0===(o=o.filter((function(t){return-1===i.indexOf(t)}))).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}}},{key:"forEach",value:function(t){var e=this;this.init(),Array.from(this.normalizedNames.keys()).forEach((function(n){return t(e.normalizedNames.get(n),e.headers.get(n))}))}}]),t}(),or=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"encodeKey",value:function(t){return ar(t)}},{key:"encodeValue",value:function(t){return ar(t)}},{key:"decodeKey",value:function(t){return decodeURIComponent(t)}},{key:"decodeValue",value:function(t){return decodeURIComponent(t)}}]),t}();function ar(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var sr=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(_classCallCheck(this,t),this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new or,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){var n=new Map;return t.length>0&&t.split("&").forEach((function(t){var r=t.indexOf("="),i=_slicedToArray(-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],2),o=i[0],a=i[1],s=n.get(o)||[];s.push(a),n.set(o,s)})),n}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach((function(t){var r=n.fromObject[t];e.map.set(t,Array.isArray(r)?r:[r])}))):this.map=null}return _createClass(t,[{key:"has",value:function(t){return this.init(),this.map.has(t)}},{key:"get",value:function(t){this.init();var e=this.map.get(t);return e?e[0]:null}},{key:"getAll",value:function(t){return this.init(),this.map.get(t)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(t,e){return this.clone({param:t,value:e,op:"a"})}},{key:"set",value:function(t,e){return this.clone({param:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({param:t,value:e,op:"d"})}},{key:"toString",value:function(){var t=this;return this.init(),this.keys().map((function(e){var n=t.encoder.encodeKey(e);return t.map.get(e).map((function(e){return n+"="+t.encoder.encodeValue(e)})).join("&")})).filter((function(t){return""!==t})).join("&")}},{key:"clone",value:function(e){var n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([e]),n}},{key:"init",value:function(){var t=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach((function(e){return t.map.set(e,t.cloneFrom.map.get(e))})),this.updates.forEach((function(e){switch(e.op){case"a":case"s":var n=("a"===e.op?t.map.get(e.param):void 0)||[];n.push(e.value),t.map.set(e.param,n);break;case"d":if(void 0===e.value){t.map.delete(e.param);break}var r=t.map.get(e.param)||[],i=r.indexOf(e.value);-1!==i&&r.splice(i,1),r.length>0?t.map.set(e.param,r):t.map.delete(e.param)}})),this.cloneFrom=this.updates=null)}}]),t}();function ur(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function cr(t){return"undefined"!=typeof Blob&&t instanceof Blob}function lr(t){return"undefined"!=typeof FormData&&t instanceof FormData}var hr=function(){function t(e,n,r,i){var o;if(_classCallCheck(this,t),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.params&&(this.params=o.params)),this.headers||(this.headers=new ir),this.params){var a=this.params.toString();if(0===a.length)this.urlWithParams=n;else{var s=n.indexOf("?");this.urlWithParams=n+(-1===s?"?":s<n.length-1?"&":"")+a}}else this.params=new sr,this.urlWithParams=n}return _createClass(t,[{key:"serializeBody",value:function(){return null===this.body?null:ur(this.body)||cr(this.body)||lr(this.body)||"string"==typeof this.body?this.body:this.body instanceof sr?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||lr(this.body)?null:cr(this.body)?this.body.type||null:ur(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof sr?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,s=void 0!==e.reportProgress?e.reportProgress:this.reportProgress,u=e.headers||this.headers,c=e.params||this.params;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((function(t,n){return t.set(n,e.setHeaders[n])}),u)),e.setParams&&(c=Object.keys(e.setParams).reduce((function(t,n){return t.set(n,e.setParams[n])}),c)),new t(n,r,o,{params:c,headers:u,reportProgress:s,responseType:i,withCredentials:a})}}]),t}(),fr=function(){var t={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return t[t.Sent]="Sent",t[t.UploadProgress]="UploadProgress",t[t.ResponseHeader]="ResponseHeader",t[t.DownloadProgress]="DownloadProgress",t[t.Response]="Response",t[t.User]="User",t}(),dr=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";_classCallCheck(this,t),this.headers=e.headers||new ir,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300},pr=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),(t=e.call(this,r)).type=fr.ResponseHeader,t}return _createClass(n,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),n}(dr),vr=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),(t=e.call(this,r)).type=fr.Response,t.body=void 0!==r.body?r.body:null,t}return _createClass(n,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),n}(dr),yr=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this,t,0,"Unknown Error")).name="HttpErrorResponse",r.ok=!1,r.message=r.status>=200&&r.status<300?"Http failure during parsing for "+(t.url||"(unknown url)"):"Http failure response for ".concat(t.url||"(unknown url)",": ").concat(t.status," ").concat(t.statusText),r.error=t.error||null,r}return n}(dr);function gr(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}var mr,br,_r,wr,kr,Cr,Sr,Er,Tr,Ir=((mr=function(){function t(e){_classCallCheck(this,t),this.handler=e}return _createClass(t,[{key:"request",value:function(t,e){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t instanceof hr)n=t;else{var o=void 0;o=i.headers instanceof ir?i.headers:new ir(i.headers);var a=void 0;i.params&&(a=i.params instanceof sr?i.params:new sr({fromObject:i.params})),n=new hr(t,e,void 0!==i.body?i.body:null,{headers:o,params:a,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}var s=Object(Yn.a)(n).pipe(Xn((function(t){return r.handler.handle(t)})));if(t instanceof hr||"events"===i.observe)return s;var u=s.pipe($n((function(t){return t instanceof vr})));switch(i.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return u.pipe(Object(jt.a)((function(t){if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body})));case"blob":return u.pipe(Object(jt.a)((function(t){if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body})));case"text":return u.pipe(Object(jt.a)((function(t){if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body})));case"json":default:return u.pipe(Object(jt.a)((function(t){return t.body})))}case"response":return u;default:throw new Error("Unreachable: unhandled observe type ".concat(i.observe,"}"))}}},{key:"delete",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",t,e)}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",t,e)}},{key:"head",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",t,e)}},{key:"jsonp",value:function(t,e){return this.request("JSONP",t,{params:(new sr).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",t,e)}},{key:"patch",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",t,gr(n,e))}},{key:"post",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",t,gr(n,e))}},{key:"put",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",t,gr(n,e))}}]),t}()).\u0275fac=function(t){return new(t||mr)(r.Sb(nr))},mr.\u0275prov=r.Hb({token:mr,factory:mr.\u0275fac}),mr),Or=function(){function t(e,n){_classCallCheck(this,t),this.next=e,this.interceptor=n}return _createClass(t,[{key:"handle",value:function(t){return this.interceptor.intercept(t,this.next)}}]),t}(),Ar=new r.q("HTTP_INTERCEPTORS"),xr=((br=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"intercept",value:function(t,e){return e.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||br)},br.\u0275prov=r.Hb({token:br,factory:br.\u0275fac}),br),Dr=/^\)\]\}',?\n/,Nr=function t(){_classCallCheck(this,t)},Rr=((wr=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"build",value:function(){return new XMLHttpRequest}}]),t}()).\u0275fac=function(t){return new(t||wr)},wr.\u0275prov=r.Hb({token:wr,factory:wr.\u0275fac}),wr),Pr=((_r=function(){function t(e){_classCallCheck(this,t),this.xhrFactory=e}return _createClass(t,[{key:"handle",value:function(t){var e=this;if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new Pt.a((function(n){var r=e.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((function(t,e){return r.setRequestHeader(t,e.join(","))})),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){var i=t.detectContentTypeHeader();null!==i&&r.setRequestHeader("Content-Type",i)}if(t.responseType){var o=t.responseType.toLowerCase();r.responseType="json"!==o?o:"text"}var a=t.serializeBody(),s=null,u=function(){if(null!==s)return s;var e=1223===r.status?204:r.status,n=r.statusText||"OK",i=new ir(r.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(r)||t.url;return s=new pr({headers:i,status:e,statusText:n,url:o})},c=function(){var e=u(),i=e.headers,o=e.status,a=e.statusText,s=e.url,c=null;204!==o&&(c=void 0===r.response?r.responseText:r.response),0===o&&(o=c?200:0);var l=o>=200&&o<300;if("json"===t.responseType&&"string"==typeof c){var h=c;c=c.replace(Dr,"");try{c=""!==c?JSON.parse(c):null}catch(f){c=h,l&&(l=!1,c={error:f,text:c})}}l?(n.next(new vr({body:c,headers:i,status:o,statusText:a,url:s||void 0})),n.complete()):n.error(new yr({error:c,headers:i,status:o,statusText:a,url:s||void 0}))},l=function(t){var e=u().url,i=new yr({error:t,status:r.status||0,statusText:r.statusText||"Unknown Error",url:e||void 0});n.error(i)},h=!1,f=function(e){h||(n.next(u()),h=!0);var i={type:fr.DownloadProgress,loaded:e.loaded};e.lengthComputable&&(i.total=e.total),"text"===t.responseType&&r.responseText&&(i.partialText=r.responseText),n.next(i)},d=function(t){var e={type:fr.UploadProgress,loaded:t.loaded};t.lengthComputable&&(e.total=t.total),n.next(e)};return r.addEventListener("load",c),r.addEventListener("error",l),t.reportProgress&&(r.addEventListener("progress",f),null!==a&&r.upload&&r.upload.addEventListener("progress",d)),r.send(a),n.next({type:fr.Sent}),function(){r.removeEventListener("error",l),r.removeEventListener("load",c),t.reportProgress&&(r.removeEventListener("progress",f),null!==a&&r.upload&&r.upload.removeEventListener("progress",d)),r.abort()}}))}}]),t}()).\u0275fac=function(t){return new(t||_r)(r.Sb(Nr))},_r.\u0275prov=r.Hb({token:_r,factory:_r.\u0275fac}),_r),Lr=new r.q("XSRF_COOKIE_NAME"),jr=new r.q("XSRF_HEADER_NAME"),Mr=function t(){_classCallCheck(this,t)},Vr=((Tr=function(){function t(e,n,r){_classCallCheck(this,t),this.doc=e,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return _createClass(t,[{key:"getToken",value:function(){if("server"===this.platform)return null;var t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=j(t,this.cookieName),this.lastCookieString=t),this.lastToken}}]),t}()).\u0275fac=function(t){return new(t||Tr)(r.Sb(u),r.Sb(r.B),r.Sb(Lr))},Tr.\u0275prov=r.Hb({token:Tr,factory:Tr.\u0275fac}),Tr),Fr=((Er=function(){function t(e,n){_classCallCheck(this,t),this.tokenService=e,this.headerName=n}return _createClass(t,[{key:"intercept",value:function(t,e){var n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);var r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||Er)(r.Sb(Mr),r.Sb(jr))},Er.\u0275prov=r.Hb({token:Er,factory:Er.\u0275fac}),Er),Ur=((Sr=function(){function t(e,n){_classCallCheck(this,t),this.backend=e,this.injector=n,this.chain=null}return _createClass(t,[{key:"handle",value:function(t){if(null===this.chain){var e=this.injector.get(Ar,[]);this.chain=e.reduceRight((function(t,e){return new Or(t,e)}),this.backend)}return this.chain.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||Sr)(r.Sb(rr),r.Sb(r.r))},Sr.\u0275prov=r.Hb({token:Sr,factory:Sr.\u0275fac}),Sr),qr=((Cr=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"disable",value:function(){return{ngModule:t,providers:[{provide:Fr,useClass:xr}]}}},{key:"withOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:t,providers:[e.cookieName?{provide:Lr,useValue:e.cookieName}:[],e.headerName?{provide:jr,useValue:e.headerName}:[]]}}}]),t}()).\u0275mod=r.Jb({type:Cr}),Cr.\u0275inj=r.Ib({factory:function(t){return new(t||Cr)},providers:[Fr,{provide:Ar,useExisting:Fr,multi:!0},{provide:Mr,useClass:Vr},{provide:Lr,useValue:"XSRF-TOKEN"},{provide:jr,useValue:"X-XSRF-TOKEN"}]}),Cr),Br=((kr=function t(){_classCallCheck(this,t)}).\u0275mod=r.Jb({type:kr}),kr.\u0275inj=r.Ib({factory:function(t){return new(t||kr)},providers:[Ir,{provide:nr,useClass:Ur},Pr,{provide:rr,useExisting:Pr},Rr,{provide:Nr,useExisting:Rr}],imports:[[qr.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),kr),Hr=n("jmUF"),zr=n("D0XW"),Gr=n("bHdf");function Wr(){return Object(Gr.a)(1)}function Kr(){return Wr()(Object(Yn.a).apply(void 0,arguments))}var Qr=n("z+Ro");function Yr(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e[e.length-1];return Object(Qr.a)(r)?(e.pop(),function(t){return Kr(e,t,r)}):function(t){return Kr(e,t)}}function Zr(){return function(t){return t.lift(new Xr)}}var Xr=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Jr(t))}}]),t}(),Jr=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this,t)).hasPrev=!1,r}return _createClass(n,[{key:"_next",value:function(t){var e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}]),n}(Jn.a);function $r(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new ti(t,e,n))}}var ti=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,t),this.accumulator=e,this.seed=n,this.hasSeed=r}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new ei(t,this.accumulator,this.seed,this.hasSeed))}}]),t}(),ei=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t)).accumulator=r,a._seed=i,a.hasSeed=o,a.index=0,a}return _createClass(n,[{key:"seed",get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t}},{key:"_next",value:function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(r){this.destination.error(r)}this.seed=e,this.destination.next(e)}}]),n}(Jn.a),ni=function(){function t(e,n){_classCallCheck(this,t),this.compare=e,this.keySelector=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new ri(t,this.compare,this.keySelector))}}]),t}(),ri=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).keySelector=i,o.hasKey=!1,"function"==typeof r&&(o.compare=r),o}return _createClass(n,[{key:"compare",value:function(t,e){return t===e}},{key:"_next",value:function(t){var e;try{var n=this.keySelector;e=n?n(t):t}catch(i){return this.destination.error(i)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=e,this.destination.next(t))}}]),n}(Jn.a),ii=n("pxpQ"),oi=n("Jgta"),ai=n("zIRd"),si=n("qOnz"),ui=n("q/0M"),ci=function(t,e){return(ci=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function li(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var hi,fi="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},di=di||{},pi=fi||self;function vi(){}function yi(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function gi(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var mi="closure_uid_"+(1e9*Math.random()>>>0),bi=0;function _i(t,e,n){return t.call.apply(t.bind,arguments)}function wi(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function ki(t,e,n){return(ki=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_i:wi).apply(null,arguments)}function Ci(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Si(){return Date.now()}function Ei(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Pb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Ti(){this.j=this.j,this.i=this.i}Ti.prototype.j=!1,Ti.prototype.ka=function(){!this.j&&(this.j=!0,this.H(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,mi)&&t[mi]||(t[mi]=++bi)}(this)},Ti.prototype.H=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Ii=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Oi=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Ai(t){return Array.prototype.concat.apply([],arguments)}function xi(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Di(t){return/^[\s\xa0]*$/.test(t)}var Ni,Ri=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Pi(t,e){return-1!=t.indexOf(e)}function Li(t,e){return t<e?-1:t>e?1:0}t:{var ji=pi.navigator;if(ji){var Mi=ji.userAgent;if(Mi){Ni=Mi;break t}}Ni=""}function Vi(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Fi(t){var e={};for(var n in t)e[n]=t[n];return e}var Ui="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qi(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<Ui.length;o++)n=Ui[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Bi(t){return Bi[" "](t),t}Bi[" "]=vi;var Hi,zi,Gi=Pi(Ni,"Opera"),Wi=Pi(Ni,"Trident")||Pi(Ni,"MSIE"),Ki=Pi(Ni,"Edge"),Qi=Ki||Wi,Yi=Pi(Ni,"Gecko")&&!(Pi(Ni.toLowerCase(),"webkit")&&!Pi(Ni,"Edge"))&&!(Pi(Ni,"Trident")||Pi(Ni,"MSIE"))&&!Pi(Ni,"Edge"),Zi=Pi(Ni.toLowerCase(),"webkit")&&!Pi(Ni,"Edge");function Xi(){var t=pi.document;return t?t.documentMode:void 0}t:{var Ji="",$i=(zi=Ni,Yi?/rv:([^\);]+)(\)|;)/.exec(zi):Ki?/Edge\/([\d\.]+)/.exec(zi):Wi?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(zi):Zi?/WebKit\/(\S+)/.exec(zi):Gi?/(?:Version)[ \/]?(\S+)/.exec(zi):void 0);if($i&&(Ji=$i?$i[1]:""),Wi){var to=Xi();if(null!=to&&to>parseFloat(Ji)){Hi=String(to);break t}}Hi=Ji}var eo={};function no(t){return function(t,e){var n=eo;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=Ri(String(Hi)).split("."),r=Ri(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=Li(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||Li(0==a[2].length,0==s[2].length)||Li(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}var ro=pi.document&&Wi&&(Xi()||parseInt(Hi,10))||void 0,io=!Wi||9<=Number(ro),oo=Wi&&!no("9"),ao=function(){if(!pi.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{pi.addEventListener("test",vi,e),pi.removeEventListener("test",vi,e)}catch(n){}return t}();function so(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function uo(t,e){if(so.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Yi){t:{try{Bi(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:co[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}so.prototype.b=function(){this.defaultPrevented=!0},Ei(uo,so);var co={2:"touch",3:"pen",4:"mouse"};uo.prototype.b=function(){uo.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,oo)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var lo="closure_listenable_"+(1e6*Math.random()|0),ho=0;function fo(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.da=i,this.key=++ho,this.Y=this.Z=!1}function po(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.da=null}function vo(t){this.src=t,this.a={},this.b=0}function yo(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Ii(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(po(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function go(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.da==r)return i}return-1}vo.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=go(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):((e=new fo(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var mo="closure_lm_"+(1e6*Math.random()|0),bo={};function _o(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);return null}return r=Oo(r),e&&e[lo]?e.xa(n,r,gi(i)?!!i.capture:!!i,o):wo(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)_o(t,e[o],n,r,i);return null}return n=Oo(n),t&&t[lo]?t.wa(e,n,gi(r)?!!r.capture:!!r,i):wo(t,e,n,!1,r,i)}function wo(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=gi(i)?!!i.capture:!!i;if(a&&!io)return null;var s=To(t);if(s||(t[mo]=s=new vo(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=Eo,e=io?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ao||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Co(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function ko(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[lo])yo(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Co(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=To(e))?(yo(n,t),0==n.b&&(n.src=null,e[mo]=null)):po(t)}}}function Co(t){return t in bo?bo[t]:bo[t]="on"+t}function So(t,e){var n=t.listener,r=t.da||t.src;return t.Z&&ko(t),n.call(r,e)}function Eo(t,e){if(t.Y)return!0;if(!io){if(!e)t:{e=["window","event"];for(var n=pi,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return So(t,e=new uo(e,this))}return So(t,new uo(e,this))}function To(t){return(t=t[mo])instanceof vo?t:null}var Io="__closure_events_fn_"+(1e9*Math.random()>>>0);function Oo(t){return"function"==typeof t?t:(t[Io]||(t[Io]=function(e){return t.handleEvent(e)}),t[Io])}function Ao(){Ti.call(this),this.c=new vo(this),this.J=this,this.D=null}function xo(t,e){var n,r=t.D;if(r)for(n=[];r;r=r.D)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new so(e,t);else if(e instanceof so)e.target=e.target||t;else{var i=e;qi(e=new so(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.a=n[o];i=Do(a,r,!0,e)&&i}if(i=Do(a=e.a=t,r,!0,e)&&i,i=Do(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Do(a=e.a=n[o],r,!1,e)&&i}function Do(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.da||a.src;a.Z&&yo(t.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Ei(Ao,Ti),Ao.prototype[lo]=!0,(hi=Ao.prototype).addEventListener=function(t,e,n,r){_o(this,t,e,n,r)},hi.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var a=0;a<n.length;a++)t(e,n[a],r,i,o);else i=gi(i)?!!i.capture:!!i,r=Oo(r),e&&e[lo]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=go(a=e.a[n],r,i,o))&&(po(a[r]),Array.prototype.splice.call(a,r,1),0==a.length&&(delete e.a[n],e.b--))):e&&(e=To(e))&&(n=e.a[n.toString()],e=-1,n&&(e=go(n,r,i,o)),(r=-1<e?n[e]:null)&&ko(r))}(this,t,e,n,r)},hi.H=function(){if(Ao.X.H.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)po(n[r]);delete e.a[t],e.b--}}this.D=null},hi.wa=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},hi.xa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var No=pi.JSON.stringify;function Ro(){this.b=this.a=null}var Po,Lo=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new Mo}),(function(t){t.reset()}));function jo(){var t=qo,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Mo(){this.next=this.b=this.a=null}function Vo(t){pi.setTimeout((function(){throw t}),0)}function Fo(t,e){Po||function(){var t=pi.Promise.resolve(void 0);Po=function(){t.then(Bo)}}(),Uo||(Po(),Uo=!0),qo.add(t,e)}Ro.prototype.add=function(t,e){var n=Lo.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Mo.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Mo.prototype.reset=function(){this.next=this.b=this.a=null};var Uo=!1,qo=new Ro;function Bo(){for(var t;t=jo();){try{t.a.call(t.b)}catch(n){Vo(n)}var e=Lo;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Uo=!1}function Ho(t,e){Ao.call(this),this.b=t||1,this.a=e||pi,this.f=ki(this.eb,this),this.g=Si()}function zo(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Go(t,e,n){if("function"==typeof t)n&&(t=ki(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=ki(t.handleEvent,t)}return 2147483647<Number(e)?-1:pi.setTimeout(t,e||0)}function Wo(t){t.a=Go((function(){t.a=null,t.c&&(t.c=!1,Wo(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Ei(Ho,Ao),(hi=Ho.prototype).aa=!1,hi.M=null,hi.eb=function(){if(this.aa){var t=Si()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),xo(this,"tick"),this.aa&&(zo(this),this.start()))}},hi.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Si())},hi.H=function(){Ho.X.H.call(this),zo(this),delete this.a};var Ko=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}ci(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Wo(this)},e.prototype.H=function(){t.prototype.H.call(this),this.a&&(pi.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Ti);function Qo(t){Ti.call(this),this.b=t,this.a={}}Ei(Qo,Ti);var Yo=[];function Zo(t,e,n,r){Array.isArray(n)||(n&&(Yo[0]=n.toString()),n=Yo);for(var i=0;i<n.length;i++){var o=_o(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Xo(t){Vi(t.a,(function(t,e){this.a.hasOwnProperty(e)&&ko(t)}),t),t.a={}}function Jo(){this.a=!0}function $o(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return No(n)}catch(s){return e}}(t,n)+(r?" "+r:"")}))}Qo.prototype.H=function(){Qo.X.H.call(this),Xo(this)},Qo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Jo.prototype.info=function(){};var ta={},ea=null;function na(){return ea=ea||new Ao}function ra(t){so.call(this,ta.Ga,t)}function ia(t){var e=na();xo(e,new ra(e,t))}function oa(t,e){so.call(this,ta.STAT_EVENT,t),this.stat=e}function aa(t){var e=na();xo(e,new oa(e,t))}function sa(t){so.call(this,ta.Ha,t)}function ua(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return pi.setTimeout((function(){t()}),e)}ta.Ga="serverreachability",Ei(ra,so),ta.STAT_EVENT="statevent",Ei(oa,so),ta.Ha="timingevent",Ei(sa,so);var ca={NO_ERROR:0,fb:1,sb:2,rb:3,mb:4,qb:5,tb:6,Ea:7,TIMEOUT:8,wb:9},la={kb:"complete",Gb:"success",Fa:"error",Ea:"abort",yb:"ready",zb:"readystatechange",TIMEOUT:"timeout",ub:"incrementaldata",xb:"progress",nb:"downloadprogress",Ob:"uploadprogress"};function ha(){}function fa(){}ha.prototype.b=null;var da,pa={OPEN:"a",jb:"b",Fa:"c",vb:"d"};function va(){so.call(this,"d")}function ya(){so.call(this,"c")}function ga(){}function ma(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Qo(this),this.P=ba,this.R=new Ho(t=Qi?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.G=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Ei(va,so),Ei(ya,so),Ei(ga,ha),ga.prototype.a=function(){return new XMLHttpRequest},ga.prototype.c=function(){return{}},da=new ga;var ba=45e3,_a={},wa={};function ka(t,e,n){t.G=1,t.i=za(Va(e)),t.j=n,t.I=!0,Ca(t,null)}function Ca(t,e){t.u=Si(),Ta(t),t.l=Va(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),rs(n.b,"t",r),t.D=0,t.a=Xs(t.g,t.g.C?e:null),0<t.O&&(t.F=new Ko(ki(t.Da,t,t.a),t.O)),Zo(t.J,t.a,"readystatechange",t.bb),e=t.B?Fi(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),ia(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function Sa(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Ea(t,n);if(i==wa){4==e&&(t.h=4,aa(14),r=!1),$o(t.c,t.f,null,"[Incomplete Response]");break}if(i==_a){t.h=4,aa(15),$o(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}$o(t.c,t.f,i,null),Da(t,i)}4==e&&0==n.length&&(t.h=1,aa(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Hs(e),e.F=!0,aa(11))):($o(t.c,t.f,n,"[Invalid Chunked Response]"),xa(t),Aa(t))}function Ea(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?wa:(n=Number(e.substring(n,r)),isNaN(n)?_a:(r+=1)+n>e.length?wa:(e=e.substr(r,n),t.D=r+n,e))}function Ta(t){t.T=Si()+t.P,Ia(t,t.P)}function Ia(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=ua(ki(t.$a,t),e)}function Oa(t){t.o&&(pi.clearTimeout(t.o),t.o=null)}function Aa(t){0==t.g.v||t.A||Ws(t.g,t)}function xa(t){Oa(t);var e=t.F;e&&"function"==typeof e.ka&&e.ka(),t.F=null,zo(t.R),Xo(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ka())}function Da(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||ls(n.b,t)))if(n.I=t.N,!t.C&&ls(n.b,t)&&3==n.v){try{var r=n.la.a.parse(e)}catch(em){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Gs(n),Ps(n)}Bs(n),aa(18)}}else n.pa=i[1],0<n.pa-n.P&&37500>i[2]&&n.G&&0==n.o&&!n.m&&(n.m=ua(ki(n.Xa,n),6e3));if(1>=cs(n.b)&&n.fa){try{n.fa()}catch(em){}n.fa=void 0}}else Qs(n,11)}else if((t.C||n.a==t)&&Gs(n),!Di(e))for(e=r=n.la.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ha=i[2];var o=i[3];null!=o&&(n.ia=o,n.c.info("VER="+n.ia));var a=i[4];null!=a&&(n.qa=a,n.c.info("SVER="+n.qa));var s=i[5];if(null!=s&&"number"==typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(Pi(l,"spdy")||Pi(l,"quic")||Pi(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(hs(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.oa=f,Ha(u.B,u.A,f))}}n.v=3,n.f&&n.f.ua(),n.U&&(n.N=Si()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).ma=Zs(u,u.C?u.ha:null,u.ga),d.C){fs(u.b,d);var p=d,v=u.D;v&&p.setTimeout(v),p.o&&(Oa(p),Ta(p)),u.a=d}else qs(u);0<n.g.length&&Ms(n)}else"stop"!=i[0]&&"close"!=i[0]||Qs(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Qs(n,7):Rs(n):"noop"!=i[0]&&n.f&&n.f.ta(i),n.o=0);ia(4)}catch(em){}}function Na(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(yi(t)||"string"==typeof t)Oi(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(yi(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(yi(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Ra(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ra)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Pa(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];La(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)La(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function La(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(hi=ma.prototype).setTimeout=function(t){this.P=t},hi.bb=function(t){t=t.target;var e=this.F;e&&3==As(t)?e.f():this.Da(t)},hi.Da=function(t){try{if(t==this.a)t:{var e=As(this.a),n=this.a.va(),r=this.a.W();if(!(3>e||3==e&&!Qi&&!this.a.$())){this.A||4!=e||7==n||ia(8==n||0>=r?3:2),Oa(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,a){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Di(a)){var u=a;break e}}u=null}if(!u){this.b=!1,this.h=3,aa(12),xa(this),Aa(this);break t}$o(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Da(this,u)}this.I?(Sa(this,e,o),Qi&&this.b&&3==e&&(Zo(this.J,this.R,"tick",this.ab),this.R.start())):($o(this.c,this.f,o,null),Da(this,o)),4==e&&xa(this),this.b&&!this.A&&(4==e?Ws(this.g,this):(this.b=!1,Ta(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,aa(12)):(this.h=0,aa(13)),xa(this),Aa(this)}}}catch(c){}},hi.ab=function(){if(this.a){var t=As(this.a),e=this.a.$();this.D<e.length&&(Oa(this),Sa(this,t,e),this.b&&4!=t&&Ta(this))}},hi.cancel=function(){this.A=!0,xa(this)},hi.$a=function(){this.o=null;var t=Si();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.G&&(ia(3),aa(17)),xa(this),this.h=2,Aa(this)):Ia(this,this.T-t)},(hi=Ra.prototype).K=function(){Pa(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},hi.L=function(){return Pa(this),this.a.concat()},hi.get=function(t,e){return La(this.b,t)?this.b[t]:e},hi.set=function(t,e){La(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},hi.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var ja=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ma(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Ma){this.a=void 0!==e?e:t.a,Fa(this,t.f),this.j=t.j,Ua(this,t.c),qa(this,t.h),this.g=t.g,e=t.b;var n=new $a;n.c=e.c,e.a&&(n.a=new Ra(e.a),n.b=e.b),Ba(this,n),this.i=t.i}else t&&(n=String(t).match(ja))?(this.a=!!e,Fa(this,n[1]||"",!0),this.j=Ga(n[2]||""),Ua(this,n[3]||"",!0),qa(this,n[4]),this.g=Ga(n[5]||"",!0),Ba(this,n[6]||"",!0),this.i=Ga(n[7]||"")):(this.a=!!e,this.b=new $a(null,this.a))}function Va(t){return new Ma(t)}function Fa(t,e,n){t.f=n?Ga(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Ua(t,e,n){t.c=n?Ga(e,!0):e}function qa(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Ba(t,e,n){e instanceof $a?(t.b=e,function(t,e){e&&!t.f&&(ts(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(es(this,e),rs(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=Wa(e,Xa)),t.b=new $a(e,t.a))}function Ha(t,e,n){t.b.set(e,n)}function za(t){return Ha(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Si()).toString(36)),t}function Ga(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Wa(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Ka),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ka(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ma.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Wa(e,Qa,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Wa(e,Qa,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Wa(n,"/"==n.charAt(0)?Za:Ya,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Wa(n,Ja)),t.join("")};var Qa=/[#\/\?@]/g,Ya=/[#\?:]/g,Za=/[#\?]/g,Xa=/[#\?@]/g,Ja=/#/g;function $a(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function ts(t){t.a||(t.a=new Ra,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function es(t,e){ts(t),e=is(t,e),La(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,La((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Pa(t)))}function ns(t,e){return ts(t),e=is(t,e),La(t.a.b,e)}function rs(t,e,n){es(t,e),0<n.length&&(t.c=null,t.a.set(is(t,e),xi(n)),t.b+=n.length)}function is(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(hi=$a.prototype).add=function(t,e){ts(this),this.c=null,t=is(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},hi.forEach=function(t,e){ts(this),this.a.forEach((function(n,r){Oi(n,(function(n){t.call(e,n,r,this)}),this)}),this)},hi.L=function(){ts(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},hi.K=function(t){ts(this);var e=[];if("string"==typeof t)ns(this,t)&&(e=Ai(e,this.a.get(is(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Ai(e,t[n])}return e},hi.set=function(t,e){return ts(this),this.c=null,ns(this,t=is(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},hi.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},hi.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var os=function(t,e){this.b=t,this.a=e};function as(t){this.g=t||ss,t=pi.PerformanceNavigationTiming?0<(t=pi.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(pi.ja&&pi.ja.za&&pi.ja.za()&&pi.ja.za().Qb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var ss=10;function us(t){return!!t.b||!!t.a&&t.a.size>=t.f}function cs(t){return t.b?1:t.a?t.a.size:0}function ls(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function hs(t,e){t.a?t.a.add(e):t.b=e}function fs(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function ds(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=li(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return xi(t.c)}function ps(){}function vs(){this.a=new ps}function ys(t,e,n){var r=n||"";try{Na(t,(function(t,n){var i=t;gi(t)&&(i=No(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(Em){throw e.push(r+"type="+encodeURIComponent("_badmap")),Em}}function gs(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}as.prototype.cancel=function(){var t,e;if(this.c=ds(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=li(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},ps.prototype.stringify=function(t){return pi.JSON.stringify(t,void 0)},ps.prototype.parse=function(t){return pi.JSON.parse(t,void 0)};var ms=pi.JSON.parse;function bs(t){Ao.call(this),this.headers=new Ra,this.l=t||null,this.b=!1,this.u=this.a=null,this.C="",this.h=0,this.f="",this.g=this.B=this.m=this.A=!1,this.s=0,this.o=null,this.I=_s,this.F=this.G=!1}Ei(bs,Ao);var _s="",ws=/^https?$/i,ks=["POST","PUT"];function Cs(t){return"content-type"==t.toLowerCase()}function Ss(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Es(t),Is(t)}function Es(t){t.A||(t.A=!0,xo(t,"complete"),xo(t,"error"))}function Ts(t){if(t.b&&void 0!==di&&(!t.u[1]||4!=As(t)||2!=t.W()))if(t.m&&4==As(t))Go(t.Aa,0,t);else if(xo(t,"readystatechange"),4==As(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.C).match(ja)[1]||null;if(!o&&pi.self&&pi.self.location){var a=pi.self.location.protocol;o=a.substr(0,a.length-1)}i=!ws.test(o?o.toLowerCase():"")}e=i}if(e)xo(t,"complete"),xo(t,"success");else{t.h=6;try{var s=2<As(t)?t.a.statusText:""}catch(n){s=""}t.f=s+" ["+t.W()+"]",Es(t)}}finally{Is(t)}}}function Is(t,e){if(t.a){Os(t);var n=t.a,r=t.u[0]?vi:null;t.a=null,t.u=null,e||xo(t,"ready");try{n.onreadystatechange=r}catch(Em){}}}function Os(t){t.a&&t.F&&(t.a.ontimeout=null),t.o&&(pi.clearTimeout(t.o),t.o=null)}function As(t){return t.a?t.a.readyState:0}function xs(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Vi(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ha(t,e,n))}function Ds(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Ns(t){this.qa=0,this.g=[],this.c=new Jo,this.ha=this.ma=this.B=this.ga=this.a=this.oa=this.A=this.V=this.i=this.O=this.l=null,this.Pa=this.R=0,this.Ma=Ds("failFast",!1,t),this.G=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.pa=this.P=-1,this.T=this.o=this.u=0,this.Ia=Ds("baseRetryDelayMs",5e3,t),this.Sa=Ds("retryDelaySeedMs",1e4,t),this.Na=Ds("forwardChannelMaxRetries",2,t),this.na=Ds("forwardChannelRequestTimeoutMs",2e4,t),this.Oa=t&&t.xmlHttpFactory||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new as(t&&t.concurrentRequestLimit),this.la=new vs,this.ea=t&&t.fastHandshake||!1,this.Ja=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.ea&&this.S&&t&&t.detectBufferingProxy||!1,this.fa=void 0,this.N=0,this.F=!1,this.s=null,(this.La=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Rs(t){if(Ls(t),3==t.v){var e=t.R++,n=Va(t.B);Ha(n,"SID",t.J),Ha(n,"RID",e),Ha(n,"TYPE","terminate"),Fs(t,n),(e=new ma(t,t.c,e,void 0)).G=2,e.i=za(Va(n)),n=!1,pi.navigator&&pi.navigator.sendBeacon&&(n=pi.navigator.sendBeacon(e.i.toString(),"")),!n&&pi.Image&&((new Image).src=e.i,n=!0),n||(e.a=Xs(e.g,null),e.a.ba(e.i)),e.u=Si(),Ta(e)}Ys(t)}function Ps(t){t.a&&(Hs(t),t.a.cancel(),t.a=null)}function Ls(t){Ps(t),t.j&&(pi.clearTimeout(t.j),t.j=null),Gs(t),t.b.cancel(),t.h&&("number"==typeof t.h&&pi.clearTimeout(t.h),t.h=null)}function js(t,e){t.g.push(new os(t.Pa++,e)),3==t.v&&Ms(t)}function Ms(t){us(t.b)||t.h||(t.h=!0,Fo(t.Ca,t),t.u=0)}function Vs(t,e){var n;n=e?e.f:t.R++;var r=Va(t.B);Ha(r,"SID",t.J),Ha(r,"RID",n),Ha(r,"AID",t.P),Fs(t,r),t.i&&t.l&&xs(r,t.i,t.l),n=new ma(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Us(t,n,1e3),n.setTimeout(Math.round(.5*t.na)+Math.round(.5*t.na*Math.random())),hs(t.b,n),ka(n,r,e)}function Fs(t,e){t.f&&Na({},(function(t,n){Ha(e,n,t)}))}function Us(t,e,n){n=Math.min(t.g.length,n);var r=t.f?ki(t.f.Ka,t.f,t):null;t:for(var i=t.g,o=-1;;){var a=["count="+n];-1==o?0<n?a.push("ofs="+(o=i[0].b)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{ys(l,a,"req"+c+"_")}catch(Vu){r&&r(l)}}if(s){r=a.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function qs(t){t.a||t.j||(t.T=1,Fo(t.Ba,t),t.o=0)}function Bs(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=ua(ki(t.Ba,t),Ks(t,t.o)),t.o++,0))}function Hs(t){null!=t.s&&(pi.clearTimeout(t.s),t.s=null)}function zs(t){t.a=new ma(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Va(t.ma);Ha(e,"RID","rpc"),Ha(e,"SID",t.J),Ha(e,"CI",t.G?"0":"1"),Ha(e,"AID",t.P),Fs(t,e),Ha(e,"TYPE","xmlhttp"),t.i&&t.l&&xs(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ha,n.G=1,n.i=za(Va(e)),n.j=null,n.I=!0,Ca(n,t)}function Gs(t){null!=t.m&&(pi.clearTimeout(t.m),t.m=null)}function Ws(t,e){var n=null;if(t.a==e){Gs(t),Hs(t),t.a=null;var r=2}else{if(!ls(t.b,e))return;n=e.s,fs(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Si()-e.u;var i=t.u;xo(r=na(),new sa(r,n,e,i)),Ms(t)}else qs(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(cs(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.Ma?0:t.Na)||(t.h=ua(ki(t.Ca,t,e),Ks(t,t.u)),t.u++,0)))}(t,e)||2==r&&Bs(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Qs(t,5);break;case 4:Qs(t,10);break;case 3:Qs(t,6);break;default:Qs(t,2)}}function Ks(t,e){var n=t.Ia+Math.floor(Math.random()*t.Sa);return t.f||(n*=2),n*e}function Qs(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=ki(t.cb,t);n||(n=new Ma("//www.google.com/images/cleardot.gif"),pi.location&&"http"==pi.location.protocol||Fa(n,"https"),za(n)),function(t,e){var n=new Jo;if(pi.Image){var r=new Image;r.onload=Ci(gs,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ci(gs,n,r,"TestLoadImage: error",!1,e),r.onabort=Ci(gs,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ci(gs,n,r,"TestLoadImage: timeout",!1,e),pi.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else aa(2);t.v=0,t.f&&t.f.sa(e),Ys(t),Ls(t)}function Ys(t){t.v=0,t.I=-1,t.f&&(0==ds(t.b).length&&0==t.g.length||(t.b.c.length=0,xi(t.g),t.g.length=0),t.f.ra())}function Zs(t,e,n){var r=function(t){return t instanceof Ma?Va(t):new Ma(t,void 0)}(n);if(""!=r.c)e&&Ua(r,e+"."+r.c),qa(r,r.h);else{var i=pi.location;r=function(t,e,n,r){var i=new Ma(null,void 0);return t&&Fa(i,t),e&&Ua(i,e),n&&qa(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Vi(t.V,(function(t,e){Ha(r,e,t)})),n=t.oa,(e=t.A)&&n&&Ha(r,e,n),Ha(r,"VER",t.ia),Fs(t,r),r}function Xs(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new bs(t.Oa)).G=t.C,e}function Js(){}function $s(){if(Wi&&!(10<=Number(ro)))throw Error("Environmental error: no available transport.")}function tu(t,e){Ao.call(this),this.a=new Ns(e),this.g=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Di(t)&&(this.a.i=t),this.o=e&&e.supportsCrossDomainXhr||!1,this.m=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Di(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new ru(this)}function eu(t){va.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function nu(){ya.call(this),this.status=1}function ru(t){this.a=t}function iu(t){this.f=t}function ou(t){Ao.call(this),this.u=t,this.h=void 0,this.readyState=au,this.status=0,this.responseType=this.responseText=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.o="",this.a=!1,this.m=this.f=this.g=null}(hi=bs.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.C+"; newUri="+t);e=e?e.toUpperCase():"GET",this.C=t,this.f="",this.h=0,this.A=!1,this.b=!0,this.a=this.l?this.l.a():da.a(),this.u=function(t){return t.b||(t.b=t.c())}(this.l?this.l:da),this.a.onreadystatechange=ki(this.Aa,this);try{this.B=!0,this.a.open(e,String(t),!0),this.B=!1}catch(o){return void Ss(this,o)}t=n||"";var i=new Ra(this.headers);r&&Na(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Cs,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=pi.FormData&&t instanceof pi.FormData,!(0<=Ii(ks,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.G&&(this.a.withCredentials=this.G);try{Os(this),0<this.s&&((this.F=function(t){return Wi&&no(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.s,this.a.ontimeout=ki(this.ya,this)):this.o=Go(this.ya,this.s,this)),this.m=!0,this.a.send(t),this.m=!1}catch(o){Ss(this,o)}},hi.ya=function(){void 0!==di&&this.a&&(this.f="Timed out after "+this.s+"ms, aborting",this.h=8,xo(this,"timeout"),this.abort(8))},hi.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,xo(this,"complete"),xo(this,"abort"),Is(this))},hi.H=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Is(this,!0)),bs.X.H.call(this)},hi.Aa=function(){this.j||(this.B||this.m||this.g?Ts(this):this.Za())},hi.Za=function(){Ts(this)},hi.W=function(){try{return 2<As(this)?this.a.status:-1}catch(zi){return-1}},hi.$=function(){try{return this.a?this.a.responseText:""}catch(zi){return""}},hi.Qa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),ms(e)}},hi.va=function(){return this.h},hi.Ra=function(){return"string"==typeof this.f?this.f:String(this.f)},(hi=Ns.prototype).ia=8,hi.v=1,hi.Ca=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new ma(this,this.c,t,void 0),r=this.l;if(this.O&&(r?qi(r=Fi(r),this.O):r=this.O),null===this.i&&(n.B=r),this.ea)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Us(this,n,e),Ha(i=Va(this.B),"RID",t),Ha(i,"CVER",22),this.A&&Ha(i,"X-HTTP-Session-Id",this.A),Fs(this,i),this.i&&r&&xs(i,this.i,r),hs(this.b,n),this.Ja&&Ha(i,"TYPE","init"),this.ea?(Ha(i,"$req",e),Ha(i,"SID","null"),n.U=!0,ka(n,i,null)):ka(n,i,e),this.v=2}}else 3==this.v&&(t?Vs(this,t):0==this.g.length||us(this.b)||Vs(this))},hi.Ba=function(){if(this.j=null,zs(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=ua(ki(this.Ya,this),t)}},hi.Ya=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.F=!0,aa(10),Ps(this),zs(this))},hi.Xa=function(){null!=this.m&&(this.m=null,Ps(this),Bs(this),aa(19))},hi.cb=function(t){t?(this.c.info("Successfully pinged google.com"),aa(2)):(this.c.info("Failed to ping google.com"),aa(1))},(hi=Js.prototype).ua=function(){},hi.ta=function(){},hi.sa=function(){},hi.ra=function(){},hi.Ka=function(){},$s.prototype.a=function(t,e){return new tu(t,e)},Ei(tu,Ao),tu.prototype.h=function(){this.a.f=this.f,this.o&&(this.a.C=!0);var t=this.a,e=this.g,n=this.b||void 0;aa(0),t.ga=e,t.V=n||{},t.G=t.S,t.B=Zs(t,null,t.ga),Ms(t)},tu.prototype.close=function(){Rs(this.a)},tu.prototype.l=function(t){if("string"==typeof t){var e={};e.__data__=t,js(this.a,e)}else this.m?((e={}).__data__=No(t),js(this.a,e)):js(this.a,t)},tu.prototype.H=function(){this.a.f=null,delete this.f,Rs(this.a),delete this.a,tu.X.H.call(this)},Ei(eu,va),Ei(nu,ya),Ei(ru,Js),ru.prototype.ua=function(){xo(this.a,"a")},ru.prototype.ta=function(t){xo(this.a,new eu(t))},ru.prototype.sa=function(t){xo(this.a,new nu(t))},ru.prototype.ra=function(){xo(this.a,"b")},Ei(iu,ha),iu.prototype.a=function(){return new ou(this.f)},iu.prototype.c=function(t){return function(){return t}}({}),Ei(ou,Ao);var au=0;function su(t){t.f.read().then(t.Ta.bind(t)).catch(t.ca.bind(t))}function uu(t){t.readyState=4,t.g=null,t.f=null,t.m=null,cu(t)}function cu(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(hi=ou.prototype).open=function(t,e){if(this.readyState!=au)throw this.abort(),Error("Error reopening a connection");this.s=t,this.o=e,this.readyState=1,cu(this)},hi.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.o,e)).then(this.Wa.bind(this),this.ca.bind(this))},hi.abort=function(){this.responseText="",this.l=new Headers,this.status=0,this.f&&this.f.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,uu(this)),this.readyState=au},hi.Wa=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,cu(this)),this.a&&(this.readyState=3,cu(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.Ua.bind(this),this.ca.bind(this)):void 0!==pi.ReadableStream&&"body"in t?(this.responseText="",this.f=t.body.getReader(),this.m=new TextDecoder,su(this)):t.text().then(this.Va.bind(this),this.ca.bind(this)))))},hi.Ta=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.responseText+=e),t.done?uu(this):cu(this),3==this.readyState&&su(this)}},hi.Va=function(t){this.a&&(this.responseText=t,uu(this))},hi.Ua=function(){this.a&&uu(this)},hi.ca=function(){this.a&&uu(this)},hi.setRequestHeader=function(t,e){this.l.append(t,e)},hi.getResponseHeader=function(t){return this.b&&this.b.get(t.toLowerCase())||""},hi.getAllResponseHeaders=function(){if(!this.b)return"";for(var t=[],e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(ou.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),$s.prototype.createWebChannel=$s.prototype.a,tu.prototype.send=tu.prototype.l,tu.prototype.open=tu.prototype.h,tu.prototype.close=tu.prototype.close,ca.NO_ERROR=0,ca.TIMEOUT=8,ca.HTTP_ERROR=6,la.COMPLETE="complete",fa.EventType=pa,pa.OPEN="a",pa.CLOSE="b",pa.ERROR="c",pa.MESSAGE="d",Ao.prototype.listen=Ao.prototype.wa,bs.prototype.listenOnce=bs.prototype.xa,bs.prototype.getLastError=bs.prototype.Ra,bs.prototype.getLastErrorCode=bs.prototype.va,bs.prototype.getStatus=bs.prototype.W,bs.prototype.getResponseJson=bs.prototype.Qa,bs.prototype.getResponseText=bs.prototype.$,bs.prototype.send=bs.prototype.ba;var lu=ca,hu=la,fu=ta,du=iu,pu=fa,vu=bs,yu=function(t,e){return(yu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function gu(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}yu(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function mu(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(Em){o(Em)}}function s(t){try{u(r.throw(t))}catch(Em){o(Em)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function bu(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(Em){o=[6,Em],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function _u(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||e)}var wu=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();wu.o=-1;var ku={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Cu=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return gu(e,t),e}(Error),Su=new ui.b("@firebase/firestore");function Eu(){return Su.logLevel}function Tu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Su.logLevel<=ui.a.DEBUG){var r=e.map(Au);Su.debug.apply(Su,_u(["Firestore (8.6.8): "+t],r))}}function Iu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Su.logLevel<=ui.a.ERROR){var r=e.map(Au);Su.error.apply(Su,_u(["Firestore (8.6.8): "+t],r))}}function Ou(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Su.logLevel<=ui.a.WARN){var r=e.map(Au);Su.warn.apply(Su,_u(["Firestore (8.6.8): "+t],r))}}function Au(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(Em){return t}}function xu(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.6.8) INTERNAL ASSERTION FAILED: "+t;throw Iu(e),new Error(e)}function Du(t,e){t||xu()}function Nu(t,e){return t}function Ru(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Pu=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Ru(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Lu(t,e){return t<e?-1:t>e?1:0}function ju(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Mu(t){return t+"\0"}var Vu=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Cu(ku.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Cu(ku.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Cu(ku.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Cu(ku.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Lu(this.nanoseconds,t.nanoseconds):Lu(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Fu=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Vu(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function Uu(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function qu(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Bu(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Hu=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&xu(),void 0===n?n=t.length-e:n>t.length-e&&xu(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),zu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return gu(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new Cu(ku.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.emptyPath=function(){return new e([])},e}(Hu),Gu=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Wu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return gu(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return Gu.test(t)},e.prototype.canonicalString=function(){return this.toArray().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Cu(ku.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new Cu(ku.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Cu(ku.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new Cu(ku.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(Hu),Ku=function(){function t(t){this.fields=t,t.sort(Wu.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return ju(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Qu=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return Lu(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();Qu.EMPTY_BYTE_STRING=new Qu("");var Yu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zu(t){if(Du(!!t),"string"==typeof t){var e=0,n=Yu.exec(t);if(Du(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Xu(t.seconds),nanos:Xu(t.nanos)}}function Xu(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Ju(t){return"string"==typeof t?Qu.fromBase64String(t):Qu.fromUint8Array(t)}function $u(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function tc(t){var e=Zu(t.mapValue.fields.__local_write_time__.timestampValue);return new Vu(e.seconds,e.nanos)}function ec(t){return null==t}function nc(t){return 0===t&&1/t==-1/0}function rc(t){return"number"==typeof t&&Number.isInteger(t)&&!nc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var ic=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(zu.fromString(e))},t.fromName=function(e){return new t(zu.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===zu.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return zu.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new zu(e.slice()))},t}();function oc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$u(t)?4:10:xu()}function ac(t,e){var n=oc(t);if(n!==oc(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return tc(t).isEqual(tc(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Zu(t.timestampValue),r=Zu(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Ju(t.bytesValue).isEqual(Ju(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Xu(t.geoPointValue.latitude)===Xu(e.geoPointValue.latitude)&&Xu(t.geoPointValue.longitude)===Xu(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Xu(t.integerValue)===Xu(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Xu(t.doubleValue),r=Xu(e.doubleValue);return n===r?nc(n)===nc(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return ju(t.arrayValue.values||[],e.arrayValue.values||[],ac);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Uu(n)!==Uu(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ac(n[i],r[i])))return!1;return!0}(t,e);default:return xu()}}function sc(t,e){return void 0!==(t.values||[]).find((function(t){return ac(t,e)}))}function uc(t,e){var n=oc(t),r=oc(e);if(n!==r)return Lu(n,r);switch(n){case 0:return 0;case 1:return Lu(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Xu(t.integerValue||t.doubleValue),r=Xu(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return cc(t.timestampValue,e.timestampValue);case 4:return cc(tc(t),tc(e));case 5:return Lu(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Ju(t),r=Ju(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Lu(n[i],r[i]);if(0!==o)return o}return Lu(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Lu(Xu(t.latitude),Xu(e.latitude));return 0!==n?n:Lu(Xu(t.longitude),Xu(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=uc(n[i],r[i]);if(o)return o}return Lu(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=Lu(r[a],o[a]);if(0!==s)return s;var u=uc(n[r[a]],i[o[a]]);if(0!==u)return u}return Lu(r.length,o.length)}(t.mapValue,e.mapValue);default:throw xu()}}function cc(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Lu(t,e);var n=Zu(t),r=Zu(e),i=Lu(n.seconds,r.seconds);return 0!==i?i:Lu(n.nanos,r.nanos)}function lc(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=Zu(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Ju(e.bytesValue).toBase64():"referenceValue"in e?ic.fromName(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var a=o[i];r?r=!1:n+=",",n+=a+":"+t(e.fields[a])}return n+"}"}(e.mapValue):xu();var n}(t)}function hc(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function fc(t){return!!t&&"integerValue"in t}function dc(t){return!!t&&"arrayValue"in t}function pc(t){return!!t&&"nullValue"in t}function vc(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function yc(t){return!!t&&"mapValue"in t}function gc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue)return{timestampValue:Object.assign({},Zu(t.timestampValue))};if(t.mapValue){var e={mapValue:{fields:{}}};return qu(t.mapValue.fields,(function(t,n){return e.mapValue.fields[t]=gc(n)})),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=gc(t.arrayValue.values[r]);return n}return Object.assign({},t)}var mc=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!yc(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=gc(e)},t.prototype.setAll=function(t){var e=this,n=Wu.emptyPath(),r={},i=[];t.forEach((function(t,o){if(!n.isImmediateParentOf(o)){var a=e.getFieldsMap(n);e.applyChanges(a,r,i),r={},i=[],n=o.popLast()}t?r[o.lastSegment()]=gc(t):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());yc(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return ac(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];yc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){qu(e,(function(e,n){return t[e]=n}));for(var r=0,i=n;r<i.length;r++)delete t[i[r]]},t.prototype.clone=function(){return new t(gc(this.value))},t}();function bc(t){var e=[];return qu(t.fields,(function(t,n){var r=new Wu([t]);if(yc(n)){var i=bc(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,a=i;o<a.length;o++)e.push(r.child(a[o]))}else e.push(r)})),new Ku(e)}var _c=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,Fu.min(),mc.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,mc.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,mc.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=mc.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=mc.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),wc=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function kc(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new wc(t,e,n,r,i,o,a)}function Cc(t){var e=Nu(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.canonicalString()+t.op.toString()+lc(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.canonicalString()+t.dir}(t)})).join(","),ec(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=jc(e.startAt)),e.endAt&&(n+="|ub:",n+=jc(e.endAt)),e.h=n}return e.h}function Sc(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Vc(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!ac(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Uc(t.startAt,e.startAt)&&Uc(t.endAt,e.endAt)}function Ec(t){return ic.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Tc=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return gu(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Ic(t,n,r):"array-contains"===n?new Dc(t,r):"in"===n?new Nc(t,r):"not-in"===n?new Rc(t,r):"array-contains-any"===n?new Pc(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new Oc(t,n):new Ac(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(uc(e,this.value)):null!==e&&oc(this.value)===oc(e)&&this.m(uc(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return xu()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Ic=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=ic.fromName(r.referenceValue),i}return gu(e,t),e.prototype.matches=function(t){var e=ic.comparator(t.key,this.key);return this.m(e)},e}(Tc),Oc=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=xc(0,n),r}return gu(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Tc),Ac=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=xc(0,n),r}return gu(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Tc);function xc(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return ic.fromName(t.referenceValue)}))}var Dc=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return gu(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return dc(e)&&sc(e.arrayValue,this.value)},e}(Tc),Nc=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return gu(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&sc(this.value.arrayValue,e)},e}(Tc),Rc=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return gu(e,t),e.prototype.matches=function(t){if(sc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!sc(this.value.arrayValue,e)},e}(Tc),Pc=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return gu(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!dc(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return sc(e.value.arrayValue,t)}))},e}(Tc),Lc=function(t,e){this.position=t,this.before=e};function jc(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return lc(t)})).join(",")}var Mc=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Vc(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Fc(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.isKeyField()?ic.comparator(ic.fromName(a.referenceValue),n.key):uc(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Uc(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!ac(t.position[n],e.position[n]))return!1;return!0}var qc=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null};function Bc(t,e,n,r,i,o,a,s){return new qc(t,e,n,r,i,o,a,s)}function Hc(t){return new qc(t)}function zc(t){return!ec(t.limit)&&"F"===t.limitType}function Gc(t){return!ec(t.limit)&&"L"===t.limitType}function Wc(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Kc(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Qc(t){return null!==t.collectionGroup}function Yc(t){var e=Nu(t);if(null===e.p){e.p=[];var n=Kc(e),r=Wc(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new Mc(n)),e.p.push(new Mc(Wu.keyField(),"asc"));else{for(var i=!1,o=0,a=e.explicitOrderBy;o<a.length;o++){var s=a[o];e.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Mc(Wu.keyField(),u))}}}return e.p}function Zc(t){var e=Nu(t);if(!e.T)if("F"===e.limitType)e.T=kc(e.path,e.collectionGroup,Yc(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Yc(e);r<i.length;r++){var o=i[r];n.push(new Mc(o.field,"desc"===o.dir?"asc":"desc"))}var a=e.endAt?new Lc(e.endAt.position,!e.endAt.before):null,s=e.startAt?new Lc(e.startAt.position,!e.startAt.before):null;e.T=kc(e.path,e.collectionGroup,n,e.filters,e.limit,a,s)}return e.T}function Xc(t,e,n){return new qc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Jc(t,e){return Sc(Zc(t),Zc(e))&&t.limitType===e.limitType}function $c(t){return Cc(Zc(t))+"|lt:"+t.limitType}function tl(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.canonicalString()+" "+e.op+" "+lc(e.value);var e})).join(", ")+"]"),ec(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+jc(t.startAt)),t.endAt&&(e+=", endAt: "+jc(t.endAt)),"Target("+e+")"}(Zc(t))+"; limitType="+t.limitType+")"}function el(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):ic.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Fc(t.startAt,Yc(t),e)||t.endAt&&Fc(t.endAt,Yc(t),e))}(t,e)}function nl(t){return function(e,n){for(var r=!1,i=0,o=Yc(t);i<o.length;i++){var a=o[i],s=rl(a,e,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function rl(t,e,n){var r=t.field.isKeyField()?ic.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?uc(r,i):xu()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return xu()}}function il(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nc(e)?"-0":e}}function ol(t){return{integerValue:""+t}}function al(t,e){return rc(e)?ol(e):il(t,e)}var sl=function(){this._=void 0};function ul(t,e,n){return t instanceof hl?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof fl?dl(t,e):t instanceof pl?vl(t,e):function(t,e){var n=ll(t,e),r=gl(n)+gl(t.A);return fc(n)&&fc(t.A)?ol(r):il(t.R,r)}(t,e)}function cl(t,e,n){return t instanceof fl?dl(t,e):t instanceof pl?vl(t,e):n}function ll(t,e){return t instanceof yl?fc(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var hl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return gu(e,t),e}(sl),fl=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return gu(e,t),e}(sl);function dl(t,e){for(var n=ml(e),r=function(t){n.some((function(e){return ac(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var pl=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return gu(e,t),e}(sl);function vl(t,e){for(var n=ml(e),r=function(t){n=n.filter((function(e){return!ac(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var yl=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return gu(e,t),e}(sl);function gl(t){return Xu(t.integerValue||t.doubleValue)}function ml(t){return dc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var bl=function(t,e){this.field=t,this.transform=e},_l=function(t,e){this.version=t,this.transformResults=e},wl=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function kl(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Cl=function(){};function Sl(t,e,n){t instanceof Al?function(t,e,n){var r=t.value.clone(),i=Nl(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof xl?function(t,e,n){if(kl(t.precondition,e)){var r=Nl(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Dl(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function El(t,e,n){t instanceof Al?function(t,e,n){if(kl(t.precondition,e)){var r=t.value.clone(),i=Rl(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(Ol(e),r).setHasLocalMutations()}}(t,e,n):t instanceof xl?function(t,e,n){if(kl(t.precondition,e)){var r=Rl(t.fieldTransforms,n,e),i=e.data;i.setAll(Dl(t)),i.setAll(r),e.convertToFoundDocument(Ol(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){kl(t.precondition,e)&&e.convertToNoDocument(Fu.min())}(t,e)}function Tl(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],a=e.data.field(o.field),s=ll(o.transform,a||null);null!=s&&(null==n&&(n=mc.empty()),n.set(o.field,s))}return n||null}function Il(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&ju(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof fl&&e instanceof fl||t instanceof pl&&e instanceof pl?ju(t.elements,e.elements,ac):t instanceof yl&&e instanceof yl?ac(t.A,e.A):t instanceof hl&&e instanceof hl}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Ol(t){return t.isFoundDocument()?t.version:Fu.min()}var Al=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return gu(e,t),e}(Cl),xl=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=t.call(this)||this).key=e,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return gu(e,t),e}(Cl);function Dl(t){var e=new Map;return t.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}})),e}function Nl(t,e,n){var r=new Map;Du(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,cl(a,s,n[i]))}return r}function Rl(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,ul(s,u,e))}return r}var Pl,Ll,jl=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return gu(e,t),e}(Cl),Ml=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return gu(e,t),e}(Cl),Vl=function(t){this.count=t};function Fl(t){switch(t){case ku.OK:return xu();case ku.CANCELLED:case ku.UNKNOWN:case ku.DEADLINE_EXCEEDED:case ku.RESOURCE_EXHAUSTED:case ku.INTERNAL:case ku.UNAVAILABLE:case ku.UNAUTHENTICATED:return!1;case ku.INVALID_ARGUMENT:case ku.NOT_FOUND:case ku.ALREADY_EXISTS:case ku.PERMISSION_DENIED:case ku.FAILED_PRECONDITION:case ku.ABORTED:case ku.OUT_OF_RANGE:case ku.UNIMPLEMENTED:case ku.DATA_LOSS:return!0;default:return xu()}}function Ul(t){if(void 0===t)return Iu("GRPC error has no .code"),ku.UNKNOWN;switch(t){case Pl.OK:return ku.OK;case Pl.CANCELLED:return ku.CANCELLED;case Pl.UNKNOWN:return ku.UNKNOWN;case Pl.DEADLINE_EXCEEDED:return ku.DEADLINE_EXCEEDED;case Pl.RESOURCE_EXHAUSTED:return ku.RESOURCE_EXHAUSTED;case Pl.INTERNAL:return ku.INTERNAL;case Pl.UNAVAILABLE:return ku.UNAVAILABLE;case Pl.UNAUTHENTICATED:return ku.UNAUTHENTICATED;case Pl.INVALID_ARGUMENT:return ku.INVALID_ARGUMENT;case Pl.NOT_FOUND:return ku.NOT_FOUND;case Pl.ALREADY_EXISTS:return ku.ALREADY_EXISTS;case Pl.PERMISSION_DENIED:return ku.PERMISSION_DENIED;case Pl.FAILED_PRECONDITION:return ku.FAILED_PRECONDITION;case Pl.ABORTED:return ku.ABORTED;case Pl.OUT_OF_RANGE:return ku.OUT_OF_RANGE;case Pl.UNIMPLEMENTED:return ku.UNIMPLEMENTED;case Pl.DATA_LOSS:return ku.DATA_LOSS;default:return xu()}}(Ll=Pl||(Pl={}))[Ll.OK=0]="OK",Ll[Ll.CANCELLED=1]="CANCELLED",Ll[Ll.UNKNOWN=2]="UNKNOWN",Ll[Ll.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ll[Ll.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ll[Ll.NOT_FOUND=5]="NOT_FOUND",Ll[Ll.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ll[Ll.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ll[Ll.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ll[Ll.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ll[Ll.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ll[Ll.ABORTED=10]="ABORTED",Ll[Ll.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ll[Ll.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ll[Ll.INTERNAL=13]="INTERNAL",Ll[Ll.UNAVAILABLE=14]="UNAVAILABLE",Ll[Ll.DATA_LOSS=15]="DATA_LOSS";var ql=function(){function t(t,e){this.comparator=t,this.root=e||Hl.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Hl.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Hl.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.inorderTraversal((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Bl(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Bl(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Bl(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Bl(this.root,t,this.comparator,!0)},t}(),Bl=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Hl=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw xu();if(this.right.isRed())throw xu();var t=this.left.check();if(t!==this.right.check())throw xu();return t+(this.isRed()?0:1)},t}();Hl.EMPTY=null,Hl.RED=!0,Hl.BLACK=!1,Hl.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw xu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw xu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw xu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw xu()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw xu()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Hl(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var zl=function(){function t(t){this.comparator=t,this.data=new ql(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Gl(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Gl(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Gl=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Wl=new ql(ic.comparator);function Kl(){return Wl}var Ql=new ql(ic.comparator);function Yl(){return Ql}var Zl=new ql(ic.comparator);function Xl(){return Zl}var Jl=new zl(ic.comparator);function $l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Jl,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var th=new zl(Lu);function eh(){return th}var nh=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,rh.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Fu.min(),r,eh(),Kl(),$l())},t}(),rh=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Qu.EMPTY_BYTE_STRING,n,$l(),$l(),$l())},t}(),ih=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},oh=function(t,e){this.targetId=t,this.V=e},ah=function(t,e,n,r){void 0===n&&(n=Qu.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},sh=function(){function t(){this.S=0,this.D=lh(),this.C=Qu.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=$l(),e=$l(),n=$l();return this.D.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:xu()}})),new rh(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=lh()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),uh=function(){function t(t){this.W=t,this.G=new Map,this.H=Kl(),this.J=ch(),this.Y=new zl(Lu)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.tt(r=o[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,(function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:xu()}}))},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach((function(t,r){n.st(r)&&e(r)}))},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(Ec(i))if(0===n){var o=new ic(i.path);this.tt(e,o,_c.newNoDocument(o,Fu.min()))}else Du(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach((function(r,i){var o=e.ot(i);if(o){if(r.current&&Ec(o.target)){var a=new ic(o.target.path);null!==e.H.get(a)||e.at(i,a)||e.tt(i,a,_c.newNoDocument(a,t))}r.$&&(n.set(i,r.M()),r.L())}}));var r=$l();this.J.forEach((function(t,n){var i=!0;n.forEachWhile((function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new nh(t,n,this.Y,this.H,r);return this.H=Kl(),this.J=ch(),this.Y=new zl(Lu),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new sh,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new zl(Lu),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||Tu("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new sh),this.W.getRemoteKeysForTarget(t).forEach((function(n){e.tt(t,n,null)}))},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function ch(){return new ql(ic.comparator)}function lh(){return new ql(ic.comparator)}var hh={asc:"ASCENDING",desc:"DESCENDING"},fh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dh=function(t,e){this.databaseId=t,this.I=e};function ph(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function vh(t,e){return t.I?e.toBase64():e.toUint8Array()}function yh(t,e){return ph(t,e.toTimestamp())}function gh(t){return Du(!!t),Fu.fromTimestamp(function(t){var e=Zu(t);return new Vu(e.seconds,e.nanos)}(t))}function mh(t,e){return function(t){return new zu(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function bh(t){var e=zu.fromString(t);return Du(Bh(e)),e}function _h(t,e){return mh(t.databaseId,e.path)}function wh(t,e){var n=bh(e);if(n.get(1)!==t.databaseId.projectId)throw new Cu(ku.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Cu(ku.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ic(Eh(n))}function kh(t,e){return mh(t.databaseId,e)}function Ch(t){var e=bh(t);return 4===e.length?zu.emptyPath():Eh(e)}function Sh(t){return new zu(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Eh(t){return Du(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Th(t,e,n){return{name:_h(t,e),fields:n.value.mapValue.fields}}function Ih(t,e,n){var r=wh(t,e.name),i=gh(e.updateTime),o=new mc({mapValue:{fields:e.fields}}),a=_c.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Oh(t,e){var n;if(e instanceof Al)n={update:Th(t,e.key,e.value)};else if(e instanceof jl)n={delete:_h(t,e.key)};else if(e instanceof xl)n={update:Th(t,e.key,e.data),updateMask:qh(e.fieldMask)};else{if(!(e instanceof Ml))return xu();n={verify:_h(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof hl)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof fl)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof pl)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof yl)return{fieldPath:e.field.canonicalString(),increment:n.A};throw xu()}(0,t)}))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:yh(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:xu()}(t,e.precondition)),n}function Ah(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?wl.updateTime(gh(t.updateTime)):void 0!==t.exists?wl.exists(t.exists):wl.none()}(e.currentDocument):wl.none(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(Du("REQUEST_TIME"===e.setToServerValue),n=new hl):"appendMissingElements"in e?n=new fl(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new pl(e.removeAllFromArray.values||[]):"increment"in e?n=new yl(t,e.increment):xu();var r=Wu.fromServerFormat(e.fieldPath);return new bl(r,n)}(t,e)})):[];if(e.update){var i=wh(t,e.update.name),o=new mc({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(t){return new Ku((t.fieldPaths||[]).map((function(t){return Wu.fromServerFormat(t)})))}(e.updateMask);return new xl(i,o,a,n,r)}return new Al(i,o,n,r)}if(e.delete){var s=wh(t,e.delete);return new jl(s,n)}if(e.verify){var u=wh(t,e.verify);return new Ml(u,n)}return xu()}function xh(t,e){return{documents:[kh(t,e.path)]}}function Dh(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=kh(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=kh(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(vc(t.value))return{unaryFilter:{field:Mh(t.field),op:"IS_NAN"}};if(pc(t.value))return{unaryFilter:{field:Mh(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(vc(t.value))return{unaryFilter:{field:Mh(t.field),op:"IS_NOT_NAN"}};if(pc(t.value))return{unaryFilter:{field:Mh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mh(t.field),op:jh(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:Mh(t.field),direction:Lh(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.I||ec(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=Rh(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Rh(e.endAt)),n}function Nh(t){var e=Ch(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Du(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=function t(e){return e?void 0!==e.unaryFilter?[Uh(e)]:void 0!==e.fieldFilter?[Fh(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):xu():[]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(t){return function(t){return new Mc(Vh(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return ec(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Ph(n.startAt));var l=null;return n.endAt&&(l=Ph(n.endAt)),Bc(e,i,s,a,u,"F",c,l)}function Rh(t){return{before:t.before,values:t.position}}function Ph(t){return new Lc(t.values||[],!!t.before)}function Lh(t){return hh[t]}function jh(t){return fh[t]}function Mh(t){return{fieldPath:t.canonicalString()}}function Vh(t){return Wu.fromServerFormat(t.fieldPath)}function Fh(t){return Tc.create(Vh(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return xu()}}(t.fieldFilter.op),t.fieldFilter.value)}function Uh(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Vh(t.unaryFilter.field);return Tc.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Vh(t.unaryFilter.field);return Tc.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Vh(t.unaryFilter.field);return Tc.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Vh(t.unaryFilter.field);return Tc.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return xu()}}function qh(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}}function Bh(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Hh(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Gh(e)),e=zh(t.get(n),e);return Gh(e)}function zh(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Gh(t){return t+"\x01\x01"}function Wh(t){var e=t.length;if(Du(e>=2),2===e)return Du("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),zu.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("\x01",o);switch((a<0||a>n)&&xu(),t.charAt(a+1)){case"\x01":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=t.substring(o,a),i+="\0";break;case"\x11":i+=t.substring(o,a+1);break;default:xu()}o=a+2}return new zu(r)}var Kh=function(t,e){this.seconds=t,this.nanoseconds=e},Qh=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Qh.store="owner",Qh.key="owner";var Yh=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Yh.store="mutationQueues",Yh.keyPath="userId";var Zh=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Zh.store="mutations",Zh.keyPath="batchId",Zh.userMutationsIndex="userMutationsIndex",Zh.userMutationsKeyPath=["userId","batchId"];var Xh=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Hh(e)]},t.key=function(t,e,n){return[t,Hh(e),n]},t}();Xh.store="documentMutations",Xh.PLACEHOLDER=new Xh;var Jh=function(t,e){this.path=t,this.readTime=e},$h=function(t,e){this.path=t,this.version=e},tf=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};tf.store="remoteDocuments",tf.readTimeIndex="readTimeIndex",tf.readTimeIndexPath="readTime",tf.collectionReadTimeIndex="collectionReadTimeIndex",tf.collectionReadTimeIndexPath=["parentPath","readTime"];var ef=function(t){this.byteSize=t};ef.store="remoteDocumentGlobal",ef.key="remoteDocumentGlobalKey";var nf=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};nf.store="targets",nf.keyPath="targetId",nf.queryTargetsIndexName="queryTargetsIndex",nf.queryTargetsKeyPath=["canonicalId","targetId"];var rf=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};rf.store="targetDocuments",rf.keyPath=["targetId","path"],rf.documentTargetsIndex="documentTargetsIndex",rf.documentTargetsKeyPath=["path","targetId"];var of=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};of.key="targetGlobalKey",of.store="targetGlobal";var af=function(t,e){this.collectionId=t,this.parent=e};af.store="collectionParents",af.keyPath=["collectionId","parent"];var sf=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};sf.store="clientMetadata",sf.keyPath="clientId";var uf=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};uf.store="bundles",uf.keyPath="bundleId";var cf=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};cf.store="namedQueries",cf.keyPath="name";var lf=_u(_u([],_u(_u([],_u(_u([],_u(_u([],[Yh.store,Zh.store,Xh.store,tf.store,nf.store,Qh.store,of.store,rf.store]),[sf.store])),[ef.store])),[af.store])),[uf.store,cf.store]),hf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ff=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(t){return t()}))},t}(),df=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},pf=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)}),(function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&xu(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}}))},t.prototype.toPromise=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.waitFor=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.waitFor(r)},t}(),vf=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new df,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new mf(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=Cf(e.target.error);n.ft.reject(new mf(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new mf(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(Tu("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new _f(e)},t}(),yf=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(si.i)())&&Iu("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Tu("SimpleDb","Removing database:",t),wf(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(si.i)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return mu(this,void 0,void 0,(function(){var e,n=this;return bu(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Tu("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new mf(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Cu(ku.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new mf(t,n))},i.onupgradeneeded=function(t){Tu("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){Tu("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}}))}))},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return mu(this,void 0,void 0,(function(){var i,o,a,s,u;return bu(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,a=function(){var e,a,u,c,l;return bu(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,s.At(t)];case 2:return s.db=h.sent(),e=vf.open(s.db,t,i?"readonly":"readwrite",n),a=r(e).catch((function(t){return e.abort(t),pf.reject(t)})).toPromise(),u={},a.catch((function(){})),[4,e.dt];case 3:return[2,(u.value=(h.sent(),a),u)];case 4:return Tu("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),s.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},s=this,c.label=1;case 1:return[5,a()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),gf=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return wf(this.Pt.delete())},t}(),mf=function(t){function e(e,n){var r=this;return(r=t.call(this,ku.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return gu(e,t),e}(Cu);function bf(t){return"IndexedDbTransactionError"===t.name}var _f=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Tu("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Tu("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),wf(n)},t.prototype.add=function(t){return Tu("SimpleDb","ADD",this.store.name,t,t),wf(this.store.add(t))},t.prototype.get=function(t){var e=this;return wf(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Tu("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return Tu("SimpleDb","DELETE",this.store.name,t),wf(this.store.delete(t))},t.prototype.count=function(){return Tu("SimpleDb","COUNT",this.store.name),wf(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.Ft=function(t,e){Tu("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,(function(t,e,n){return n.delete()}))},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new pf((function(n,r){e.onerror=function(t){var e=Cf(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.xt=function(t,e){var n=[];return new pf((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new gf(i),a=e(i.primaryKey,i.value,o);if(a instanceof pf){var s=a.catch((function(t){return o.done(),pf.reject(t)}));n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return pf.waitFor(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function wf(t){return new pf((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Cf(t.target.error);n(e)}}))}var kf=!1;function Cf(t){var e=yf._t(Object(si.i)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Cu("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return kf||(kf=!0,setTimeout((function(){throw r}),0)),r}}return t}var Sf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return gu(e,t),e}(ff);function Ef(t,e){var n=Nu(t);return yf.It(n.Mt,e)}var Tf=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&Sl(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&El(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&El(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach((function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Fu.min())}))},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),$l())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&ju(this.mutations,t.mutations,(function(t,e){return Il(t,e)}))&&ju(this.baseMutations,t.baseMutations,(function(t,e){return Il(t,e)}))},t}(),If=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){Du(e.mutations.length===r.length);for(var i=Xl(),o=e.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),Of=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=Fu.min()),void 0===o&&(o=Fu.min()),void 0===a&&(a=Qu.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Af=function(t){this.Lt=t};function xf(t,e){if(e.document)return Ih(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=ic.fromSegments(e.noDocument.path),r=Lf(e.noDocument.readTime),i=_c.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=ic.fromSegments(e.unknownDocument.path);return r=Lf(e.unknownDocument.version),_c.newUnknownDocument(o,r)}return xu()}function Df(t,e,n){var r=Nf(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:_h(t,e.key),fields:e.data.value.mapValue.fields,updateTime:ph(t,e.version.toTimestamp())}}(t.Lt,e),a=e.hasCommittedMutations;return new tf(null,null,o,a,r,i)}if(e.isNoDocument()){var s=e.key.path.toArray(),u=Pf(e.version);return a=e.hasCommittedMutations,new tf(null,new Jh(s,u),null,a,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=Pf(e.version);return new tf(new $h(c,l),null,null,!0,r,i)}return xu()}function Nf(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Rf(t){var e=new Vu(t[0],t[1]);return Fu.fromTimestamp(e)}function Pf(t){var e=t.toTimestamp();return new Kh(e.seconds,e.nanoseconds)}function Lf(t){var e=new Vu(t.seconds,t.nanoseconds);return Fu.fromTimestamp(e)}function jf(t,e){for(var n=(e.baseMutations||[]).map((function(e){return Ah(t.Lt,e)})),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map((function(e){return Ah(t.Lt,e)})),o=Vu.fromMillis(e.localWriteTimeMs);return new Tf(e.batchId,o,n,i)}function Mf(t){var e,n,r=Lf(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Lf(t.lastLimboFreeSnapshotVersion):Fu.min();return void 0!==t.query.documents?(Du(1===(n=t.query).documents.length),e=Zc(Hc(Ch(n.documents[0])))):e=function(t){return Zc(Nh(t))}(t.query),new Of(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Qu.fromBase64String(t.resumeToken))}function Vf(t,e){var n,r=Pf(e.snapshotVersion),i=Pf(e.lastLimboFreeSnapshotVersion);n=Ec(e.target)?xh(t.Lt,e.target):Dh(t.Lt,e.target);var o=e.resumeToken.toBase64();return new nf(e.targetId,Cc(e.target),r,o,e.sequenceNumber,i,n)}function Ff(t){var e=Nh({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Xc(e,e.limit,"L"):e}var Uf=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return qf(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:Lf(e.createTime),version:e.version};var e}))},t.prototype.saveBundleMetadata=function(t,e){return qf(t).put({bundleId:(n=e).id,createTime:Pf(gh(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return Bf(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:Ff(e.bundledQuery),readTime:Lf(e.readTime)};var e}))},t.prototype.saveNamedQuery=function(t,e){return Bf(t).put(function(t){return{name:t.name,readTime:Pf(gh(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function qf(t){return Ef(t,uf.store)}function Bf(t){return Ef(t,cf.store)}var Hf=function(){function t(){this.Bt=new zf}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),pf.resolve()},t.prototype.getCollectionParents=function(t,e){return pf.resolve(this.Bt.getEntries(e))},t}(),zf=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new zl(zu.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new zl(zu.comparator)).toArray()},t}(),Gf=function(){function t(){this.qt=new zf}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener((function(){n.qt.add(e)}));var o={collectionId:r,parent:Hh(i)};return Wf(t).put(o)}return pf.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Mu(e),""],!1,!0);return Wf(t).Nt(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Wh(o.parent))}return n}))},t}();function Wf(t){return Ef(t,af.store)}var Kf={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Qf=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function Yf(t,e,n){var r=t.store(Zh.store),i=t.store(Xh.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.$t({range:a},(function(t,e,n){return s++,n.delete()}));o.push(u.next((function(){Du(1===s)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Xh.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return pf.waitFor(o).next((function(){return c}))}function Zf(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw xu();e=t.noDocument}return JSON.stringify(e).length}Qf.DEFAULT_COLLECTION_PERCENTILE=10,Qf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qf.DEFAULT=new Qf(41943040,Qf.DEFAULT_COLLECTION_PERCENTILE,Qf.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qf.DISABLED=new Qf(-1,0,0);var Xf=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return Du(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return $f(t).$t({index:Zh.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=td(t),a=$f(t);return a.add({}).next((function(s){Du("number"==typeof s);for(var u=new Tf(s,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return Oh(t.Lt,e)})),i=n.mutations.map((function(e){return Oh(t.Lt,e)}));return new Zh(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new zl((function(t,e){return Lu(t.canonicalString(),e.canonicalString())})),f=0,d=r;f<d.length;f++){var p=d[f],v=Xh.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(v,Xh.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((function(){i.Qt[s]=u.keys()})),pf.waitFor(l).next((function(){return u}))}))},t.prototype.lookupMutationBatch=function(t,e){var n=this;return $f(t).get(e).next((function(t){return t?(Du(t.userId===n.userId),jf(n.R,t)):null}))},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?pf.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next((function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null}))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return $f(t).$t({index:Zh.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(Du(e.batchId>=r),o=jf(n.R,e)),i.done()})).next((function(){return o}))},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return $f(t).$t({index:Zh.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return $f(t).Nt(Zh.userMutationsIndex,n).next((function(t){return t.map((function(t){return jf(e.R,t)}))}))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Xh.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return td(t).$t({range:i},(function(r,i,a){var s=r[0],u=r[2],c=Wh(r[1]);if(s===n.userId&&e.path.isEqual(c))return $f(t).get(u).next((function(t){if(!t)throw xu();Du(t.userId===n.userId),o.push(jf(n.R,t))}));a.done()})).next((function(){return o}))},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new zl(Lu),i=[];return e.forEach((function(e){var o=Xh.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=td(t).$t({range:a},(function(t,i,o){var a=t[0],s=t[2],u=Wh(t[1]);a===n.userId&&e.path.isEqual(u)?r=r.add(s):o.done()}));i.push(s)})),pf.waitFor(i).next((function(){return n.Wt(t,r)}))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=Xh.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new zl(Lu);return td(t).$t({range:a},(function(t,e,o){var a=t[0],u=t[2],c=Wh(t[1]);a===n.userId&&r.isPrefixOf(c)?c.length===i&&(s=s.add(u)):o.done()})).next((function(){return n.Wt(t,s)}))},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push($f(t).get(e).next((function(t){if(null===t)throw xu();Du(t.userId===n.userId),r.push(jf(n.R,t))})))})),pf.waitFor(i).next((function(){return r}))},t.prototype.removeMutationBatch=function(t,e){var n=this;return Yf(t.Mt,this.userId,e).next((function(r){return t.addOnCommittedListener((function(){n.Gt(e.batchId)})),pf.forEach(r,(function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)}))}))},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next((function(n){if(!n)return pf.resolve();var r=IDBKeyRange.lowerBound(Xh.prefixForUser(e.userId)),i=[];return td(t).$t({range:r},(function(t,n,r){if(t[0]===e.userId){var o=Wh(t[1]);i.push(o)}else r.done()})).next((function(){Du(0===i.length)}))}))},t.prototype.containsKey=function(t,e){return Jf(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return ed(t).get(this.userId).next((function(t){return t||new Yh(e.userId,-1,"")}))},t}();function Jf(t,e,n){var r=Xh.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return td(t).$t({range:o,kt:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(a=!0),r.done()})).next((function(){return a}))}function $f(t){return Ef(t,Zh.store)}function td(t){return Ef(t,Xh.store)}function ed(t){return Ef(t,Yh.store)}var nd=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),rd=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next((function(n){var r=new nd(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next((function(t){return Fu.fromTimestamp(new Vu(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)}))},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next((function(){return n.Xt(t).next((function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)}))}))},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next((function(){return id(t).delete(e.targetId)})).next((function(){return n.Xt(t)})).next((function(e){return Du(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)}))},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return id(t).$t((function(a,s){var u=Mf(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))})).next((function(){return pf.waitFor(o)})).next((function(){return i}))},t.prototype.forEachTarget=function(t,e){return id(t).$t((function(t,n){var r=Mf(n);e(r)}))},t.prototype.Xt=function(t){return od(t).get(of.key).next((function(t){return Du(null!==t),t}))},t.prototype.Zt=function(t,e){return od(t).put(of.key,e)},t.prototype.te=function(t,e){return id(t).put(Vf(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next((function(t){return t.targetCount}))},t.prototype.getTargetData=function(t,e){var n=Cc(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return id(t).$t({range:r,index:nf.queryTargetsIndexName},(function(t,n,r){var o=Mf(n);Sc(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=ad(t);return e.forEach((function(e){var a=Hh(e.path);i.push(o.put(new rf(n,a))),i.push(r.referenceDelegate.addReference(t,n,e))})),pf.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=ad(t);return pf.forEach(e,(function(e){var o=Hh(e.path);return pf.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])}))},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=ad(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=ad(t),i=$l();return r.$t({range:n,kt:!0},(function(t,e,n){var r=Wh(t[1]),o=new ic(r);i=i.add(o)})).next((function(){return i}))},t.prototype.containsKey=function(t,e){var n=Hh(e.path),r=IDBKeyRange.bound([n],[Mu(n)],!1,!0),i=0;return ad(t).$t({index:rf.documentTargetsIndex,kt:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.lt=function(t,e){return id(t).get(e).next((function(t){return t?Mf(t):null}))},t}();function id(t){return Ef(t,nf.store)}function od(t){return Ef(t,of.store)}function ad(t){return Ef(t,rf.store)}function sd(t){return mu(this,void 0,void 0,(function(){return bu(this,(function(e){if(t.code!==ku.FAILED_PRECONDITION||t.message!==hf)throw t;return Tu("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function ud(t,e){var n=t[1],r=e[1],i=Lu(t[0],e[0]);return 0===i?Lu(n,r):i}var cd=function(){function t(t){this.ne=t,this.buffer=new zl(ud),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();ud(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),ld=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;Tu("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return mu(e,void 0,void 0,(function(){var e;return bu(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return bf(e=n.sent())?(Tu("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,sd(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),hd=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return pf.resolve(wu.o);var r=new cd(e);return this.ae.forEachTarget(t,(function(t){return r.re(t.sequenceNumber)})).next((function(){return n.ae.le(t,(function(t){return r.re(t)}))})).next((function(){return r.maxValue}))},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Tu("LruGarbageCollector","Garbage collection skipped; disabled"),pf.resolve(Kf)):this.getCacheSize(t).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Tu("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Kf):n.fe(t,e)}))},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,a,s,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((function(e){return e>c.params.maximumSequenceNumbersToCollect?(Tu("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)})).next((function(r){return n=r,a=Date.now(),c.removeTargets(t,n,e)})).next((function(e){return i=e,s=Date.now(),c.removeOrphanedDocuments(t,n)})).next((function(t){return u=Date.now(),Eu()<=ui.a.DEBUG&&Tu("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+t+" documents in "+(u-s)+"ms\nTotal Duration: "+(u-l)+"ms"),pf.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})}))},t}(),fd=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new hd(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.de=function(t){var e=0;return this.le(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,(function(t,n){return e(n)}))},t.prototype.addReference=function(t,e,n){return dd(t,n)},t.prototype.removeReference=function(t,e,n){return dd(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return dd(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return ed(t).Ot((function(r){return Jf(t,r,e).next((function(t){return t&&(n=!0),pf.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,(function(a,s){if(s<=e){var u=n._e(t,a).next((function(e){if(!e)return o++,r.getEntry(t,a).next((function(){return r.removeEntry(a),ad(t).delete([0,Hh(a.path)])}))}));i.push(u)}})).next((function(){return pf.waitFor(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return dd(t,e)},t.prototype.we=function(t,e){var n,r=ad(t),i=wu.o;return r.$t({index:rf.documentTargetsIndex},(function(t,r){var o=r.path,a=r.sequenceNumber;0===t[0]?(i!==wu.o&&e(new ic(Wh(n)),i),i=a,n=o):i=wu.o})).next((function(){i!==wu.o&&e(new ic(Wh(n)),i)}))},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function dd(t,e){return ad(t).put(function(t,e){return new rf(0,Hh(t.path),e)}(e,t.currentSequenceNumber))}var pd=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[1];if(this.equalsFn(o[0],t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){qu(this.inner,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}}))},t.prototype.isEmpty=function(){return Bu(this.inner)},t}(),vd=function(){function t(){this.changes=new pd((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Fu.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:_c.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?pf.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),yd=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return bd(t).put(_d(e),n)},t.prototype.removeEntry=function(t,e){var n=bd(t),r=_d(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.me(t,r)}))},t.prototype.getEntry=function(t,e){var n=this;return bd(t).get(_d(e)).next((function(t){return n.ye(e,t)}))},t.prototype.ge=function(t,e){var n=this;return bd(t).get(_d(e)).next((function(t){return{document:n.ye(e,t),size:Zf(t)}}))},t.prototype.getEntries=function(t,e){var n=this,r=Kl();return this.pe(t,e,(function(t,e){var i=n.ye(t,e);r=r.insert(t,i)})).next((function(){return r}))},t.prototype.Ee=function(t,e){var n=this,r=Kl(),i=new ql(ic.comparator);return this.pe(t,e,(function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,Zf(e))})).next((function(){return{documents:r,Te:i}}))},t.prototype.pe=function(t,e,n){if(e.isEmpty())return pf.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return bd(t).$t({range:r},(function(t,e,r){for(var a=ic.fromSegments(t);o&&ic.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Kl(),o=e.path.length+1,a={};if(n.isEqual(Fu.min())){var s=e.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.toArray(),c=Nf(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=tf.collectionReadTimeIndex}return bd(t).$t(a,(function(t,n,a){if(t.length===o){var s=xf(r.R,n);e.path.isPrefixOf(s.key.path)?el(e,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},t.prototype.newChangeBuffer=function(t){return new gd(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return md(t).get(ef.key).next((function(t){return Du(!!t),t}))},t.prototype.me=function(t,e){return md(t).put(ef.key,e)},t.prototype.ye=function(t,e){if(e){var n=xf(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(Fu.min()))return n}return _c.newInvalidDocument(t)},t}(),gd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new pd((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return gu(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new zl((function(t,e){return Lu(t.canonicalString(),e.canonicalString())}));return this.changes.forEach((function(o,a){var s=e.Ae.get(o);if(a.document.isValidDocument()){var u=Df(e.Ie.R,a.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=Zf(u);r+=c-s,n.push(e.Ie.addEntry(t,o,u))}else if(r-=s,e.trackRemovals){var l=Df(e.Ie.R,_c.newNoDocument(o,Fu.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))})),i.forEach((function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))})),n.push(this.Ie.updateMetadata(t,r)),pf.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next((function(t){return n.Ae.set(e,t.size),t.document}))},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next((function(t){var e=t.documents;return t.Te.forEach((function(t,e){n.Ae.set(t,e)})),e}))},e}(vd);function md(t){return Ef(t,ef.store)}function bd(t){return Ef(t,tf.store)}function _d(t){return t.path.toArray()}var wd=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;Du(n<r&&n>=0&&r<=11);var o=new vf("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Qh.store)}(t),function(t){t.createObjectStore(Yh.store,{keyPath:Yh.keyPath}),t.createObjectStore(Zh.store,{keyPath:Zh.keyPath,autoIncrement:!0}).createIndex(Zh.userMutationsIndex,Zh.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Xh.store)}(t),kd(t),function(t){t.createObjectStore(tf.store)}(t));var a=pf.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(rf.store),t.deleteObjectStore(nf.store),t.deleteObjectStore(of.store)}(t),kd(t)),a=a.next((function(){return function(t){var e=t.store(of.store),n=new of(0,0,Fu.min().toTimestamp(),0);return e.put(of.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(t,e){return e.store(Zh.store).Nt().next((function(n){t.deleteObjectStore(Zh.store),t.createObjectStore(Zh.store,{keyPath:Zh.keyPath,autoIncrement:!0}).createIndex(Zh.userMutationsIndex,Zh.userMutationsKeyPath,{unique:!0});var r=e.store(Zh.store),i=n.map((function(t){return r.put(t)}));return pf.waitFor(i)}))}(t,o)}))),a=a.next((function(){!function(t){t.createObjectStore(sf.store,{keyPath:sf.keyPath})}(t)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(t){t.createObjectStore(ef.store)}(t),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(t,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(tf.store);e.createIndex(tf.readTimeIndex,tf.readTimeIndexPath,{unique:!1}),e.createIndex(tf.collectionReadTimeIndex,tf.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(t){t.createObjectStore(uf.store,{keyPath:uf.keyPath})}(t),function(t){t.createObjectStore(cf.store,{keyPath:cf.keyPath})}(t)}))),a},t.prototype.be=function(t){var e=0;return t.store(tf.store).$t((function(t,n){e+=Zf(n)})).next((function(){var n=new ef(e);return t.store(ef.store).put(ef.key,n)}))},t.prototype.Re=function(t){var e=this,n=t.store(Yh.store),r=t.store(Zh.store);return n.Nt().next((function(n){return pf.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(Zh.userMutationsIndex,i).next((function(r){return pf.forEach(r,(function(r){Du(r.userId===n.userId);var i=jf(e.R,r);return Yf(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ve=function(t){var e=t.store(rf.store),n=t.store(tf.store);return t.store(of.store).get(of.key).next((function(t){var r=[];return n.$t((function(n,i){var o=new zu(n),a=function(t){return[0,Hh(t)]}(o);r.push(e.get(a).next((function(n){return n?pf.resolve():function(n){return e.put(new rf(0,Hh(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return pf.waitFor(r)}))}))},t.prototype.Pe=function(t,e){t.createObjectStore(af.store,{keyPath:af.keyPath});var n=e.store(af.store),r=new zf,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Hh(i)})}};return e.store(tf.store).$t({kt:!0},(function(t,e){var n=new zu(t);return i(n.popLast())})).next((function(){return e.store(Xh.store).$t({kt:!0},(function(t,e){var n=Wh(t[1]);return i(n.popLast())}))}))},t.prototype.Ve=function(t){var e=this,n=t.store(nf.store);return n.$t((function(t,r){var i=Mf(r),o=Vf(e.R,i);return n.put(o)}))},t}();function kd(t){t.createObjectStore(rf.store,{keyPath:rf.keyPath}).createIndex(rf.documentTargetsIndex,rf.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(nf.store,{keyPath:nf.keyPath}).createIndex(nf.queryTargetsIndexName,nf.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(of.store)}var Cd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Sd=function(){function t(e,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new Cu(ku.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new fd(this,i),this.Le=n+"main",this.R=new Af(u),this.Be=new yf(this.Le,11,new wd(this.R)),this.qe=new rd(this.referenceDelegate,this.R),this.Ut=new Gf,this.Ue=function(t,e){return new yd(t,e)}(this.R,this.Ut),this.Qe=new Uf,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&Iu("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Cu(ku.FAILED_PRECONDITION,Cd);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.qe.getHighestSequenceNumber(e)}))})).then((function(e){t.Ne=new wu(e,t.De)})).then((function(){t.xe=!0})).catch((function(e){return t.Be&&t.Be.close(),Promise.reject(e)}))},t.prototype.He=function(t){var e=this;return this.Me=function(n){return mu(e,void 0,void 0,(function(){return bu(this,(function(e){return this.started?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt((function(n){return mu(e,void 0,void 0,(function(){return bu(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget((function(){return mu(e,void 0,void 0,(function(){return bu(this,(function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return Td(e).put(new sf(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Je(e).next((function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable((function(){return t.Me(!1)})))}))})).next((function(){return t.Ye(e)})).next((function(n){return t.isPrimary&&!n?t.Xe(e).next((function(){return!1})):!!n&&t.Ze(e).next((function(){return!0}))}))})).catch((function(e){if(bf(e))return Tu("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Tu("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Se.enqueueRetryable((function(){return t.Me(e)})),t.isPrimary=e}))},t.prototype.Je=function(t){var e=this;return Ed(t).get(Qh.key).next((function(t){return pf.resolve(e.tn(t))}))},t.prototype.en=function(t){return Td(t).delete(this.clientId)},t.prototype.nn=function(){return mu(this,void 0,void 0,(function(){var t,e,n,r=this;return bu(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=Ef(t,sf.store);return e.Nt().next((function(t){var n=r.rn(t,18e5),i=t.filter((function(t){return-1===n.indexOf(t)}));return pf.forEach(i,(function(t){return e.delete(t.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:if(t=i.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)this.Ke.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}}))}))},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return t.je().then((function(){return t.nn()})).then((function(){return t.ze()}))}))},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?pf.resolve(!0):Ed(t).get(Qh.key).next((function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new Cu(ku.FAILED_PRECONDITION,Cd);return!1}}return!(!e.networkEnabled||!e.inForeground)||Td(t).Nt().next((function(t){return void 0===e.rn(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&Tu("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return mu(this,void 0,void 0,(function(){var t=this;return bu(this,(function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Qh.store,sf.store],(function(e){var n=new Sf(e,wu.o);return t.Xe(n).next((function(){return t.en(n)}))}))];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}}))}))},t.prototype.rn=function(t,e){var n=this;return t.filter((function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)}))},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return Td(e).Nt().next((function(e){return t.rn(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return Xf.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Tu("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",lf,(function(o){return r=new Sf(o,i.Ne?i.Ne.next():wu.o),"readwrite-primary"===e?i.Je(r).next((function(t){return!!t||i.Ye(r)})).next((function(e){if(!e)throw Iu("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable((function(){return i.Me(!1)})),new Cu(ku.FAILED_PRECONDITION,hf);return n(r)})).next((function(t){return i.Ze(r).next((function(){return t}))})):i.dn(r).next((function(){return n(r)}))})).then((function(t){return r.raiseOnCommittedEvent(),t}))},t.prototype.dn=function(t){var e=this;return Ed(t).get(Qh.key).next((function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Cu(ku.FAILED_PRECONDITION,Cd)}))},t.prototype.Ze=function(t){var e=new Qh(this.clientId,this.allowTabSynchronization,Date.now());return Ed(t).put(Qh.key,e)},t.yt=function(){return yf.yt()},t.prototype.Xe=function(t){var e=this,n=Ed(t);return n.get(Qh.key).next((function(t){return e.tn(t)?(Tu("IndexedDbPersistence","Releasing primary lease."),n.delete(Qh.key)):pf.resolve()}))},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Iu("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget((function(){return t.inForeground="visible"===t.document.visibilityState,t.je()}))},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("pagehide",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("pagehide",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return Tu("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Iu("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Iu("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Ed(t){return Ef(t,Qh.store)}function Td(t){return Ef(t,sf.store)}function Id(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Od=function(t,e){this.progress=t,this.wn=e},Ad=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(r){return n.yn(t,e,r)}))},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next((function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t}))},t.prototype.gn=function(t,e){t.forEach((function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)}))},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next((function(e){return n.En(t,e).next((function(){return e}))}))},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(t){return n.gn(e,t)}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return ic.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):Qc(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new ic(e)).next((function(t){var e=Yl();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=Yl();return this.Ut.getCollectionParents(t,i).next((function(a){return pf.forEach(a,(function(a){var s=function(t,e){return new qc(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,a.child(i));return r.An(t,s,n).next((function(t){t.forEach((function(t,e){o=o.insert(t,e)}))}))})).next((function(){return o}))}))},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)})).next((function(e){return o.Rn(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=_c.newInvalidDocument(c),r=r.insert(c,l)),El(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(t,n){el(e,n)||(r=r.remove(t))})),r}))},t.prototype.Rn=function(t,e,n){for(var r=$l(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof xl&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next((function(t){return t.forEach((function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))})),c}))},t}(),xd=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=$l(),i=$l(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Dd=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Fu.min())?this.Dn(t,e):this.Sn.pn(t,r).next((function(o){var a=i.Cn(e,o);return(zc(e)||Gc(e))&&i.Nn(e.limitType,a,r,n)?i.Dn(t,e):(Eu()<=ui.a.DEBUG&&Tu("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),tl(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next((function(t){return a.forEach((function(e){t=t.insert(e.key,e)})),t})))}))},t.prototype.Cn=function(t,e){var n=new zl(nl(t));return e.forEach((function(e,r){el(t,r)&&(n=n.add(r))})),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return Eu()<=ui.a.DEBUG&&Tu("QueryEngine","Using full collection scan to execute query:",tl(e)),this.Sn.getDocumentsMatchingQuery(t,e,Fu.min())},t}(),Nd=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new ql(Lu),this.kn=new pd((function(t){return Cc(t)}),Sc),this.$n=Fu.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Ad(this.On,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.collect(n,e.Fn)}))},t}();function Rd(t,e,n,r){return new Nd(t,e,n,r)}function Pd(t,e){return mu(this,void 0,void 0,(function(){var n,r,i,o;return bu(this,(function(a){switch(a.label){case 0:return n=Nu(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n._n.getAllMutationBatches(t).next((function(a){return o=a,r=n.persistence.getMutationQueue(e),i=new Ad(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)})).next((function(e){for(var n=[],r=[],a=$l(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)a=a.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var v=0,y=p.mutations;v<y.length;v++)a=a.add(y[v].key)}return i.pn(t,a).next((function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function Ld(t,e){var n=Nu(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),a=pf.resolve();return o.forEach((function(t){a=a.next((function(){return r.getEntry(e,t)})).next((function(e){var o=n.docVersions.get(t);Du(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))}))})),a.next((function(){return t._n.removeMutationBatch(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}function jd(t){var e=Nu(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.qe.getLastRemoteSnapshotVersion(t)}))}function Md(t,e){var n=Nu(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.Fn;var a=[];e.targetChanges.forEach((function(e,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)})));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return Du(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,e)&&a.push(n.qe.updateTargetData(t,c))}}}));var s=Kl();if(e.documentUpdates.forEach((function(r,i){e.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),a.push(Vd(t,o,e.documentUpdates,r,void 0).next((function(t){s=t}))),!r.isEqual(Fu.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next((function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)}));a.push(u)}return pf.waitFor(a).next((function(){return o.apply(t)})).next((function(){return n.Mn.En(t,s)})).next((function(){return s}))})).then((function(t){return n.Fn=i,t}))}function Vd(t,e,n,r,i){var o=$l();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=Kl();return n.forEach((function(n,a){var s=t.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(Fu.min())?(e.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(e.addEntry(a,u),o=o.insert(n,a)):Tu("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function Fd(t,e){var n=Nu(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)}))}function Ud(t,e){var n=Nu(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.qe.getTargetData(t,e).next((function(i){return i?pf.resolve(r=i):n.qe.allocateTargetId(t).next((function(i){return r=new Of(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t}))}function qd(t,e,n){return mu(this,void 0,void 0,(function(){var r,i,o,a;return bu(this,(function(s){switch(s.label){case 0:r=Nu(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.referenceDelegate.removeTarget(t,i)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!bf(a=s.sent()))throw a;return Tu("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}}))}))}function Bd(t,e,n){var r=Nu(t),i=Fu.min(),o=$l();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=Nu(t),i=r.kn.get(n);return void 0!==i?pf.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,Zc(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:Fu.min(),n?o:$l())})).next((function(t){return{documents:t,Bn:o}}))}))}function Hd(t,e){var n=Nu(t),r=Nu(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.lt(t,e).next((function(t){return t?t.target:null}))}))}function zd(t){var e=Nu(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=Nu(t),i=Kl(),o=Nf(n),a=bd(e),s=IDBKeyRange.lowerBound(o,!0);return a.$t({index:tf.readTimeIndex,range:s},(function(t,e){var n=xf(r.R,e);i=i.insert(n.key,n),o=e.readTime})).next((function(){return{wn:i,readTime:Rf(o)}}))}(e.On,t,e.$n)})).then((function(t){var n=t.wn;return e.$n=t.readTime,n}))}function Gd(t){return mu(this,void 0,void 0,(function(){var e;return bu(this,(function(n){return[2,(e=Nu(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=bd(t),n=Fu.min();return e.$t({index:tf.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=Rf(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.$n=t}))]}))}))}function Wd(t,e,n,r){return mu(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,h,f,d;return bu(this,(function(p){switch(p.label){case 0:for(i=Nu(t),o=$l(),a=Kl(),s=Xl(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(o=o.add(h)),a=a.insert(h,e.Un(l)),s=s.insert(h,e.Qn(l.metadata.readTime));return f=i.On.newChangeBuffer({trackRemovals:!0}),[4,Ud(i,function(t){return Zc(Hc(zu.fromString("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return Vd(t,f,a,Fu.min(),s).next((function(e){return f.apply(t),e})).next((function(e){return i.qe.removeMatchingKeysForTargetId(t,d.targetId).next((function(){return i.qe.addMatchingKeys(t,o,d.targetId)})).next((function(){return i.Mn.En(t,e)})).next((function(){return e}))}))}))]}}))}))}function Kd(t,e,n){return void 0===n&&(n=$l()),mu(this,void 0,void 0,(function(){var r,i;return bu(this,(function(o){switch(o.label){case 0:return[4,Ud(t,Zc(Ff(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Nu(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var o=gh(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Qe.saveNamedQuery(t,e);var a=r.withResumeToken(Qu.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(a.targetId,a),i.qe.updateTargetData(t,a).next((function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)})).next((function(){return i.qe.addMatchingKeys(t,n,r.targetId)})).next((function(){return i.Qe.saveNamedQuery(t,e)}))}))]}}))}))}var Qd=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return pf.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:gh(n.createTime)}),pf.resolve()},t.prototype.getNamedQuery=function(t,e){return pf.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:Ff(t.bundledQuery),readTime:gh(t.readTime)}}(e)),pf.resolve()},t}(),Yd=function(){function t(){this.Wn=new zl(Zd.Gn),this.zn=new zl(Zd.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Zd(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))},t.prototype.removeReference=function(t,e){this.Yn(new Zd(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))},t.prototype.Zn=function(t){var e=this,n=new ic(new zu([])),r=new Zd(n,t),i=new Zd(n,t+1),o=[];return this.zn.forEachInRange([r,i],(function(t){e.Yn(t),o.push(t.key)})),o},t.prototype.ts=function(){var t=this;this.Wn.forEach((function(e){return t.Yn(e)}))},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new ic(new zu([])),n=new Zd(e,t),r=new Zd(e,t+1),i=$l();return this.zn.forEachInRange([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.containsKey=function(t){var e=new Zd(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Zd=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return ic.comparator(t.key,e.key)||Lu(t.ns,e.ns)},t.Hn=function(t,e){return Lu(t.ns,e.ns)||ic.comparator(t.key,e.key)},t}(),Xd=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new zl(Zd.Gn)}return t.prototype.checkEmpty=function(t){return pf.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var o=new Tf(i,e,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new Zd(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return pf.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return pf.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return pf.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return pf.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return pf.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Zd(e,0),i=new Zd(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(t){var e=n.os(t.ns);o.push(e)})),pf.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new zl(Lu);return e.forEach((function(t){var e=new Zd(t,0),i=new Zd(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],(function(t){r=r.add(t.ns)}))})),pf.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;ic.isDocumentKey(i)||(i=i.child(""));var o=new Zd(new ic(i),0),a=new zl(Lu);return this.rs.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.ns)),!0)}),o),pf.resolve(this.us(a))},t.prototype.us=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.os(t);null!==r&&n.push(r)})),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Du(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return pf.forEach(e.mutations,(function(i){var o=new Zd(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((function(){n.rs=r}))},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new Zd(e,0),r=this.rs.firstAfterOrEqual(n);return pf.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return pf.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),Jd=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new ql(ic.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return pf.resolve(n?n.document.clone():_c.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=Kl();return e.forEach((function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():_c.newInvalidDocument(t))})),pf.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Kl(),i=new ic(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.value,u=s.document,c=s.readTime;if(!e.path.isPrefixOf(a.key.path))break;c.compareTo(n)<=0||el(e,u)&&(r=r.insert(u.key,u.clone()))}return pf.resolve(r)},t.prototype.fs=function(t,e){return pf.forEach(this.docs,(function(t){return e(t)}))},t.prototype.newChangeBuffer=function(t){return new $d(this)},t.prototype.getSize=function(t){return pf.resolve(this.size)},t}(),$d=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return gu(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)})),pf.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(vd),tp=function(){function t(t){this.persistence=t,this.ds=new pd((function(t){return Cc(t)}),Sc),this.lastRemoteSnapshotVersion=Fu.min(),this.highestTargetId=0,this.ws=0,this._s=new Yd,this.targetCount=0,this.ys=nd.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach((function(t,n){return e(n)})),pf.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return pf.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return pf.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),pf.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),pf.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new nd(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,pf.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),pf.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,pf.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(t,s.targetId)),i++)})),pf.waitFor(o).next((function(){return i}))},t.prototype.getTargetCount=function(t){return pf.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return pf.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),pf.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((function(e){i.push(r.markPotentiallyOrphaned(t,e))})),pf.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),pf.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return pf.resolve(n)},t.prototype.containsKey=function(t,e){return pf.resolve(this._s.containsKey(e))},t}(),ep=function(){function t(t,e){var n=this;this.gs={},this.Ne=new wu(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new tp(this),this.Ut=new Hf,this.Ue=function(t,e){return new Jd(t,(function(t){return n.referenceDelegate.ps(t)}))}(this.Ut),this.R=new Af(e),this.Qe=new Qd(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new Xd(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;Tu("MemoryPersistence","Starting transaction:",t);var i=new np(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(t){return r.referenceDelegate.Ts(i).next((function(){return t}))})).toPromise().then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.Is=function(t,e){return pf.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(t,e)}})))},t}(),np=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return gu(e,t),e}(ff),rp=function(){function t(t){this.persistence=t,this.As=new Yd,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw xu()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),pf.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),pf.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),pf.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach((function(t){return n.vs.add(t.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.vs.add(t.toString())}))})).next((function(){return r.removeTargetData(t,e)}))},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pf.forEach(this.vs,(function(r){var i=ic.fromPath(r);return e.Ps(t,i).next((function(t){t||n.removeEntry(i)}))})).next((function(){return e.Rs=null,n.apply(t)}))},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next((function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())}))},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return pf.or([function(){return pf.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),ip=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function op(t,e){return"firestore_clients_"+t+"_"+e}function ap(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function sp(t,e){return"firestore_targets_"+t+"_"+e}ip.UNAUTHENTICATED=new ip(null),ip.GOOGLE_CREDENTIALS=new ip("google-credentials-uid"),ip.FIRST_PARTY=new ip("first-party-uid");var up=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Cu(o.error.code,o.error.message)),a?new t(e,n,o.state,i):(Iu("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),cp=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Cu(i.error.code,i.error.message)),o?new t(e,i.state,r):(Iu("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),lp=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=eh(),a=0;i&&a<r.activeTargetIds.length;++a)i=rc(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(Iu("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),hp=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Iu("SharedClientState","Failed to parse online state: "+e),null)},t}(),fp=function(){function t(){this.activeTargetIds=eh()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),dp=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new ql(Lu),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=op(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new fp),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return mu(this,void 0,void 0,(function(){var t,e,n,r,i,o,a,s,u,c,l=this;return bu(this,(function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(op(this.persistenceKey,r)))&&(o=lp.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(a=this.storage.getItem(this.Us))&&(s=this.js(a))&&this.Ws(s),u=0,c=this.$s;u<c.length;u++)this.Fs(c[u]);return this.$s=[],this.window.addEventListener("pagehide",(function(){return l.shutdown()})),this.started=!0,[2]}}))}))},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(sp(this.persistenceKey,t));if(n){var r=cp.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(sp(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach((function(t){r.Hs(t)})),this.currentUser=t,n.forEach((function(t){r.addPendingMutation(t)}))},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Tu("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Tu("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Tu("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Tu("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void Iu("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return mu(e,void 0,void 0,(function(){var t,e,r,i,o,a;return bu(this,(function(s){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(a=function(t){var e=wu.o;if(null!=t)try{var n=JSON.parse(t);Du("number"==typeof n),e=n}catch(t){Iu("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==wu.o&&this.sequenceNumberHandler(a);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new up(this.currentUser,t,e,n),i=ap(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=ap(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=sp(this.persistenceKey,t),i=new cp(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return lp.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return up.Vs(new ip(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return cp.Vs(r,e)},t.prototype.js=function(t){return hp.Vs(t)},t.prototype.ii=function(t){return mu(this,void 0,void 0,(function(){return bu(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(Tu("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),a=[],s=[];return o.forEach((function(t){i.has(t)||a.push(t)})),i.forEach((function(t){o.has(t)||s.push(t)})),this.syncEngine.hi(a,s).then((function(){n.ks=r}))},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=eh();return t.forEach((function(t,n){e=e.unionWith(n.activeTargetIds)})),e},t}(),pp=function(){function t(){this.li=new fp,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new fp,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),vp=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),yp=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){Tu("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){Tu("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),gp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},mp=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),bp=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return gu(e,t),e.prototype.ki=function(t,e,n,r){return new Promise((function(i,o){var a=new vu;a.listenOnce(hu.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case lu.NO_ERROR:var e=a.getResponseJson();Tu("Connection","XHR received:",JSON.stringify(e)),i(e);break;case lu.TIMEOUT:Tu("Connection",'RPC "'+t+'" timed out'),o(new Cu(ku.DEADLINE_EXCEEDED,"Request time out"));break;case lu.HTTP_ERROR:var n=a.getStatus();if(Tu("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(ku).indexOf(e)>=0?e:ku.UNKNOWN}(r.status);o(new Cu(s,r.message))}else o(new Cu(ku.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Cu(ku.UNAVAILABLE,"Connection failed."));break;default:xu()}}finally{Tu("Connection",'RPC "'+t+'" completed.')}}));var s=JSON.stringify(r);a.send(e,"POST",s,n,15)}))},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new $s,i=na(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new du({})),this.Fi(o.initMessageHeaders,e),Object(si.n)()||Object(si.p)()||Object(si.l)()||Object(si.m)()||Object(si.q)()||Object(si.k)()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");Tu("Connection","Creating WebChannel: "+a,o);var s=r.createWebChannel(a,o),u=!1,c=!1,l=new mp({Ei:function(t){c?Tu("Connection","Not sending because WebChannel is closed:",t):(u||(Tu("Connection","Opening WebChannel transport."),s.open(),u=!0),Tu("Connection","WebChannel sending:",t),s.send(t))},Ti:function(){return s.close()}}),h=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(s,pu.EventType.OPEN,(function(){c||Tu("Connection","WebChannel transport opened.")})),h(s,pu.EventType.CLOSE,(function(){c||(c=!0,Tu("Connection","WebChannel transport closed"),l.Vi())})),h(s,pu.EventType.ERROR,(function(t){c||(c=!0,Ou("Connection","WebChannel transport errored:",t),l.Vi(new Cu(ku.UNAVAILABLE,"The operation could not be completed")))})),h(s,pu.EventType.MESSAGE,(function(t){var e;if(!c){var n=t.data[0];Du(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Tu("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=Pl[t];if(void 0!==e)return Ul(e)}(i),a=r.message;void 0===o&&(o=ku.INTERNAL,a="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new Cu(o,a)),s.close()}else Tu("Connection","WebChannel received:",n),l.Si(n)}})),h(i,fu.STAT_EVENT,(function(t){10===t.stat?Tu("Connection","Detected buffering proxy"):11===t.stat&&Tu("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Pi()}),0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);Tu("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then((function(t){return Tu("RestConnection","Received: ",t),t}),(function(e){throw Ou("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.6.8",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+gp[t]},t}());function _p(){return"undefined"!=typeof window?window:null}function wp(){return"undefined"!=typeof document?document:null}function kp(t){return new dh(t,!0)}var Cp=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&Tu("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return e.Qi=Date.now(),t()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),Sp=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Cp(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return mu(this,void 0,void 0,(function(){return bu(this,(function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return t.rr()})))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return mu(this,void 0,void 0,(function(){return bu(this,(function(t){return this.er()?[2,this.close(0)]:[2]}))}))},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return mu(this,void 0,void 0,(function(){return bu(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===ku.RESOURCE_EXHAUSTED?(Iu(e.toString()),Iu("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===ku.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(e){t.Yi===n&&t.lr(e)}),(function(n){e((function(){var e=new Cu(ku.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)}))}))},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii((function(){n((function(){return e.state=2,e.listener.Ii()}))})),this.stream.Ri((function(t){n((function(){return e.dr(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji((function(){return mu(t,void 0,void 0,(function(){return bu(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.dr=function(t){return Tu("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget((function(){return e.Yi===t?n():(Tu("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Ep=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return gu(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:xu()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(Du(void 0===e||"string"==typeof e),Qu.fromBase64String(e||"")):(Du(void 0===e||e instanceof Uint8Array),Qu.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=(s=e.targetChange.cause)&&function(t){var e=void 0===t.code?ku.UNKNOWN:Ul(t.code);return new Cu(e,t.message||"")}(s);n=new ah(r,i,o,a||null)}else if("documentChange"in e){i=wh(t,(r=e.documentChange).document.name),o=gh(r.document.updateTime);var s=new mc({mapValue:{fields:r.document.fields}}),u=(a=_c.newFoundDocument(i,o,s),r.targetIds||[]);n=new ih(u,r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e)i=wh(t,(r=e.documentDelete).document),o=r.readTime?gh(r.readTime):Fu.min(),s=_c.newNoDocument(i,o),n=new ih([],a=r.removedTargetIds||[],s.key,s);else if("documentRemove"in e)i=wh(t,(r=e.documentRemove).document),n=new ih([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return xu();var c=e.filter;i=new Vl(r=c.count||0),n=new oh(o=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return Fu.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Fu.min():e.readTime?gh(e.readTime):Fu.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=Sh(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=Ec(r)?{documents:xh(t,r)}:{query:Dh(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=vh(t,e.resumeToken):e.snapshotVersion.compareTo(Fu.min())>0&&(n.readTime=ph(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return xu()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=Sh(this.R),e.removeTarget=t,this.cr(e)},e}(Sp),Tp=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return gu(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(Du(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(Du(void 0!==e),t.map((function(t){return function(t,e){var n=gh(t.updateTime?t.updateTime:e);return n.isEqual(Fu.min())&&(n=gh(e)),new _l(n,t.transformResults||[])}(t,e)}))):[]}(t.writeResults,t.commitTime),n=gh(t.commitTime);return this.listener.Tr(n,e)}return Du(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=Sh(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return Oh(e.R,t)}))};this.cr(n)},e}(Sp),Ip=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return gu(e,t),e.prototype.br=function(){if(this.Rr)throw new Cu(ku.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===ku.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Cu(ku.UNKNOWN,t.toString())}))},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===ku.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Cu(ku.UNKNOWN,t.toString())}))},e.prototype.terminate=function(){this.Rr=!0},e}((function(){})),Op=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()})))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Iu(e),this.Vr=!1):Tu("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),Ap=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(t){n.enqueueAndForget((function(){return mu(o,void 0,void 0,(function(){return bu(this,(function(t){switch(t.label){case 0:return Vp(this)?(Tu("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return mu(this,void 0,void 0,(function(){var e;return bu(this,(function(n){switch(n.label){case 0:return(e=Nu(t)).Or.add(4),[4,Dp(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,xp(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Br=new Op(n,r)};function xp(t){return mu(this,void 0,void 0,(function(){var e,n;return bu(this,(function(r){switch(r.label){case 0:if(!Vp(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Dp(t){return mu(this,void 0,void 0,(function(){var e,n;return bu(this,(function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Np(t,e){var n=Nu(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),Mp(n)?jp(n):$p(n).er()&&Pp(n,e))}function Rp(t,e){var n=Nu(t),r=$p(n);n.$r.delete(e),r.er()&&Lp(n,e),0===n.$r.size&&(r.er()?r.ir():Vp(n)&&n.Br.set("Unknown"))}function Pp(t,e){t.qr.U(e.targetId),$p(t).mr(e)}function Lp(t,e){t.qr.U(e),$p(t).yr(e)}function jp(t){t.qr=new uh({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),$p(t).start(),t.Br.Sr()}function Mp(t){return Vp(t)&&!$p(t).tr()&&t.$r.size>0}function Vp(t){return 0===Nu(t).Or.size}function Fp(t){t.qr=void 0}function Up(t){return mu(this,void 0,void 0,(function(){return bu(this,(function(e){return t.$r.forEach((function(e,n){Pp(t,e)})),[2]}))}))}function qp(t,e){return mu(this,void 0,void 0,(function(){return bu(this,(function(n){return Fp(t),Mp(t)?(t.Br.Nr(e),jp(t)):t.Br.set("Unknown"),[2]}))}))}function Bp(t,e,n){return mu(this,void 0,void 0,(function(){var r,i,o;return bu(this,(function(a){switch(a.label){case 0:if(t.Br.set("Online"),!(e instanceof ah&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return mu(this,void 0,void 0,(function(){var n,r,i,o;return bu(this,(function(a){switch(a.label){case 0:n=e.cause,r=0,i=e.targetIds,a.label=1;case 1:return r<i.length?t.$r.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:a.sent(),t.$r.delete(o),t.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),Tu("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Hp(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof ih?t.qr.X(e):e instanceof oh?t.qr.rt(e):t.qr.et(e),n.isEqual(Fu.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,jd(t.localStore)];case 8:return i=a.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach((function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(Qu.EMPTY_BYTE_STRING,n.snapshotVersion)),Lp(t,e);var r=new Of(n.target,e,1,n.sequenceNumber);Pp(t,r)}})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return Tu("RemoteStore","Failed to raise snapshot:",o=a.sent()),[4,Hp(t,o)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function Hp(t,e,n){return mu(this,void 0,void 0,(function(){var r=this;return bu(this,(function(i){switch(i.label){case 0:if(!bf(e))throw e;return t.Or.add(1),[4,Dp(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return jd(t.localStore)}),t.asyncQueue.enqueueRetryable((function(){return mu(r,void 0,void 0,(function(){return bu(this,(function(e){switch(e.label){case 0:return Tu("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,xp(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function zp(t,e){return e().catch((function(n){return Hp(t,n,e)}))}function Gp(t){return mu(this,void 0,void 0,(function(){var e,n,r,i,o;return bu(this,(function(a){switch(a.label){case 0:e=Nu(t),n=tv(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,a.label=1;case 1:if(!function(t){return Vp(t)&&t.kr.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,Fd(e.localStore,r)];case 3:return null===(i=a.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=tv(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=a.sent(),[4,Hp(e,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return Wp(e)&&Kp(e),[2]}}))}))}function Wp(t){return Vp(t)&&!tv(t).tr()&&t.kr.length>0}function Kp(t){tv(t).start()}function Qp(t){return mu(this,void 0,void 0,(function(){return bu(this,(function(e){return tv(t).Ar(),[2]}))}))}function Yp(t){return mu(this,void 0,void 0,(function(){var e,n,r;return bu(this,(function(i){for(e=tv(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]}))}))}function Zp(t,e,n){return mu(this,void 0,void 0,(function(){var r,i;return bu(this,(function(o){switch(o.label){case 0:return r=t.kr.shift(),i=If.from(r,e,n),[4,zp(t,(function(){return t.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,Gp(t)];case 2:return o.sent(),[2]}}))}))}function Xp(t,e){return mu(this,void 0,void 0,(function(){return bu(this,(function(n){switch(n.label){case 0:return e&&tv(t).pr?[4,function(t,e){return mu(this,void 0,void 0,(function(){var n,r;return bu(this,(function(i){switch(i.label){case 0:return Fl(r=e.code)&&r!==ku.ABORTED?(n=t.kr.shift(),tv(t).sr(),[4,zp(t,(function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,Gp(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Wp(t)&&Kp(t),[2]}}))}))}function Jp(t,e){return mu(this,void 0,void 0,(function(){var n;return bu(this,(function(r){switch(r.label){case 0:return n=Nu(t),e?(n.Or.delete(2),[4,xp(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,Dp(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function $p(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=Nu(t);return r.br(),new Ep(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Up.bind(null,t),Ri:qp.bind(null,t),_r:Bp.bind(null,t)}),t.Mr.push((function(n){return mu(e,void 0,void 0,(function(){return bu(this,(function(e){switch(e.label){case 0:return n?(t.Ur.sr(),Mp(t)?jp(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),Fp(t),e.label=3;case 3:return[2]}}))}))}))),t.Ur}function tv(t){var e=this;return t.Qr||(t.Qr=function(t,e,n){var r=Nu(t);return r.br(),new Tp(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Qp.bind(null,t),Ri:Xp.bind(null,t),Ir:Yp.bind(null,t),Tr:Zp.bind(null,t)}),t.Mr.push((function(n){return mu(e,void 0,void 0,(function(){return bu(this,(function(e){switch(e.label){case 0:return n?(t.Qr.sr(),[4,Gp(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:e.sent(),t.kr.length>0&&(Tu("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}}))}))}))),t.Qr}var ev=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new df,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return t.createAndSchedule=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Cu(ku.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function nv(t,e){if(Iu("AsyncQueue",e+": "+t),bf(t))return new Cu(ku.UNAVAILABLE,e+": "+t);throw t}var rv=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||ic.comparator(e.key,n.key)}:function(t,e){return ic.comparator(t.key,e.key)},this.keyedMap=Yl(),this.sortedSet=new ql(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),iv=function(){function t(){this.Kr=new ql(ic.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):xu():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal((function(e,n){t.push(n)})),t},t}(),ov=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,rv.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Jc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),av=function(){this.Wr=void 0,this.listeners=[]},sv=function(){this.queries=new pd((function(t){return $c(t)}),Jc),this.onlineState="Unknown",this.Gr=new Set};function uv(t,e){return mu(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return bu(this,(function(c){switch(c.label){case 0:if(n=Nu(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new av),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),a=o,[4,n.onListen(r)];case 2:return a.Wr=c.sent(),[3,4];case 3:return s=c.sent(),u=nv(s,"Initialization of query '"+tl(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&fv(n),[2]}}))}))}function cv(t,e){return mu(this,void 0,void 0,(function(){var n,r,i,o,a;return bu(this,(function(s){return n=Nu(t),i=!1,(o=n.queries.get(r=e.query))&&(a=o.listeners.indexOf(e))>=0&&(o.listeners.splice(a,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function lv(t,e){for(var n=Nu(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=n.queries.get(a.query);if(s){for(var u=0,c=s.listeners;u<c.length;u++)c[u].Hr(a)&&(r=!0);s.Wr=a}}r&&fv(n)}function hv(t,e,n){var r=Nu(t),i=r.queries.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(e)}function fv(t){t.Gr.forEach((function(t){t.next()}))}var dv=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new ov(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=ov.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),pv=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),vv=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return wh(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?Ih(this.R,t.document,!1):_c.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},t.prototype.Qn=function(t){return gh(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new vv(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(e.get(c)||$l()).add(a);e.set(c,l)}}return e},t.prototype.complete=function(){return mu(this,void 0,void 0,(function(){var t,e,n,r,i;return bu(this,(function(o){switch(o.label){case 0:return[4,Wd(this.localStore,new vv(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,Kd(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Od(Object.assign({},this.progress),t))]}}))}))}}();var yv=function(t){this.key=t},gv=function(t){this.key=t},mv=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=$l(),this.mutatedKeys=$l(),this.lo=nl(t),this.fo=new rv(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new iv,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=zc(this.query)&&i.size===this.query.limit?i.last():null,c=Gc(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((function(t,e){var l=i.get(t),h=el(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(a=a.add(h),o=d?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))})),zc(this.query)||Gc(this.query))for(;a.size>this.query.limit;){var l=zc(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xu()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)})),this.po(n);var a=e?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new ov(this.query,t.fo,i,o,t.mutatedKeys,0===s,u,!1),To:a}:{To:a}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new iv,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e.uo=e.uo.add(t)})),t.modifiedDocuments.forEach((function(t){})),t.removedDocuments.forEach((function(t){return e.uo=e.uo.delete(t)})),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=$l(),this.fo.forEach((function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))}));var n=[];return e.forEach((function(e){t.ho.has(e)||n.push(new gv(e))})),this.ho.forEach((function(t){e.has(t)||n.push(new yv(t))})),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=$l();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return ov.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),bv=function(t,e,n){this.query=t,this.targetId=e,this.view=n},_v=function(t){this.key=t,this.bo=!1},wv=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new pd((function(t){return $c(t)}),Jc),this.Vo=new Map,this.So=new Set,this.Do=new ql(ic.comparator),this.Co=new Map,this.No=new Yd,this.xo={},this.Fo=new Map,this.ko=nd.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function kv(t,e){return mu(this,void 0,void 0,(function(){var n,r,i,o,a;return bu(this,(function(s){switch(s.label){case 0:return n=Xv(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,Ud(n.localStore,Zc(e))];case 2:return o=s.sent(),a=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,Cv(n,e,o.targetId,"current"===a)];case 3:r=s.sent(),n.isPrimaryClient&&Np(n.remoteStore,o),s.label=4;case 4:return[2,r]}}))}))}function Cv(t,e,n,r){return mu(this,void 0,void 0,(function(){var i,o,a,s,u,c;return bu(this,(function(l){switch(l.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return mu(this,void 0,void 0,(function(){var i,o,a;return bu(this,(function(s){switch(s.label){case 0:return(i=e.view._o(n)).Nn?[4,Bd(t.localStore,e.query,!1).then((function(t){return e.view._o(t.documents,i)}))]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),a=e.view.applyChanges(i,t.isPrimaryClient,o),[2,(jv(t,e.targetId,a.To),a.snapshot)]}}))}))}(t,e,n,r)},[4,Bd(t.localStore,e,!0)];case 1:return i=l.sent(),o=new mv(e,i.Bn),a=o._o(i.documents),s=rh.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(a,t.isPrimaryClient,s),jv(t,n,u.To),c=new bv(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}}))}))}function Sv(t,e){return mu(this,void 0,void 0,(function(){var n,r,i;return bu(this,(function(o){switch(o.label){case 0:return n=Nu(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(t){return!Jc(t,e)}))),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,qd(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),Rp(n.remoteStore,r.targetId),Pv(n,r.targetId)})).catch(sd)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Pv(n,r.targetId),[4,qd(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function Ev(t,e,n){return mu(this,void 0,void 0,(function(){var r,i,o,a;return bu(this,(function(s){switch(s.label){case 0:r=Jv(t),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,function(t,e){var n,r=Nu(t),i=Vu.now(),o=e.reduce((function(t,e){return t.add(e.key)}),$l());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Mn.pn(t,o).next((function(o){n=o;for(var a=[],s=0,u=e;s<u.length;s++){var c=u[s],l=Tl(c,n.get(c.key));null!=l&&a.push(new xl(c.key,l,bc(l.value.mapValue),wl.exists(!0)))}return r._n.addMutationBatch(t,i,a,e)}))})).then((function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}}))}(r.localStore,e)];case 2:return i=s.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new ql(Lu)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,Fv(r,i.changes)];case 3:return s.sent(),[4,Gp(r.remoteStore)];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),a=nv(o,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function Tv(t,e){return mu(this,void 0,void 0,(function(){var n,r;return bu(this,(function(i){switch(i.label){case 0:n=Nu(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Md(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach((function(t,e){var r=n.Co.get(e);r&&(Du(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?Du(r.bo):t.removedDocuments.size>0&&(Du(r.bo),r.bo=!1))})),[4,Fv(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,sd(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Iv(t,e,n){var r=Nu(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=Nu(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)})),r&&fv(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Ov(t,e,n){return mu(this,void 0,void 0,(function(){var r,i,o,a,s,u;return bu(this,(function(c){switch(c.label){case 0:return(r=Nu(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(a=(a=new ql(ic.comparator)).insert(o,_c.newNoDocument(o,Fu.min())),s=$l().add(o),u=new nh(Fu.min(),new Map,new zl(Lu),a,s),[4,Tv(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),Vv(r),[3,4];case 2:return[4,qd(r.localStore,e,!1).then((function(){return Pv(r,e,n)})).catch(sd)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function Av(t,e){return mu(this,void 0,void 0,(function(){var n,r,i;return bu(this,(function(o){switch(o.label){case 0:n=Nu(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Ld(n.localStore,e)];case 2:return i=o.sent(),Rv(n,r,null),Nv(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Fv(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,sd(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function xv(t,e,n){return mu(this,void 0,void 0,(function(){var r,i;return bu(this,(function(o){switch(o.label){case 0:r=Nu(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Nu(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n._n.lookupMutationBatch(t,e).next((function(e){return Du(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}(r.localStore,e)];case 2:return i=o.sent(),Rv(r,e,n),Nv(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Fv(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,sd(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Dv(t,e){return mu(this,void 0,void 0,(function(){var n,r,i,o,a;return bu(this,(function(s){switch(s.label){case 0:Vp((n=Nu(t)).remoteStore)||Tu("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,function(t){var e=Nu(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e._n.getHighestUnacknowledgedBatchId(t)}))}(n.localStore)];case 2:return-1===(r=s.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=s.sent(),a=nv(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}}))}))}function Nv(t,e){(t.Fo.get(e)||[]).forEach((function(t){t.resolve()})),t.Fo.delete(e)}function Rv(t,e,n){var r=Nu(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Pv(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach((function(e){t.No.containsKey(e)||Lv(t,e)}))}function Lv(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(Rp(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Vv(t))}function jv(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof yv?(t.No.addReference(o.key,e),Mv(t,o)):o instanceof gv?(Tu("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||Lv(t,o.key)):xu()}}function Mv(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(Tu("SyncEngine","New document in limbo: "+n),t.So.add(r),Vv(t))}function Vv(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new ic(zu.fromString(e)),r=t.ko.next();t.Co.set(r,new _v(n)),t.Do=t.Do.insert(n,r),Np(t.remoteStore,new Of(Zc(Hc(n.path)),r,2,wu.o))}}function Fv(t,e,n){return mu(this,void 0,void 0,(function(){var r,i,o,a;return bu(this,(function(s){switch(s.label){case 0:return r=Nu(t),i=[],o=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(t,s){a.push(r.Oo(s,e,n).then((function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=xd.Pn(s.targetId,t);o.push(e)}})))})),[4,Promise.all(a)]);case 1:return s.sent(),r.vo._r(i),[4,function(t,e){return mu(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c;return bu(this,(function(l){switch(l.label){case 0:n=Nu(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return pf.forEach(e,(function(e){return pf.forEach(e.bn,(function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)})).next((function(){return pf.forEach(e.vn,(function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)}))}))}))}))];case 2:return l.sent(),[3,4];case 3:if(!bf(r=l.sent()))throw r;return Tu("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)s=(a=o[i]).targetId,a.fromCache||(u=n.Fn.get(s),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Fn=n.Fn.insert(s,c));return[2]}}))}))}(r.localStore,o)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))}function Uv(t,e){return mu(this,void 0,void 0,(function(){var n,r;return bu(this,(function(i){switch(i.label){case 0:return(n=Nu(t)).currentUser.isEqual(e)?[3,3]:(Tu("SyncEngine","User change. New user:",e.toKey()),[4,Pd(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach((function(t){t.forEach((function(t){t.reject(new Cu(ku.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Fv(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function qv(t,e){var n=Nu(t),r=n.Co.get(e);if(r&&r.bo)return $l().add(r.key);var i=$l(),o=n.Vo.get(e);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=n.Po.get(s[a]);i=i.unionWith(u.view.wo)}return i}function Bv(t,e){return mu(this,void 0,void 0,(function(){var n,r,i;return bu(this,(function(o){switch(o.label){case 0:return[4,Bd((n=Nu(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&jv(n,e.targetId,i.To),i)]}}))}))}function Hv(t){return mu(this,void 0,void 0,(function(){var e;return bu(this,(function(n){return[2,zd((e=Nu(t)).localStore).then((function(t){return Fv(e,t)}))]}))}))}function zv(t,e,n,r){return mu(this,void 0,void 0,(function(){var i,o;return bu(this,(function(a){switch(a.label){case 0:return[4,function(t,e){var n=Nu(t),r=Nu(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.jt(t,e).next((function(e){return e?n.Mn.pn(t,e):pf.resolve(null)}))}))}((i=Nu(t)).localStore,e)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,Gp(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Rv(i,e,r||null),Nv(i,e),function(t,e){Nu(Nu(t)._n).Gt(e)}(i.localStore,e)):xu(),a.label=4;case 4:return[4,Fv(i,o)];case 5:return a.sent(),[3,7];case 6:Tu("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}}))}))}function Gv(t,e){return mu(this,void 0,void 0,(function(){var n,r,i,o,a,s,u;return bu(this,(function(c){switch(c.label){case 0:return Xv(n=Nu(t)),Jv(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Wv(n,r.toArray())]);case 1:return i=c.sent(),n.$o=!0,[4,Jp(n.remoteStore,!0)];case 2:for(c.sent(),o=0,a=i;o<a.length;o++)Np(n.remoteStore,a[o]);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(s=[],u=Promise.resolve(),n.Vo.forEach((function(t,e){n.sharedClientState.isLocalQueryTarget(e)?s.push(e):u=u.then((function(){return Pv(n,e),qd(n.localStore,e,!0)})),Rp(n.remoteStore,e)})),[4,u]);case 4:return c.sent(),[4,Wv(n,s)];case 5:return c.sent(),function(t){var e=Nu(t);e.Co.forEach((function(t,n){Rp(e.remoteStore,n)})),e.No.ts(),e.Co=new Map,e.Do=new ql(ic.comparator)}(n),n.$o=!1,[4,Jp(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}}))}))}function Wv(t,e,n){return mu(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,c,l,h,f,d,p;return bu(this,(function(v){switch(v.label){case 0:n=Nu(t),r=[],i=[],o=0,a=e,v.label=1;case 1:return o<a.length?(u=void 0,(c=n.Vo.get(s=a[o]))&&0!==c.length?[4,Ud(n.localStore,Zc(c[0]))]:[3,7]):[3,13];case 2:u=v.sent(),l=0,h=c,v.label=3;case 3:return l<h.length?(f=n.Po.get(h[l]),[4,Bv(n,f)]):[3,6];case 4:(d=v.sent()).snapshot&&i.push(d.snapshot),v.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Hd(n.localStore,s)];case 8:return p=v.sent(),[4,Ud(n.localStore,p)];case 9:return u=v.sent(),[4,Cv(n,Kv(p),s,!1)];case 10:v.sent(),v.label=11;case 11:r.push(u),v.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function Kv(t){return Bc(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Qv(t){var e=Nu(t);return Nu(Nu(e.localStore).persistence).fn()}function Yv(t,e,n,r){return mu(this,void 0,void 0,(function(){var i,o,a;return bu(this,(function(s){switch(s.label){case 0:return(i=Nu(t)).$o?(Tu("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,zd(i.localStore)];case 3:return o=s.sent(),a=nh.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Fv(i,o,a)];case 4:return s.sent(),[3,8];case 5:return[4,qd(i.localStore,e,!0)];case 6:return s.sent(),Pv(i,e,r),[3,8];case 7:xu(),s.label=8;case 8:return[2]}}))}))}function Zv(t,e,n){return mu(this,void 0,void 0,(function(){var r,i,o,a,s,u,c,l,h;return bu(this,(function(f){switch(f.label){case 0:if(!(r=Xv(t)).$o)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Vo.has(a=o[i])?(Tu("SyncEngine","Adding an already active target "+a),[3,5]):[4,Hd(r.localStore,a)]:[3,6];case 2:return s=f.sent(),[4,Ud(r.localStore,s)];case 3:return u=f.sent(),[4,Cv(r,Kv(s),u.targetId,!1)];case 4:f.sent(),Np(r.remoteStore,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return bu(this,(function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,qd(r.localStore,t,!1).then((function(){Rp(r.remoteStore,t),Pv(r,t)})).catch(sd)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function Xv(t){var e=Nu(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Tv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qv.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ov.bind(null,e),e.vo._r=lv.bind(null,e.eventManager),e.vo.Mo=hv.bind(null,e.eventManager),e}function Jv(t){var e=Nu(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Av.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xv.bind(null,e),e}var $v=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return mu(this,void 0,void 0,(function(){return bu(this,(function(e){switch(e.label){case 0:return this.R=kp(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}}))}))},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return Rd(this.persistence,new Dd,t.initialUser,this.R)},t.prototype.qo=function(t){return new ep(rp.bs,this.R)},t.prototype.Bo=function(t){return new pp},t.prototype.terminate=function(){return mu(this,void 0,void 0,(function(){return bu(this,(function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}}))}))},t}(),ty=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return gu(e,t),e.prototype.initialize=function(e){return mu(this,void 0,void 0,(function(){return bu(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Gd(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,Jv(this.Ko.syncEngine)];case 4:return n.sent(),[4,Gp(this.Ko.remoteStore)];case 5:return n.sent(),[2]}}))}))},e.prototype.Qo=function(t){return Rd(this.persistence,new Dd,t.initialUser,this.R)},e.prototype.Uo=function(t){return new ld(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=Id(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Qf.withCacheSize(this.cacheSizeBytes):Qf.DEFAULT;return new Sd(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,_p(),wp(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new pp},e}($v),ey=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return gu(e,t),e.prototype.initialize=function(e){return mu(this,void 0,void 0,(function(){var n,r=this;return bu(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof dp?(this.sharedClientState.syncEngine={ui:zv.bind(null,n),ai:Yv.bind(null,n),hi:Zv.bind(null,n),fn:Qv.bind(null,n),ci:Hv.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(t){return mu(r,void 0,void 0,(function(){return bu(this,(function(e){switch(e.label){case 0:return[4,Gv(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Bo=function(t){var e=_p();if(!dp.yt(e))throw new Cu(ku.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Id(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new dp(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(ty),ny=function(){function t(){}return t.prototype.initialize=function(t,e){return mu(this,void 0,void 0,(function(){var n=this;return bu(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Iv(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Uv.bind(null,this.syncEngine),[4,Jp(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.createEventManager=function(t){return new sv},t.prototype.createDatastore=function(t){var e=kp(t.databaseInfo.databaseId),n=new bp(t.databaseInfo);return function(t,e,n){return new Ip(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,a=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return Iv(a.syncEngine,t,0)},o=yp.yt()?new yp:new vp,new Ap(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,a){var s=new wv(t,e,n,r,i,o);return a&&(s.$o=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return mu(this,void 0,void 0,(function(){var e;return bu(this,(function(n){switch(n.label){case 0:return e=Nu(t),Tu("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,Dp(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},t}(),ry=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),iy=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new df,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return mu(this,void 0,void 0,(function(){return bu(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Lo=function(){return mu(this,void 0,void 0,(function(){return bu(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}}))}))},t.prototype.Ho=function(){return mu(this,void 0,void 0,(function(){var t,e,n,r;return bu(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new pv(JSON.parse(r),t.length+n)]}}))}))},t.prototype.Zo=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.Jo=function(){return mu(this,void 0,void 0,(function(){var t,e;return bu(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.Xo=function(t){return mu(this,void 0,void 0,(function(){var e;return bu(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return mu(this,void 0,void 0,(function(){var t,e;return bu(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return mu(this,void 0,void 0,(function(){var e,n=this;return bu(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Cu(ku.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return mu(this,void 0,void 0,(function(){var n,r,i,o,a,s;return bu(this,(function(u){switch(u.label){case 0:return n=Nu(t),r=Sh(n.R)+"/documents",i={documents:e.map((function(t){return _h(n.R,t)}))},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=u.sent(),a=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){Du(!!e.found);var n=wh(t,e.found.name),r=gh(e.found.updateTime),i=new mc({mapValue:{fields:e.found.fields}});return _c.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){Du(!!e.missing),Du(!!e.readTime);var n=wh(t,e.missing),r=gh(e.readTime);return _c.newNoDocument(n,r)}(t,e):xu()}(n.R,t);a.set(e.key.toString(),e)})),s=[],[2,(e.forEach((function(t){var e=a.get(t.toString());Du(!!e),s.push(e)})),s)]}}))}))}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach((function(t){return n.recordVersion(t)})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new jl(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return mu(this,void 0,void 0,(function(){var t,e=this;return bu(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=ic.fromPath(n);e.mutations.push(new Ml(r,e.precondition(r)))})),[4,function(t,e){return mu(this,void 0,void 0,(function(){var n,r,i;return bu(this,(function(o){switch(o.label){case 0:return n=Nu(t),r=Sh(n.R)+"/documents",i={writes:e.map((function(t){return Oh(n.R,t)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw xu();e=Fu.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Cu(ku.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?wl.updateTime(e):wl.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Fu.min()))throw new Cu(ku.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return wl.updateTime(e)}return wl.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),oy=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Cp(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji((function(){return mu(t,void 0,void 0,(function(){var t,e,n=this;return bu(this,(function(r){return t=new iy(this.datastore),(e=this.sc(t))&&e.then((function(e){n.asyncQueue.enqueueAndForget((function(){return t.commit().then((function(){n.deferred.resolve(e)})).catch((function(t){n.ic(t)}))}))})).catch((function(t){n.ic(t)})),[2]}))}))}))},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!ec(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return e.nc(),Promise.resolve()}))):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Fl(e)}return!1},t}(),ay=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=ip.UNAUTHENTICATED,this.clientId=Pu.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,(function(t){return mu(r,void 0,void 0,(function(){return bu(this,(function(e){switch(e.label){case 0:return Tu("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}}))}))}))}return t.prototype.getConfiguration=function(){return mu(this,void 0,void 0,(function(){return bu(this,(function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Cu(ku.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new df;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return mu(t,void 0,void 0,(function(){var t,n;return bu(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=nv(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function sy(t,e){return mu(this,void 0,void 0,(function(){var n,r,i=this;return bu(this,(function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Tu("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener((function(t){return mu(i,void 0,void 0,(function(){return bu(this,(function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,Pd(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}}))}))})),e.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=e,[2]}}))}))}function uy(t,e){return mu(this,void 0,void 0,(function(){var n,r;return bu(this,(function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,cy(t)];case 1:return n=i.sent(),Tu("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener((function(t){return function(t,e){return mu(this,void 0,void 0,(function(){var n,r;return bu(this,(function(i){switch(i.label){case 0:return(n=Nu(t)).asyncQueue.verifyOperationInProgress(),Tu("RemoteStore","RemoteStore received new credentials"),r=Vp(n),n.Or.add(3),[4,Dp(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,xp(n)];case 3:return i.sent(),[2]}}))}))}(e.remoteStore,t)})),t.onlineComponents=e,[2]}}))}))}function cy(t){return mu(this,void 0,void 0,(function(){return bu(this,(function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Tu("FirestoreClient","Using default OfflineComponentProvider"),[4,sy(t,new $v)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}}))}))}function ly(t){return mu(this,void 0,void 0,(function(){return bu(this,(function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Tu("FirestoreClient","Using default OnlineComponentProvider"),[4,uy(t,new ny)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}}))}))}function hy(t){return cy(t).then((function(t){return t.persistence}))}function fy(t){return cy(t).then((function(t){return t.localStore}))}function dy(t){return ly(t).then((function(t){return t.remoteStore}))}function py(t){return ly(t).then((function(t){return t.syncEngine}))}function vy(t){return mu(this,void 0,void 0,(function(){var e,n;return bu(this,(function(r){switch(r.label){case 0:return[4,ly(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=kv.bind(null,e.syncEngine),n.onUnlisten=Sv.bind(null,e.syncEngine),n)]}}))}))}function yy(t,e,n){var r=this;void 0===n&&(n={});var i=new df;return t.asyncQueue.enqueueAndForget((function(){return mu(r,void 0,void 0,(function(){var r;return bu(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new ry({next:function(o){e.enqueueAndForget((function(){return cv(t,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new Cu(ku.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new Cu(ku.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new dv(Hc(n.path),o,{includeMetadataChanges:!0,so:!0});return uv(t,a)},[4,vy(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}function gy(t,e,n){var r=this;void 0===n&&(n={});var i=new df;return t.asyncQueue.enqueueAndForget((function(){return mu(r,void 0,void 0,(function(){var r;return bu(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new ry({next:function(n){e.enqueueAndForget((function(){return cv(t,a)})),n.fromCache&&"server"===r.source?i.reject(new Cu(ku.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new dv(n,o,{includeMetadataChanges:!0,so:!0});return uv(t,a)},[4,vy(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}}))}))})),i.promise}var my=function(t,e,n,r,i,o,a,s){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=s},by=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),_y=new Map,wy=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},ky=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable((function(){return e(ip.UNAUTHENTICATED)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Cy=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable((function(){return e(n.token.user)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Sy=function(){function t(t){var e=this;this.currentUser=ip.UNAUTHENTICATED,this.oc=new df,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable((function(){return e.changeListener(e.currentUser)}))};var n=function(t){Tu("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit((function(t){return n(t)})),setTimeout((function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):(Tu("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}}),0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.cc!==e?(Tu("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Du("string"==typeof n.accessToken),new wy(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable((function(){return mu(n,void 0,void 0,(function(){return bu(this,(function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}}))}))}))},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Du(null===t||"string"==typeof t),new ip(t)},t}(),Ey=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=ip.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),Ty=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new Ey(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable((function(){return e(ip.FIRST_PARTY)}))},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Iy(t,e,n){if(!n)throw new Cu(ku.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Oy(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Cu(ku.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Ay(t,e,n,r){if(!0===e&&!0===r)throw new Cu(ku.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function xy(t){if(!ic.isDocumentKey(t))throw new Cu(ku.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Dy(t){if(ic.isDocumentKey(t))throw new Cu(ku.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Ny(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":xu()}function Ry(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Cu(ku.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Ny(t);throw new Cu(ku.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Py(t,e){if(e<=0)throw new Cu(ku.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Ly=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Cu(ku.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Cu(ku.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Ay("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),jy=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ly({}),this._settingsFrozen=!1,t instanceof by?(this._databaseId=t,this._credentials=new ky):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Cu(ku.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new by(t.options.projectId)}(t),this._credentials=new Sy(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Cu(ku.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Cu(ku.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ly(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new ky;switch(t.type){case"gapi":var e=t.client;return Du(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Ty(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Cu(ku.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=_y.get(this))&&(Tu("ComponentProvider","Removing Datastore"),_y.delete(this),t.terminate()),Promise.resolve();var t},t}(),My=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Fy(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Vy=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Fy=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Hc(r))||this)._path=r,i.type="collection",i}return gu(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new My(this.firestore,null,new ic(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Vy);function Uy(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(si.h)(t),Iy("collection","path",e),t instanceof jy)return Dy(n=zu.fromString.apply(zu,_u([e],r))),new Fy(t,null,n);if(!(t instanceof My||t instanceof Fy))throw new Cu(ku.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Dy(n=zu.fromString.apply(zu,_u([t.path],r)).child(zu.fromString(e))),new Fy(t.firestore,null,n)}function qy(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(si.h)(t),1===arguments.length&&(e=Pu.u()),Iy("doc","path",e),t instanceof jy)return xy(n=zu.fromString.apply(zu,_u([e],r))),new My(t,null,new ic(n));if(!(t instanceof My||t instanceof Fy))throw new Cu(ku.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return xy(n=t._path.child(zu.fromString.apply(zu,_u([e],r)))),new My(t.firestore,t instanceof Fy?t.converter:null,new ic(n))}function By(t,e){return t=Object(si.h)(t),e=Object(si.h)(e),(t instanceof My||t instanceof Fy)&&(e instanceof My||e instanceof Fy)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Hy(t,e){return t=Object(si.h)(t),e=Object(si.h)(e),t instanceof Vy&&e instanceof Vy&&t.firestore===e.firestore&&Jc(t._query,e._query)&&t.converter===e.converter}var zy=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=[],this.Zi=new Cp(this,"async_queue_retry"),this.Tc=function(){var e=wp();e&&Tu("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=wp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Tc)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ic(),this.Ac(t)},t.prototype.enterRestrictedMode=function(){if(!this._c){this._c=!0;var t=wp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Tc)}},t.prototype.enqueue=function(t){return this.Ic(),this._c?new Promise((function(t){})):this.Ac(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget((function(){return e.wc.push(t),e.Rc()}))},t.prototype.Rc=function(){return mu(this,void 0,void 0,(function(){var t,e=this;return bu(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!bf(t=n.sent()))throw t;return Tu("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return e.Rc()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Ac=function(t){var e=this,n=this.dc.then((function(){return e.gc=!0,t().catch((function(t){throw e.yc=t,e.gc=!1,Iu("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.gc=!1,t}))}));return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ic(),this.Ec.indexOf(t)>-1&&(e=0);var i=ev.createAndSchedule(this,t,e,n,(function(t){return r.bc(t)}));return this.mc.push(i),i},t.prototype.Ic=function(){this.yc&&xu()},t.prototype.verifyOperationInProgress=function(){},t.prototype.vc=function(){return mu(this,void 0,void 0,(function(){var t;return bu(this,(function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Pc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Vc=function(t){var e=this;return this.vc().then((function(){e.mc.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));for(var n=0,r=e.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.vc()}))},t.prototype.Sc=function(t){this.Ec.push(t)},t.prototype.bc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function Gy(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new df,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var Wy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new zy,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return gu(e,t),e.prototype._terminate=function(){return this._firestoreClient||Qy(this),this._firestoreClient.terminate()},e}(jy);function Ky(t){return t._firestoreClient||Qy(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Qy(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new my(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new ay(t._credentials,t._queue,r)}function Yy(t,e,n){var r=this,i=new df;return t.asyncQueue.enqueue((function(){return mu(r,void 0,void 0,(function(){var r;return bu(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,sy(t,n)];case 1:return o.sent(),[4,uy(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===ku.FAILED_PRECONDITION||t.code===ku.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function Zy(t){if(t._initialized||t._terminated)throw new Cu(ku.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Xy=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Cu(ku.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wu(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),Jy=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(Qu.fromBase64String(e))}catch(e){throw new Cu(ku.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Qu.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),$y=function(t){this._methodName=t},tg=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Cu(ku.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Cu(ku.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return Lu(this._lat,t._lat)||Lu(this._long,t._long)},t}(),eg=/^__.*__$/,ng=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new xl(t,this.data,this.fieldMask,e,this.fieldTransforms):new Al(t,this.data,e,this.fieldTransforms)},t}(),rg=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new xl(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function ig(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xu()}}var og=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Dc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Cc",{get:function(){return this.settings.Cc},enumerable:!1,configurable:!0}),t.prototype.Nc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.xc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Nc({path:n,Fc:!1});return r.kc(t),r},t.prototype.$c=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Nc({path:n,Fc:!1});return r.Dc(),r},t.prototype.Oc=function(t){return this.Nc({path:void 0,Fc:!0})},t.prototype.Mc=function(t){return Eg(t,this.settings.methodName,this.settings.Lc||!1,this.path,this.settings.Bc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))},t.prototype.Dc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.kc(this.path.get(t))},t.prototype.kc=function(t){if(0===t.length)throw this.Mc("Document fields must not be empty");if(ig(this.Cc)&&eg.test(t))throw this.Mc('Document fields cannot begin and end with "__"')},t}(),ag=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||kp(t)}return t.prototype.qc=function(t,e,n,r){return void 0===r&&(r=!1),new og({Cc:t,methodName:e,Bc:n,path:Wu.emptyPath(),Fc:!1,Lc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function sg(t){var e=t._freezeSettings(),n=kp(t._databaseId);return new ag(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ug(t,e,n,r,i,o){void 0===o&&(o={});var a=t.qc(o.merge||o.mergeFields?2:0,e,n,i);wg("Data must be an object, but it was:",a,r);var s,u,c=bg(r,a);if(o.merge)s=new Ku(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=kg(e,f[h],n);if(!a.contains(d))throw new Cu(ku.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Tg(l,d)||l.push(d)}s=new Ku(l),u=a.fieldTransforms.filter((function(t){return s.covers(t.field)}))}else s=null,u=a.fieldTransforms;return new ng(new mc(c),s,u)}var cg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return gu(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Cc)throw t.Mc(1===t.Cc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}($y);function lg(t,e,n){return new og({Cc:3,Bc:e.settings.Bc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var hg=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return gu(e,t),e.prototype._toFieldTransform=function(t){return new bl(t.path,new hl)},e.prototype.isEqual=function(t){return t instanceof e},e}($y),fg=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return gu(e,t),e.prototype._toFieldTransform=function(t){var e=lg(this,t,!0),n=this.Uc.map((function(t){return mg(t,e)})),r=new fl(n);return new bl(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}($y),dg=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return gu(e,t),e.prototype._toFieldTransform=function(t){var e=lg(this,t,!0),n=this.Uc.map((function(t){return mg(t,e)})),r=new pl(n);return new bl(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}($y),pg=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Qc=n,r}return gu(e,t),e.prototype._toFieldTransform=function(t){var e=new yl(t.R,al(t.R,this.Qc));return new bl(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}($y);function vg(t,e,n,r){var i=t.qc(1,e,n);wg("Data must be an object, but it was:",i,r);var o=[],a=mc.empty();qu(r,(function(t,r){var s=Sg(e,t,n);r=Object(si.h)(r);var u=i.$c(s);if(r instanceof cg)o.push(s);else{var c=mg(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new Ku(o);return new rg(a,s,i.fieldTransforms)}function yg(t,e,n,r,i,o){var a=t.qc(1,e,n),s=[kg(e,r,n)],u=[i];if(o.length%2!=0)throw new Cu(ku.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(kg(e,o[c])),u.push(o[c+1]);for(var l=[],h=mc.empty(),f=s.length-1;f>=0;--f)if(!Tg(l,s[f])){var d=s[f],p=u[f];p=Object(si.h)(p);var v=a.$c(d);if(p instanceof cg)l.push(d);else{var y=mg(p,v);null!=y&&(l.push(d),h.set(d,y))}}var g=new Ku(l);return new rg(h,g,a.fieldTransforms)}function gg(t,e,n,r){return void 0===r&&(r=!1),mg(n,t.qc(r?4:3,e))}function mg(t,e){if(_g(t=Object(si.h)(t)))return wg("Unsupported field value:",e,t),bg(t,e);if(t instanceof $y)return function(t,e){if(!ig(e.Cc))throw e.Mc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Mc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.Cc)throw e.Mc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=mg(o[i],e.Oc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(si.h)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return al(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Vu.fromDate(t);return{timestampValue:ph(e.R,n)}}if(t instanceof Vu)return n=new Vu(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:ph(e.R,n)};if(t instanceof tg)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Jy)return{bytesValue:vh(e.R,t._byteString)};if(t instanceof My){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.Mc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:mh(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Mc("Unsupported field value: "+Ny(t))}(t,e)}function bg(t,e){var n={};return Bu(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qu(t,(function(t,r){var i=mg(r,e.xc(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function _g(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Vu||t instanceof tg||t instanceof Jy||t instanceof My||t instanceof $y)}function wg(t,e,n){if(!_g(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Ny(n);throw e.Mc("an object"===r?t+" a custom object":t+" "+r)}}function kg(t,e,n){if((e=Object(si.h)(e))instanceof Xy)return e._internalPath;if("string"==typeof e)return Sg(t,e);throw Eg("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Cg=new RegExp("[~\\*/\\[\\]]");function Sg(t,e,n){if(e.search(Cg)>=0)throw Eg("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Xy.bind.apply(Xy,_u([void 0],e.split(".")))))._internalPath}catch(r){throw Eg("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Eg(t,e,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new Cu(ku.INVALID_ARGUMENT,(s+=". ")+t+u)}function Tg(t,e){return t.some((function(t){return t.isEqual(e)}))}var Ig=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new My(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Og(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(Ag("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Og=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return gu(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Ig);function Ag(t,e){return"string"==typeof e?Sg(t,e):e instanceof Xy?e._internalPath:e._delegate._internalPath}var xg=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Dg=function(t){function e(e,n,r,i,o,a){var s=this;return(s=t.call(this,e,n,r,i,a)||this)._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return gu(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new Ng(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(Ag("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Ig),Ng=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return gu(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Dg),Rg=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new xg(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach((function(r){t.call(e,new Ng(n._firestore,n._userDataWriter,r.key,r,new xg(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Cu(ku.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map((function(e){return{type:"added",doc:new Ng(t._firestore,t._userDataWriter,e.doc.key,e.doc,new xg(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}}))}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new Ng(t._firestore,t._userDataWriter,e.doc.key,e.doc,new xg(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Pg(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function Pg(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xu()}}function Lg(t,e){return t instanceof Dg&&e instanceof Dg?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Rg&&e instanceof Rg&&t._firestore===e._firestore&&Hy(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function jg(t){if(Gc(t)&&0===t.explicitOrderBy.length)throw new Cu(ku.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Mg=function(){};function Vg(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var Fg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Kc=e,i.jc=n,i.Wc=r,i.type="where",i}return gu(e,t),e.prototype._apply=function(t){var e=sg(t.firestore),n=function(t,e,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Cu(ku.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Wg(a,o);for(var u=[],c=0,l=a;c<l.length;c++)u.push(Gg(r,t,l[c]));s={arrayValue:{values:u}}}else s=Gg(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Wg(a,o),s=gg(n,"where",a,"in"===o||"not-in"===o);var h=Tc.create(i,o,s);return function(t,e){if(e.g()){var n=Kc(t);if(null!==n&&!n.isEqual(e.field))throw new Cu(ku.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Wc(t);null!==r&&Kg(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Cu(ku.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.Kc,this.jc,this.Wc);return new Vy(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new qc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(Mg),Ug=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kc=e,r.Gc=n,r.type="orderBy",r}return gu(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Cu(ku.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Cu(ku.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Mc(e,n);return function(t,e){if(null===Wc(t)){var n=Kc(t);null!==n&&Kg(0,n,e.field)}}(t,r),r}(t._query,this.Kc,this.Gc);return new Vy(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new qc(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(Mg),qg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.zc=n,i.Hc=r,i}return gu(e,t),e.prototype._apply=function(t){return new Vy(t.firestore,t.converter,Xc(t._query,this.zc,this.Hc))},e}(Mg),Bg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Jc=n,i.Yc=r,i}return gu(e,t),e.prototype._apply=function(t){var e=zg(t,this.type,this.Jc,this.Yc);return new Vy(t.firestore,t.converter,function(t,e){return new qc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(Mg),Hg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Jc=n,i.Yc=r,i}return gu(e,t),e.prototype._apply=function(t){var e=zg(t,this.type,this.Jc,this.Yc);return new Vy(t.firestore,t.converter,function(t,e){return new qc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(Mg);function zg(t,e,n,r){if(n[0]=Object(si.h)(n[0]),n[0]instanceof Ig)return function(t,e,n,r,i){if(!r)throw new Cu(ku.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=Yc(t);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(hc(e,r.key));else{var c=r.data.field(u.field);if($u(c))throw new Cu(ku.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Cu(ku.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Lc(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=sg(t.firestore);return function(t,e,n,r,i,o){var a=t.explicitOrderBy;if(i.length>a.length)throw new Cu(ku.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new Cu(ku.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Qc(t)&&-1!==c.indexOf("/"))throw new Cu(ku.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(zu.fromString(c));if(!ic.isDocumentKey(l))throw new Cu(ku.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new ic(l);s.push(hc(e,h))}else{var f=gg(n,r,c);s.push(f)}}return new Lc(s,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function Gg(t,e,n){if("string"==typeof(n=Object(si.h)(n))){if(""===n)throw new Cu(ku.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Qc(e)&&-1!==n.indexOf("/"))throw new Cu(ku.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(zu.fromString(n));if(!ic.isDocumentKey(r))throw new Cu(ku.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return hc(t,new ic(r))}if(n instanceof My)return hc(t,n._key);throw new Cu(ku.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Ny(n)+".")}function Wg(t,e){if(!Array.isArray(t)||0===t.length)throw new Cu(ku.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Cu(ku.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Kg(t,e,n){if(!n.isEqual(e))throw new Cu(ku.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var Qg=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),oc(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Xu(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Ju(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw xu()}},t.prototype.convertObject=function(t,e){var n=this,r={};return qu(t.fields,(function(t,i){r[t]=n.convertValue(i,e)})),r},t.prototype.convertGeoPoint=function(t){return new tg(Xu(t.latitude),Xu(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.convertValue(t,e)}))},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return $u(n)?t(n):n}(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(tc(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=Zu(t);return new Vu(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=zu.fromString(t);Du(Bh(n));var r=new by(n.get(1),n.get(3)),i=new ic(n.popFirst(5));return r.isEqual(e)||Iu("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function Yg(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Zg=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return gu(e,t),e.prototype.convertBytes=function(t){return new Jy(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new My(this.firestore,null,e)},e}(Qg),Xg=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=sg(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=Jg(t,this._firestore),i=Yg(r.converter,e,n),o=ug(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,wl.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=Jg(t,this._firestore);return o="string"==typeof(e=Object(si.h)(e))||e instanceof Xy?yg(this._dataReader,"WriteBatch.update",a._key,e,n,r):vg(this._dataReader,"WriteBatch.update",a._key,e),this._mutations.push(o.toMutation(a._key,wl.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=Jg(t,this._firestore);return this._mutations=this._mutations.concat(new jl(e._key,wl.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Cu(ku.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Jg(t,e){if((t=Object(si.h)(t)).firestore!==e)throw new Cu(ku.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var $g=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return gu(e,t),e.prototype.convertBytes=function(t){return new Jy(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new My(this.firestore,null,e)},e}(Qg);function tm(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Ry(t,My);var o=Ry(t.firestore,Wy),a=sg(o);return nm(o,[("string"==typeof(e=Object(si.h)(e))||e instanceof Xy?yg(a,"updateDoc",t._key,e,n,r):vg(a,"updateDoc",t._key,e)).toMutation(t._key,wl.exists(!0))])}function em(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=Object(si.h)(t);var a={includeMetadataChanges:!1},s=0;"object"!=typeof i[s]||Gy(i[s])||(a=i[s],s++);var u,c,l,h={includeMetadataChanges:a.includeMetadataChanges};if(Gy(i[s])){var f=i[s];i[s]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[s+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[s+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof My)c=Ry(t.firestore,Wy),l=Hc(t._key.path),u={next:function(e){i[s]&&i[s](rm(c,t,e))},error:i[s+1],complete:i[s+2]};else{var d=Ry(t,Vy);c=Ry(d.firestore,Wy),l=d._query;var p=new $g(c);u={next:function(t){i[s]&&i[s](new Rg(c,p,d,t))},error:i[s+1],complete:i[s+2]},jg(t._query)}return function(t,e,n,r){var i=this,o=new ry(r),a=new dv(e,o,n);return t.asyncQueue.enqueueAndForget((function(){return mu(i,void 0,void 0,(function(){var e;return bu(this,(function(n){switch(n.label){case 0:return e=uv,[4,vy(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))})),function(){o.Wo(),t.asyncQueue.enqueueAndForget((function(){return mu(i,void 0,void 0,(function(){var e;return bu(this,(function(n){switch(n.label){case 0:return e=cv,[4,vy(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))}))}}(Ky(c),l,h,u)}function nm(t,e){return function(t,e){var n=this,r=new df;return t.asyncQueue.enqueueAndForget((function(){return mu(n,void 0,void 0,(function(){var n;return bu(this,(function(i){switch(i.label){case 0:return n=Ev,[4,py(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(Ky(t),e)}function rm(t,e,n){var r=n.docs.get(e._key),i=new $g(t);return new Dg(t,i,e._key,r,new xg(n.hasPendingWrites,n.fromCache),e.converter)}var im=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return gu(e,t),e.prototype.get=function(e){var n=this,r=Jg(e,this._firestore),i=new $g(this._firestore);return t.prototype.get.call(this,e).then((function(t){return new Dg(n._firestore,i,r._key,t._document,new xg(!1,!1),r.converter)}))},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=sg(t)}return t.prototype.get=function(t){var e=this,n=Jg(t,this._firestore),r=new Zg(this._firestore);return this._transaction.lookup([n._key]).then((function(t){if(!t||1!==t.length)return xu();var i=t[0];if(i.isFoundDocument())return new Ig(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Ig(e._firestore,r,n._key,null,n.converter);throw xu()}))},t.prototype.set=function(t,e,n){var r=Jg(t,this._firestore),i=Yg(r.converter,e,n),o=ug(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=Jg(t,this._firestore);return o="string"==typeof(e=Object(si.h)(e))||e instanceof Xy?yg(this._dataReader,"Transaction.update",a._key,e,n,r):vg(this._dataReader,"Transaction.update",a._key,e),this._transaction.update(a._key,o),this},t.prototype.delete=function(t){var e=Jg(t,this._firestore);return this._transaction.delete(e._key),this},t}());function om(){if("undefined"==typeof Uint8Array)throw new Cu(ku.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function am(){if("undefined"==typeof atob)throw new Cu(ku.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var sm=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return am(),new t(Jy.fromBase64String(e))},t.fromUint8Array=function(e){return om(),new t(Jy.fromUint8Array(e))},t.prototype.toBase64=function(){return am(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return om(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),um=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Zy(t=Ry(t,Wy));var n=Ky(t),r=t._freezeSettings(),i=new ny;return Yy(n,i,new ty(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Zy(t=Ry(t,Wy));var e=Ky(t),n=t._freezeSettings(),r=new ny;return Yy(e,r,new ey(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Cu(ku.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new df;return t._queue.enqueueAndForgetEvenWhileRestricted((function(){return mu(e,void 0,void 0,(function(){var e;return bu(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return mu(this,void 0,void 0,(function(){return bu(this,(function(e){switch(e.label){case 0:return yf.yt()?[4,yf.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(Id(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._delegate)},t}(),cm=function(){function t(t,e,n){var r=this;this._delegate=e,this.Xc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof by||(this.Zc=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||Ou("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=Ry(t,jy))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&Ou("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){var o=Object(si.d)(r.mockUserToken),a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new Cu(ku.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new Cy(new wy(o,new ip(a)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return mu(e,void 0,void 0,(function(){var e,n;return bu(this,(function(r){switch(r.label){case 0:return[4,hy(t)];case 1:return e=r.sent(),[4,dy(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=Nu(t);return e.Or.delete(0),xp(e)}(n))]}}))}))}))}(Ky(Ry(this._delegate,Wy)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return mu(e,void 0,void 0,(function(){var e,n;return bu(this,(function(r){switch(r.label){case 0:return[4,hy(t)];case 1:return e=r.sent(),[4,dy(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return mu(this,void 0,void 0,(function(){var e;return bu(this,(function(n){switch(n.label){case 0:return(e=Nu(t)).Or.add(0),[4,Dp(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Ky(Ry(this._delegate,Wy)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Ay("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Xc.enableMultiTabIndexedDbPersistence(this):this.Xc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Xc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Zc&&(this.Zc._removeServiceInstance("firestore"),this.Zc._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new df;return t.asyncQueue.enqueueAndForget((function(){return mu(e,void 0,void 0,(function(){var e;return bu(this,(function(r){switch(r.label){case 0:return e=Dv,[4,py(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Ky(Ry(this._delegate,Wy)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new ry(e);return t.asyncQueue.enqueueAndForget((function(){return mu(n,void 0,void 0,(function(){var e;return bu(this,(function(n){switch(n.label){case 0:return e=function(t,e){Nu(t).Gr.add(e),e.next()},[4,vy(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),t.asyncQueue.enqueueAndForget((function(){return mu(n,void 0,void 0,(function(){var e;return bu(this,(function(n){switch(n.label){case 0:return e=function(t,e){Nu(t).Gr.delete(e)},[4,vy(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(Ky(t=Ry(t,Wy)),Gy(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Zc)throw new Cu(ku.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Zc},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Cm(this,Uy(this._delegate,t))}catch(t){throw vm(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new pm(this,qy(this._delegate,t))}catch(t){throw vm(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new _m(this,function(t,e){if(t=Ry(t,jy),Iy("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Cu(ku.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Vy(t,null,function(t){return new qc(zu.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw vm(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new df;return t.asyncQueue.enqueueAndForget((function(){return mu(n,void 0,void 0,(function(){var n;return bu(this,(function(i){switch(i.label){case 0:return[4,function(t){return ly(t).then((function(t){return t.datastore}))}(t)];case 1:return n=i.sent(),new oy(t.asyncQueue,n,e,r).run(),[2]}}))}))})),r.promise}(Ky(t),(function(n){return e(new im(t,n))}))}(this._delegate,(function(n){return t(new hm(e,n))}))},t.prototype.batch=function(){var t=this;return Ky(this._delegate),new fm(new Xg(this._delegate,(function(e){return nm(t._delegate,e)})))},t.prototype.loadBundle=function(t){throw new Cu(ku.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new Cu(ku.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),lm=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return gu(e,t),e.prototype.convertBytes=function(t){return new sm(new Jy(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return pm.tu(e,this.firestore,null)},e}(Qg),hm=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new lm(t)}return t.prototype.get=function(t){var e=this,n=Sm(t);return this._delegate.get(n).then((function(t){return new mm(e._firestore,new Dg(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))}))},t.prototype.set=function(t,e,n){var r=Sm(t);return n?(Oy("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Sm(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,_u([a,e,n],i)),this},t.prototype.delete=function(t){var e=Sm(t);return this._delegate.delete(e),this},t}(),fm=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=Sm(t);return n?(Oy("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var a=Sm(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,_u([a,e,n],i)),this},t.prototype.delete=function(t){var e=Sm(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),dm=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new Ng(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new bm(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.eu=function(e,n){var r=t.nu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new lm(e),n),i.set(n,o)),o},t}();dm.nu=new WeakMap;var pm=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new lm(t)}return t.su=function(e,n,r){if(e.length%2!=0)throw new Cu(ku.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new My(n._delegate,r,new ic(e)))},t.tu=function(e,n,r){return new t(n,new My(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Cm(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Cm(this.firestore,Uy(this._delegate,t))}catch(t){throw vm(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(si.h)(t))instanceof My&&By(this._delegate,t)},t.prototype.set=function(t,e){e=Oy("DocumentReference.set",e);try{return function(t,e,n){t=Ry(t,My);var r=Ry(t.firestore,Wy),i=Yg(t.converter,e,n);return nm(r,[ug(sg(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,wl.none())])}(this._delegate,t,e)}catch(t){throw vm(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?tm(this._delegate,t):tm.apply(void 0,_u([this._delegate,t,e],n))}catch(t){throw vm(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return nm(Ry((t=this._delegate).firestore,Wy),[new jl(t._key,wl.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=ym(e),i=gm(e,(function(e){return new mm(t.firestore,new Dg(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}));return em(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Ry(t,My);var e=Ry(t.firestore,Wy),n=Ky(e),r=new $g(e);return function(t,e){var n=this,r=new df;return t.asyncQueue.enqueueAndForget((function(){return mu(n,void 0,void 0,(function(){var n;return bu(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return mu(this,void 0,void 0,(function(){var r,i;return bu(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Nu(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Mn.mn(t,e)}))}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Cu(ku.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=nv(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,fy(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._key).then((function(n){return new Dg(e,r,t._key,n,new xg(null!==n&&n.hasLocalMutations,!0),t.converter)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Ry(t,My);var e=Ry(t.firestore,Wy);return yy(Ky(e),t._key,{source:"server"}).then((function(n){return rm(e,t,n)}))}(this._delegate):function(t){t=Ry(t,My);var e=Ry(t.firestore,Wy);return yy(Ky(e),t._key).then((function(n){return rm(e,t,n)}))}(this._delegate)).then((function(t){return new mm(e.firestore,new Dg(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}))},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?dm.eu(this.firestore,e):null))},t}();function vm(t,e,n){return t.message=t.message.replace(e,n),t}function ym(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Gy(r))return r}return{}}function gm(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Gy(t[0])?t[0]:Gy(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var mm=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new pm(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return Lg(this._delegate,t._delegate)},t}(),bm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return gu(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(mm),_m=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new lm(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,Vg(this._delegate,function(t,e,n){var r=e,i=Ag("where",t);return new Fg(i,r,n)}(e,n,r)))}catch(e){throw vm(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Vg(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=Ag("orderBy",t);return new Ug(r,n)}(e,n)))}catch(e){throw vm(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Vg(this._delegate,function(t){return Py("limit",t),new qg("limit",t,"F")}(e)))}catch(e){throw vm(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Vg(this._delegate,function(t){return Py("limitToLast",t),new qg("limitToLast",t,"L")}(e)))}catch(e){throw vm(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Vg(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Bg("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw vm(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Vg(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Bg("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw vm(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Vg(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Hg("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw vm(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Vg(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Hg("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw vm(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return Hy(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Ry(t,Vy);var e=Ry(t.firestore,Wy),n=Ky(e),r=new $g(e);return function(t,e){var n=this,r=new df;return t.asyncQueue.enqueueAndForget((function(){return mu(n,void 0,void 0,(function(){var n;return bu(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return mu(this,void 0,void 0,(function(){var r,i,o,a,s;return bu(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Bd(t,e,!0)];case 1:return s=u.sent(),r=new mv(e,s.Bn),i=r._o(s.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return a=u.sent(),s=nv(a,"Failed to execute query '"+e+" against cache"),n.reject(s),[3,3];case 3:return[2]}}))}))},[4,fy(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t._query).then((function(n){return new Rg(e,r,t,n)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Ry(t,Vy);var e=Ry(t.firestore,Wy),n=Ky(e),r=new $g(e);return gy(n,t._query,{source:"server"}).then((function(n){return new Rg(e,r,t,n)}))}(this._delegate):function(t){t=Ry(t,Vy);var e=Ry(t.firestore,Wy),n=Ky(e),r=new $g(e);return jg(t._query),gy(n,t._query).then((function(n){return new Rg(e,r,t,n)}))}(this._delegate)).then((function(t){return new km(e.firestore,new Rg(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}))},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=ym(e),i=gm(e,(function(e){return new km(t.firestore,new Rg(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}));return em(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?dm.eu(this.firestore,e):null))},t}(),wm=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new bm(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),km=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new _m(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map((function(e){return new bm(t._firestore,e)}))},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map((function(t){return new wm(e._firestore,t)}))},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach((function(r){t.call(e,new bm(n._firestore,r))}))},t.prototype.isEqual=function(t){return Lg(this._delegate,t._delegate)},t}(),Cm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return gu(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new pm(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new pm(this.firestore,void 0===t?qy(this._delegate):qy(this._delegate,t))}catch(t){throw vm(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Ry(t.firestore,Wy),r=qy(t),i=Yg(t.converter,e);return nm(n,[ug(sg(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,wl.exists(!1))]).then((function(){return r}))}(this._delegate,t).then((function(t){return new pm(e.firestore,t)}))},e.prototype.isEqual=function(t){return By(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?dm.eu(this.firestore,t):null))},e}(_m);function Sm(t){return Ry(t,My)}var Em,Tm=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(Xy.bind.apply(Xy,_u([void 0],t)))}return t.documentId=function(){return new t(Wu.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(si.h)(t))instanceof Xy&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),Im=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new hg("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new cg("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new fg("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new dg("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new pg("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),Om=n("/6Yf"),Am={Firestore:cm,GeoPoint:tg,Timestamp:Vu,Blob:sm,Transaction:hm,WriteBatch:fm,DocumentReference:pm,DocumentSnapshot:mm,Query:_m,QueryDocumentSnapshot:bm,QuerySnapshot:km,CollectionReference:Cm,FieldPath:Tm,FieldValue:Im,setLogLevel:function(t){Su.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Om.a("firestore",(function(t){return function(t,e){return new cm(t,new Wy(t,e),new um)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Am)))})(Em=ai.a),Em.registerVersion("@firebase/firestore","2.3.7");var xm=n("XNiG"),Dm=n("VRyK"),Nm=n("l7GE"),Rm=n("51Dv"),Pm=n("ZUHj");function Lm(t,e){return"function"==typeof e?function(n){return n.pipe(Lm((function(n,r){return Object(Vt.a)(t(n,r)).pipe(Object(jt.a)((function(t,i){return e(n,t,r,i)})))})))}:function(e){return e.lift(new jm(t))}}var jm=function(){function t(e){_classCallCheck(this,t),this.project=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Mm(t,this.project))}}]),t}(),Mm=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).project=r,i.index=0,i}return _createClass(n,[{key:"_next",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}},{key:"_innerSub",value:function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new Rm.a(this,e,n),o=this.destination;o.add(i),this.innerSubscription=Object(Pm.a)(this,t,void 0,void 0,i),this.innerSubscription!==i&&o.add(this.innerSubscription)}},{key:"_complete",value:function(){var t=this.innerSubscription;t&&!t.closed||_get(_getPrototypeOf(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=null}},{key:"notifyComplete",value:function(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(t,e,n,r,i){this.destination.next(e)}}]),n}(Nm.a);n("qgXg");var Vm=n("quSY"),Fm=n("9ppp");n("Ylt2");var Um=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),qm=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),Bm=n("EY2u");function Hm(t){return function(e){return 0===t?Object(Bm.b)():e.lift(new zm(t))}}var zm=function(){function t(e){if(_classCallCheck(this,t),this.total=e,this.total<0)throw new qm}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Gm(t,this.total))}}]),t}(),Gm=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).total=r,i.count=0,i}return _createClass(n,[{key:"_next",value:function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}]),n}(Jn.a);function Wm(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(e){return e.lift(new Km(t))}}var Km=function(){function t(e){_classCallCheck(this,t),this.defaultValue=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Qm(t,this.defaultValue))}}]),t}(),Qm=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).defaultValue=r,i.isEmpty=!0,i}return _createClass(n,[{key:"_next",value:function(t){this.isEmpty=!1,this.destination.next(t)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(Jn.a);function Ym(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jm;return function(e){return e.lift(new Zm(t))}}var Zm=function(){function t(e){_classCallCheck(this,t),this.errorFactory=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Xm(t,this.errorFactory))}}]),t}(),Xm=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).errorFactory=r,i.hasValue=!1,i}return _createClass(n,[{key:"_next",value:function(t){this.hasValue=!0,this.destination.next(t)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var t;try{t=this.errorFactory()}catch(Em){t=Em}this.destination.error(t)}}]),n}(Jn.a);function Jm(){return new Um}var $m=n("SpAZ");function tb(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?$n((function(e,n){return t(e,n,r)})):$m.a,Hm(1),n?Wm(e):Ym((function(){return new Um})))}}n("tf+s");var eb=new r.q("angularfire2.auth.use-emulator");function nb(t,e){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:zr.a;return new Pt.a((function(n){var r;return null!=e?e.schedule((function(){r=t.onSnapshot({includeMetadataChanges:!0},n)})):r=t.onSnapshot({includeMetadataChanges:!0},n),function(){null!=r&&r()}}))}(t,e)}function rb(t,e){return nb(t,e).pipe(Object(jt.a)((function(t){return{payload:t,type:"query"}})))}function ib(t,e){return rb(t,e).pipe(Yr(void 0),Zr(),Object(jt.a)((function(t){var e=_slicedToArray(t,2),n=e[0],r=e[1],i=r.payload.docChanges(),o=i.map((function(t){return{type:t.type,payload:t}}));return n&&JSON.stringify(n.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((function(t,e){var r=i.find((function(e){return e.doc.ref.isEqual(t.ref)})),a=null==n?void 0:n.payload.docs.find((function(e){return e.ref.isEqual(t.ref)}));r&&JSON.stringify(r.doc.metadata)===JSON.stringify(t.metadata)||!r&&a&&JSON.stringify(a.metadata)===JSON.stringify(t.metadata)||o.push({type:"modified",payload:{oldIndex:e,newIndex:e,type:"modified",doc:t}})})),o})))}function ob(t,e,n){return ib(t,n).pipe($r((function(t,n){return function(t,e,n){return e.forEach((function(e){n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return ab(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){var n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return ab(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return ab(t,e.oldIndex,1)}return t}(t,e))})),t}(t,n.map((function(t){return t.payload})),e)}),[]),(function(t){return t.lift(new ni(void 0,void 0))}),Object(jt.a)((function(t){return t.map((function(t){return{type:t.type,payload:t}}))})))}function ab(t,e,n){for(var r=t.slice(),i=arguments.length,o=new Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];return r.splice.apply(r,[e,n].concat(o)),r}function sb(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}var ub=function(){function t(e,n,r){_classCallCheck(this,t),this.ref=e,this.query=n,this.afs=r}return _createClass(t,[{key:"stateChanges",value:function(t){var e=ib(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(jt.a)((function(e){return e.filter((function(e){return t.indexOf(e.type)>-1}))})))),e.pipe(Yr(void 0),Zr(),$n((function(t){var e=_slicedToArray(t,2),n=e[0];return e[1].length>0||!n})),Object(jt.a)((function(t){var e=_slicedToArray(t,2);e[0];return e[1]})),this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe($r((function(t,e){return[].concat(_toConsumableArray(t),_toConsumableArray(e))}),[]))}},{key:"snapshotChanges",value:function(t){var e=sb(t);return ob(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return rb(this.query,this.afs.schedulers.outsideAngular).pipe(Object(jt.a)((function(e){return e.payload.docs.map((function(e){return t.idField?Object.assign(Object.assign({},e.data()),_defineProperty({},t.idField,e.id)):e.data()}))})),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return Object(Vt.a)(this.query.get(t)).pipe(Object(ii.b)(this.afs.schedulers.insideAngular))}},{key:"add",value:function(t){return this.ref.add(t)}},{key:"doc",value:function(t){return new cb(this.ref.doc(t),this.afs)}}]),t}(),cb=function(){function t(e,n){_classCallCheck(this,t),this.ref=e,this.afs=n}return _createClass(t,[{key:"set",value:function(t,e){return this.ref.set(t,e)}},{key:"update",value:function(t){return this.ref.update(t)}},{key:"delete",value:function(){return this.ref.delete()}},{key:"collection",value:function(t,e){var n=vb(this.ref.collection(t),e),r=n.ref,i=n.query;return new ub(r,i,this.afs)}},{key:"snapshotChanges",value:function(){return nb(this.ref,this.afs.schedulers.outsideAngular).pipe(Yr(void 0),Zr(),Object(jt.a)((function(t){var e=_slicedToArray(t,2),n=e[0],r=e[1];return r.exists?(null==n?void 0:n.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}}))).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.snapshotChanges().pipe(Object(jt.a)((function(e){var n=e.payload;return t.idField?Object.assign(Object.assign({},n.data()),_defineProperty({},t.idField,n.id)):n.data()})))}},{key:"get",value:function(t){return Object(Vt.a)(this.ref.get(t)).pipe(Object(ii.b)(this.afs.schedulers.insideAngular))}}]),t}(),lb=function(){function t(e,n){_classCallCheck(this,t),this.query=e,this.afs=n}return _createClass(t,[{key:"stateChanges",value:function(t){return t&&0!==t.length?ib(this.query,this.afs.schedulers.outsideAngular).pipe(Object(jt.a)((function(e){return e.filter((function(e){return t.indexOf(e.type)>-1}))})),$n((function(t){return t.length>0})),this.afs.keepUnstableUntilFirst):ib(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"auditTrail",value:function(t){return this.stateChanges(t).pipe($r((function(t,e){return[].concat(_toConsumableArray(t),_toConsumableArray(e))}),[]))}},{key:"snapshotChanges",value:function(t){var e=sb(t);return ob(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}},{key:"valueChanges",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return rb(this.query,this.afs.schedulers.outsideAngular).pipe(Object(jt.a)((function(e){return e.payload.docs.map((function(e){return t.idField?Object.assign(_defineProperty({},t.idField,e.id),e.data()):e.data()}))})),this.afs.keepUnstableUntilFirst)}},{key:"get",value:function(t){return Object(Vt.a)(this.query.get(t)).pipe(Object(ii.b)(this.afs.schedulers.insideAngular))}}]),t}(),hb=new r.q("angularfire2.enableFirestorePersistence"),fb=new r.q("angularfire2.firestore.persistenceSettings"),db=new r.q("angularfire2.firestore.settings"),pb=new r.q("angularfire2.firestore.use-emulator");function vb(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t};return{query:e(t),ref:t}}var yb,gb,mb=((gb=function(){function t(e,n,r,i,o,a,s,u,c){_classCallCheck(this,t),this.schedulers=new Hr.d(a),this.keepUnstableUntilFirst=Object(Hr.h)(this.schedulers);var l=Object(Hr.g)(e,a,n);!oi.a.auth&&c&&Object(Hr.j)();var h=u,f=_slicedToArray(Object(Hr.f)(l.name+".firestore","AngularFirestore",l,(function(){var t=a.runOutsideAngular((function(){return l.firestore()}));return i&&t.settings(i),h&&t.useEmulator.apply(t,_toConsumableArray(h)),r&&!function(t){return"server"===t}(o)?[t,a.runOutsideAngular((function(){try{return Object(Vt.a)(t.enablePersistence(s||void 0).then((function(){return!0}),(function(){return!1})))}catch(Em){return"undefined"!=typeof console&&console.warn(Em),Object(Yn.a)(!1)}}))]:[t,Object(Yn.a)(!1)]}),[i,h,r]),2);this.firestore=f[0],this.persistenceEnabled$=f[1]}return _createClass(t,[{key:"collection",value:function(t,e){var n=vb("string"==typeof t?this.firestore.collection(t):t,e),r=n.ref,i=n.query,o=this.schedulers.ngZone.run((function(){return r}));return new ub(o,i,this)}},{key:"collectionGroup",value:function(t,e){var n=e||function(t){return t},r=this.firestore.collectionGroup(t);return new lb(n(r),this)}},{key:"doc",value:function(t){var e;e="string"==typeof t?this.firestore.doc(t):t;var n=this.schedulers.ngZone.run((function(){return e}));return new cb(n,this)}},{key:"createId",value:function(){return this.firestore.collection("_").doc().id}}]),t}()).\u0275fac=function(t){return new(t||gb)(r.Sb(Hr.c),r.Sb(Hr.b,8),r.Sb(hb,8),r.Sb(db,8),r.Sb(r.B),r.Sb(r.z),r.Sb(fb,8),r.Sb(pb,8),r.Sb(eb,8))},gb.\u0275prov=r.Hb({factory:function(){return new gb(r.Sb(Hr.c),r.Sb(Hr.b,8),r.Sb(hb,8),r.Sb(db,8),r.Sb(r.B),r.Sb(r.z),r.Sb(fb,8),r.Sb(pb,8),r.Sb(eb,8))},token:gb,providedIn:"any"}),gb),bb=((yb=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"enablePersistence",value:function(e){return{ngModule:t,providers:[{provide:hb,useValue:!0},{provide:fb,useValue:e}]}}}]),t}()).\u0275mod=r.Jb({type:yb}),yb.\u0275inj=r.Ib({factory:function(t){return new(t||yb)},providers:[mb]}),yb);function _b(t){return null!=t&&""+t!="false"}function wb(t){return t instanceof r.l?t.nativeElement:t}var kb=n("n6bG");function Cb(t,e,n,r){return Object(kb.a)(n)&&(r=n,n=void 0),r?Cb(t,e,n).pipe(Object(jt.a)((function(t){return Object(Lt.a)(t)?r.apply(void 0,_toConsumableArray(t)):r(t)}))):new Pt.a((function(r){!function t(e,n,r,i,o){var a;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){var s=e;e.addEventListener(n,r,o),a=function(){return s.removeEventListener(n,r,o)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){var u=e;e.on(n,r),a=function(){return u.off(n,r)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){var c=e;e.addListener(n,r),a=function(){return c.removeListener(n,r)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var l=0,h=e.length;l<h;l++)t(e[l],n,r,i,o)}i.add(a)}(t,e,(function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),r,n)}))}var Sb=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t,r)).scheduler=t,i.work=r,i}return _createClass(n,[{key:"requestAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,t,e,r):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame((function(){return t.flush(null)}))))}},{key:"recycleAsyncId",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==r&&r>0||null===r&&this.delay>0)return _get(_getPrototypeOf(n.prototype),"recycleAsyncId",this).call(this,t,e,r);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}]),n}(n("3N8a").a),Eb=new(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"flush",value:function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}}}]),n}(n("IjjT").a))(Sb);n("7Hc7");var Tb=function(){function t(e){_classCallCheck(this,t),this.durationSelector=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Ib(t,this.durationSelector))}}]),t}(),Ib=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).durationSelector=r,i.hasValue=!1,i}return _createClass(n,[{key:"_next",value:function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e;try{e=(0,this.durationSelector)(t)}catch(r){return this.destination.error(r)}var n=Object(Pm.a)(this,e);!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}},{key:"clearThrottle",value:function(){var t=this.value,e=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))}},{key:"notifyNext",value:function(t,e,n,r){this.clearThrottle()}},{key:"notifyComplete",value:function(){this.clearThrottle()}}]),n}(Nm.a),Ob=n("Y7HM");function Ab(t){var e=t.index,n=t.period,r=t.subscriber;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function xb(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:zr.a;return e=function(){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=-1;return Object(Ob.a)(e)?r=Number(e)<1?1:Number(e):Object(Qr.a)(e)&&(n=e),Object(Qr.a)(n)||(n=zr.a),new Pt.a((function(e){var i=Object(Ob.a)(t)?t:+t-n.now();return n.schedule(Ab,i,{index:0,period:r,subscriber:e})}))}(t,n)},function(t){return t.lift(new Tb(e))}}function Db(t){return function(e){return e.lift(new Rb(t))}}var Nb,Rb=function(){function t(e){_classCallCheck(this,t),this.notifier=e}return _createClass(t,[{key:"call",value:function(t,e){var n=new Pb(t),r=Object(Pm.a)(n,this.notifier);return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}]),t}(),Pb=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this,t)).seenValue=!1,r}return _createClass(n,[{key:"notifyNext",value:function(t,e,n,r,i){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),n}(Nm.a);try{Nb="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(lg){Nb=!1}var Lb,jb,Mb,Vb=((Mb=function t(e){_classCallCheck(this,t),this._platformId=e,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Nb)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}).\u0275fac=function(t){return new(t||Mb)(r.Sb(r.B,8))},Mb.\u0275prov=Object(r.Hb)({factory:function(){return new Mb(Object(r.Sb)(r.B,8))},token:Mb,providedIn:"root"}),Mb);function Fb(t){return function(){if(null==Lb&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){return Lb=!0}}))}finally{Lb=Lb||!1}return Lb}()?t:!!t.capture}var Ub,qb,Bb,Hb,zb=new r.q("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(r.U)(u)}}),Gb=((Hb=function(){function t(e){if(_classCallCheck(this,t),this.value="ltr",this.change=new r.n,e){var n=e.documentElement?e.documentElement.dir:null,i=(e.body?e.body.dir:null)||n;this.value="ltr"===i||"rtl"===i?i:"ltr"}}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.change.complete()}}]),t}()).\u0275fac=function(t){return new(t||Hb)(r.Sb(zb,8))},Hb.\u0275prov=Object(r.Hb)({factory:function(){return new Hb(Object(r.Sb)(zb,8))},token:Hb,providedIn:"root"}),Hb),Wb=((Bb=function(){function t(e,n,r){_classCallCheck(this,t),this._ngZone=e,this._platform=n,this._scrolled=new xm.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}return _createClass(t,[{key:"register",value:function(t){var e=this;this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe((function(){return e._scrolled.next(t)})))}},{key:"deregister",value:function(t){var e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}},{key:"scrolled",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return this._platform.isBrowser?new Pt.a((function(n){t._globalSubscription||t._addGlobalListener();var r=e>0?t._scrolled.pipe(xb(e)).subscribe(n):t._scrolled.subscribe(n);return t._scrolledCount++,function(){r.unsubscribe(),t._scrolledCount--,t._scrolledCount||t._removeGlobalListener()}})):Object(Yn.a)()}},{key:"ngOnDestroy",value:function(){var t=this;this._removeGlobalListener(),this.scrollContainers.forEach((function(e,n){return t.deregister(n)})),this._scrolled.complete()}},{key:"ancestorScrolled",value:function(t,e){var n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe($n((function(t){return!t||n.indexOf(t)>-1})))}},{key:"getAncestorScrollContainers",value:function(t){var e=this,n=[];return this.scrollContainers.forEach((function(r,i){e._scrollableContainsElement(i,t)&&n.push(i)})),n}},{key:"_getDocument",value:function(){return this._document||document}},{key:"_getWindow",value:function(){return this._getDocument().defaultView||window}},{key:"_scrollableContainsElement",value:function(t,e){var n=e.nativeElement,r=t.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}},{key:"_addGlobalListener",value:function(){var t=this;this._globalSubscription=this._ngZone.runOutsideAngular((function(){return Cb(t._getWindow().document,"scroll").subscribe((function(){return t._scrolled.next()}))}))}},{key:"_removeGlobalListener",value:function(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}]),t}()).\u0275fac=function(t){return new(t||Bb)(r.Sb(r.z),r.Sb(Vb),r.Sb(u,8))},Bb.\u0275prov=Object(r.Hb)({factory:function(){return new Bb(Object(r.Sb)(r.z),Object(r.Sb)(Vb),Object(r.Sb)(u,8))},token:Bb,providedIn:"root"}),Bb),Kb=((qb=function(){function t(e,n,r){var i=this;_classCallCheck(this,t),this._platform=e,this._document=r,n.runOutsideAngular((function(){var t=i._getWindow();i._change=e.isBrowser?Object(Dm.a)(Cb(t,"resize"),Cb(t,"orientationchange")):Object(Yn.a)(),i._invalidateCache=i.change().subscribe((function(){return i._updateViewportSize()}))}))}return _createClass(t,[{key:"ngOnDestroy",value:function(){this._invalidateCache.unsubscribe()}},{key:"getViewportSize",value:function(){this._viewportSize||this._updateViewportSize();var t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}},{key:"getViewportRect",value:function(){var t=this.getViewportScrollPosition(),e=this.getViewportSize(),n=e.width,r=e.height;return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+n,height:r,width:n}}},{key:"getViewportScrollPosition",value:function(){if(!this._platform.isBrowser)return{top:0,left:0};var t=this._getDocument(),e=this._getWindow(),n=t.documentElement,r=n.getBoundingClientRect();return{top:-r.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-r.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}},{key:"change",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return t>0?this._change.pipe(xb(t)):this._change}},{key:"_getDocument",value:function(){return this._document||document}},{key:"_getWindow",value:function(){return this._getDocument().defaultView||window}},{key:"_updateViewportSize",value:function(){var t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}]),t}()).\u0275fac=function(t){return new(t||qb)(r.Sb(Vb),r.Sb(r.z),r.Sb(u,8))},qb.\u0275prov=Object(r.Hb)({factory:function(){return new qb(Object(r.Sb)(Vb),Object(r.Sb)(r.z),Object(r.Sb)(u,8))},token:qb,providedIn:"root"}),qb),Qb=((Ub=function t(){_classCallCheck(this,t)}).\u0275mod=r.Jb({type:Ub}),Ub.\u0275inj=r.Ib({factory:function(t){return new(t||Ub)}}),Ub);function Yb(t){var e=t.subscriber,n=t.counter,r=t.period;e.next(n),this.schedule({subscriber:e,counter:n+1,period:r},r)}var Zb=n("vkgz");function Xb(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Jb(t,e){var n=e?"":"none";Xb(t.style,{touchAction:e?"":"none",webkitUserDrag:e?"":"none",webkitTapHighlightColor:e?"":"transparent",userSelect:n,msUserSelect:n,webkitUserSelect:n,MozUserSelect:n})}function $b(t){var e=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*e}function t_(t,e){return t.getPropertyValue(e).split(",").map((function(t){return t.trim()}))}function e_(t){var e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}function n_(t,e,n){var r=t.top,i=t.bottom,o=t.left,a=t.right;return n>=r&&n<=i&&e>=o&&e<=a}function r_(t,e,n){t.top+=e,t.bottom=t.top+t.height,t.left+=n,t.right=t.left+t.width}function i_(t,e,n,r){var i=t.top,o=t.right,a=t.bottom,s=t.left,u=t.width*e,c=t.height*e;return r>i-c&&r<a+c&&n>s-u&&n<o+u}var o_=function(){function t(e,n){_classCallCheck(this,t),this._document=e,this._viewportRuler=n,this.positions=new Map}return _createClass(t,[{key:"clear",value:function(){this.positions.clear()}},{key:"cache",value:function(t){var e=this;this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),t.forEach((function(t){e.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:e_(t)})}))}},{key:"handleScroll",value:function(t){var e=t.target,n=this.positions.get(e);if(!n)return null;var r,i,o=e===this._document?e.documentElement:e,a=n.scrollPosition;if(e===this._document){var s=this._viewportRuler.getViewportScrollPosition();r=s.top,i=s.left}else r=e.scrollTop,i=e.scrollLeft;var u=a.top-r,c=a.left-i;return this.positions.forEach((function(t,n){t.clientRect&&e!==n&&o.contains(n)&&r_(t.clientRect,u,c)})),a.top=r,a.left=i,{top:u,left:c}}}]),t}(),a_=Fb({passive:!0}),s_=Fb({passive:!1}),u_=function(){function t(e,n,r,i,o,a){var s=this;_classCallCheck(this,t),this._config=n,this._document=r,this._ngZone=i,this._viewportRuler=o,this._dragDropRegistry=a,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new xm.a,this._pointerMoveSubscription=Vm.a.EMPTY,this._pointerUpSubscription=Vm.a.EMPTY,this._scrollSubscription=Vm.a.EMPTY,this._resizeSubscription=Vm.a.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new xm.a,this.started=new xm.a,this.released=new xm.a,this.ended=new xm.a,this.entered=new xm.a,this.exited=new xm.a,this.dropped=new xm.a,this.moved=this._moveEvents.asObservable(),this._pointerDown=function(t){if(s.beforeStarted.next(),s._handles.length){var e=s._handles.find((function(e){var n=t.target;return!!n&&(n===e||e.contains(n))}));!e||s._disabledHandles.has(e)||s.disabled||s._initializeDragSequence(e,t)}else s.disabled||s._initializeDragSequence(s._rootElement,t)},this._pointerMove=function(t){t.preventDefault();var e=s._getPointerPositionOnPage(t);if(s._hasStartedDragging){s._boundaryElement&&(s._previewRect&&(s._previewRect.width||s._previewRect.height)||(s._previewRect=(s._preview||s._rootElement).getBoundingClientRect()));var n=s._getConstrainedPointerPosition(e);if(s._hasMoved=!0,s._updatePointerDirectionDelta(n),s._dropContainer)s._updateActiveDropContainer(n);else{var r=s._activeTransform;r.x=n.x-s._pickupPositionOnPage.x+s._passiveTransform.x,r.y=n.y-s._pickupPositionOnPage.y+s._passiveTransform.y,s._applyRootElementTransform(r.x,r.y),"undefined"!=typeof SVGElement&&s._rootElement instanceof SVGElement&&s._rootElement.setAttribute("transform","translate(".concat(r.x," ").concat(r.y,")"))}s._moveEvents.observers.length&&s._ngZone.run((function(){s._moveEvents.next({source:s,pointerPosition:n,event:t,distance:s._getDragDistance(n),delta:s._pointerDirectionDelta})}))}else if(Math.abs(e.x-s._pickupPositionOnPage.x)+Math.abs(e.y-s._pickupPositionOnPage.y)>=s._config.dragStartThreshold){if(!(Date.now()>=s._dragStartTime+s._getDragStartDelay(t)))return void s._endDragSequence(t);s._dropContainer&&s._dropContainer.isDragging()||(s._hasStartedDragging=!0,s._ngZone.run((function(){return s._startDragSequence(t)})))}},this._pointerUp=function(t){s._endDragSequence(t)},this.withRootElement(e),this._parentPositions=new o_(r,o),a.registerDragItem(this)}return _createClass(t,[{key:"disabled",get:function(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)},set:function(t){var e=_b(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions())}},{key:"getPlaceholderElement",value:function(){return this._placeholder}},{key:"getRootElement",value:function(){return this._rootElement}},{key:"getVisibleElement",value:function(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}},{key:"withHandles",value:function(t){return this._handles=t.map((function(t){return wb(t)})),this._handles.forEach((function(t){return Jb(t,!1)})),this._toggleNativeDragInteractions(),this}},{key:"withPreviewTemplate",value:function(t){return this._previewTemplate=t,this}},{key:"withPlaceholderTemplate",value:function(t){return this._placeholderTemplate=t,this}},{key:"withRootElement",value:function(t){var e=this,n=wb(t);return n!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular((function(){n.addEventListener("mousedown",e._pointerDown,s_),n.addEventListener("touchstart",e._pointerDown,a_)})),this._initialTransform=void 0,this._rootElement=n),this}},{key:"withBoundaryElement",value:function(t){var e=this;return this._boundaryElement=t?wb(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe((function(){return e._containInsideBoundaryOnResize()}))),this}},{key:"dispose",value:function(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&f_(this._rootElement),f_(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._placeholderTemplate=this._previewTemplate=this._anchor=null}},{key:"isDragging",value:function(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}},{key:"reset",value:function(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}},{key:"disableHandle",value:function(t){this._handles.indexOf(t)>-1&&this._disabledHandles.add(t)}},{key:"enableHandle",value:function(t){this._disabledHandles.delete(t)}},{key:"withDirection",value:function(t){return this._direction=t,this}},{key:"_withDropContainer",value:function(t){this._dropContainer=t}},{key:"getFreeDragPosition",value:function(){var t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}},{key:"setFreeDragPosition",value:function(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}},{key:"_sortFromLastPointerPosition",value:function(){var t=this._pointerPositionAtLastDirectionChange;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t))}},{key:"_removeSubscriptions",value:function(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}},{key:"_destroyPreview",value:function(){this._preview&&f_(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}},{key:"_destroyPlaceholder",value:function(){this._placeholder&&f_(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}},{key:"_endDragSequence",value:function(t){var e=this;this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging&&(this.released.next({source:this}),this._dropContainer?(this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then((function(){e._cleanupDragArtifacts(t),e._cleanupCachedDimensions(),e._dragDropRegistry.stopDragging(e)}))):(this._passiveTransform.x=this._activeTransform.x,this._passiveTransform.y=this._activeTransform.y,this._ngZone.run((function(){e.ended.next({source:e,distance:e._getDragDistance(e._getPointerPositionOnPage(t))})})),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this))))}},{key:"_startDragSequence",value:function(t){this.started.next({source:this}),d_(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();var e,n=this._dropContainer;if(n){var r=this._rootElement,i=r.parentNode,o=this._preview=this._createPreviewElement(),a=this._placeholder=this._createPlaceholderElement(),s=this._anchor=this._anchor||this._document.createComment("");i.insertBefore(s,r),r.style.display="none",this._document.body.appendChild(i.replaceChild(a,r)),(e=this._document,e.fullscreenElement||e.webkitFullscreenElement||e.mozFullScreenElement||e.msFullscreenElement||e.body).appendChild(o),n.start(),this._initialContainer=n,this._initialIndex=n.getItemIndex(this)}else this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(n?n.getScrollableParents():[])}},{key:"_initializeDragSequence",value:function(t,e){var n=this;e.stopPropagation();var r=this.isDragging(),i=d_(e),o=!i&&0!==e.button,a=this._rootElement,s=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now();if(e.target&&e.target.draggable&&"mousedown"===e.type&&e.preventDefault(),!(r||o||s)){this._handles.length&&(this._rootElementTapHighlight=a.style.webkitTapHighlightColor,a.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scroll.subscribe((function(t){n._updateOnScroll(t)})),this._boundaryElement&&(this._boundaryRect=e_(this._boundaryElement));var u=this._previewTemplate;this._pickupPositionInElement=u&&u.template&&!u.matchSize?{x:0,y:0}:this._getPointerPositionInElement(t,e);var c=this._pickupPositionOnPage=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:c.x,y:c.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}}},{key:"_cleanupDragArtifacts",value:function(t){var e=this;this._rootElement.style.display="",this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=void 0,this._ngZone.run((function(){var n=e._dropContainer,r=n.getItemIndex(e),i=e._getPointerPositionOnPage(t),o=e._getDragDistance(e._getPointerPositionOnPage(t)),a=n._isOverContainer(i.x,i.y);e.ended.next({source:e,distance:o}),e.dropped.next({item:e,currentIndex:r,previousIndex:e._initialIndex,container:n,previousContainer:e._initialContainer,isPointerOverContainer:a,distance:o}),n.drop(e,r,e._initialContainer,a,o,e._initialIndex),e._dropContainer=e._initialContainer}))}},{key:"_updateActiveDropContainer",value:function(t){var e=this,n=t.x,r=t.y,i=this._initialContainer._getSiblingContainerFromPosition(this,n,r);!i&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(n,r)&&(i=this._initialContainer),i&&i!==this._dropContainer&&this._ngZone.run((function(){e.exited.next({item:e,container:e._dropContainer}),e._dropContainer.exit(e),e._dropContainer=i,e._dropContainer.enter(e,n,r,i===e._initialContainer&&i.sortingDisabled?e._initialIndex:void 0),e.entered.next({item:e,container:i,currentIndex:i.getItemIndex(e)})})),this._dropContainer._startScrollingIfNecessary(n,r),this._dropContainer._sortItem(this,n,r,this._pointerDirectionDelta),this._preview.style.transform=c_(n-this._pickupPositionInElement.x,r-this._pickupPositionInElement.y)}},{key:"_createPreviewElement",value:function(){var t,e=this._previewTemplate,n=this.previewClass,r=e?e.template:null;if(r&&e){var i=e.matchSize?this._rootElement.getBoundingClientRect():null,o=e.viewContainer.createEmbeddedView(r,e.context);o.detectChanges(),t=p_(o,this._document),this._previewRef=o,e.matchSize?v_(t,i):t.style.transform=c_(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{var a=this._rootElement;v_(t=l_(a),a.getBoundingClientRect())}return Xb(t.style,{pointerEvents:"none",margin:"0",position:"fixed",top:"0",left:"0",zIndex:""+(this._config.zIndex||1e3)}),Jb(t,!1),t.classList.add("cdk-drag-preview"),t.setAttribute("dir",this._direction),n&&(Array.isArray(n)?n.forEach((function(e){return t.classList.add(e)})):t.classList.add(n)),t}},{key:"_animatePreviewToPlaceholder",value:function(){var t=this;if(!this._hasMoved)return Promise.resolve();var e=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._preview.style.transform=c_(e.left,e.top);var n=function(t){var e=getComputedStyle(t),n=t_(e,"transition-property"),r=n.find((function(t){return"transform"===t||"all"===t}));if(!r)return 0;var i=n.indexOf(r),o=t_(e,"transition-duration"),a=t_(e,"transition-delay");return $b(o[i])+$b(a[i])}(this._preview);return 0===n?Promise.resolve():this._ngZone.runOutsideAngular((function(){return new Promise((function(e){var r=function n(r){(!r||r.target===t._preview&&"transform"===r.propertyName)&&(t._preview.removeEventListener("transitionend",n),e(),clearTimeout(i))},i=setTimeout(r,1.5*n);t._preview.addEventListener("transitionend",r)}))}))}},{key:"_createPlaceholderElement",value:function(){var t,e=this._placeholderTemplate,n=e?e.template:null;return n?(this._placeholderRef=e.viewContainer.createEmbeddedView(n,e.context),this._placeholderRef.detectChanges(),t=p_(this._placeholderRef,this._document)):t=l_(this._rootElement),t.classList.add("cdk-drag-placeholder"),t}},{key:"_getPointerPositionInElement",value:function(t,e){var n=this._rootElement.getBoundingClientRect(),r=t===this._rootElement?null:t,i=r?r.getBoundingClientRect():n,o=d_(e)?e.targetTouches[0]:e,a=this._getViewportScrollPosition();return{x:i.left-n.left+(o.pageX-i.left-a.left),y:i.top-n.top+(o.pageY-i.top-a.top)}}},{key:"_getPointerPositionOnPage",value:function(t){var e=d_(t)?t.touches[0]||t.changedTouches[0]:t,n=this._getViewportScrollPosition();return{x:e.pageX-n.left,y:e.pageY-n.top}}},{key:"_getConstrainedPointerPosition",value:function(t){var e=this.constrainPosition?this.constrainPosition(t,this):t,n=this._dropContainer?this._dropContainer.lockAxis:null;if("x"===this.lockAxis||"x"===n?e.y=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==n||(e.x=this._pickupPositionOnPage.x),this._boundaryRect){var r=this._pickupPositionInElement,i=r.x,o=r.y,a=this._boundaryRect,s=this._previewRect,u=a.top+o,c=a.bottom-(s.height-o);e.x=h_(e.x,a.left+i,a.right-(s.width-i)),e.y=h_(e.y,u,c)}return e}},{key:"_updatePointerDirectionDelta",value:function(t){var e=t.x,n=t.y,r=this._pointerDirectionDelta,i=this._pointerPositionAtLastDirectionChange,o=Math.abs(e-i.x),a=Math.abs(n-i.y);return o>this._config.pointerDirectionChangeThreshold&&(r.x=e>i.x?1:-1,i.x=e),a>this._config.pointerDirectionChangeThreshold&&(r.y=n>i.y?1:-1,i.y=n),r}},{key:"_toggleNativeDragInteractions",value:function(){if(this._rootElement&&this._handles){var t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,Jb(this._rootElement,t))}}},{key:"_removeRootElementListeners",value:function(t){t.removeEventListener("mousedown",this._pointerDown,s_),t.removeEventListener("touchstart",this._pointerDown,a_)}},{key:"_applyRootElementTransform",value:function(t,e){var n=c_(t,e);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._rootElement.style.transform=this._initialTransform?n+" "+this._initialTransform:n}},{key:"_getDragDistance",value:function(t){var e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}},{key:"_cleanupCachedDimensions",value:function(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}},{key:"_containInsideBoundaryOnResize",value:function(){var t=this._passiveTransform,e=t.x,n=t.y;if(!(0===e&&0===n||this.isDragging())&&this._boundaryElement){var r=this._boundaryElement.getBoundingClientRect(),i=this._rootElement.getBoundingClientRect();if(!(0===r.width&&0===r.height||0===i.width&&0===i.height)){var o=r.left-i.left,a=i.right-r.right,s=r.top-i.top,u=i.bottom-r.bottom;r.width>i.width?(o>0&&(e+=o),a>0&&(e-=a)):e=0,r.height>i.height?(s>0&&(n+=s),u>0&&(n-=u)):n=0,e===this._passiveTransform.x&&n===this._passiveTransform.y||this.setFreeDragPosition({y:n,x:e})}}}},{key:"_getDragStartDelay",value:function(t){var e=this.dragStartDelay;return"number"==typeof e?e:d_(t)?e.touch:e?e.mouse:0}},{key:"_updateOnScroll",value:function(t){var e=this._parentPositions.handleScroll(t);this._boundaryRect&&e&&r_(this._boundaryRect,e.top,e.left)}},{key:"_getViewportScrollPosition",value:function(){var t=this._parentPositions.positions.get(this._document);return t?t.scrollPosition:this._viewportRuler.getViewportScrollPosition()}}]),t}();function c_(t,e){return"translate3d(".concat(Math.round(t),"px, ").concat(Math.round(e),"px, 0)")}function l_(t){var e=t.cloneNode(!0),n=e.querySelectorAll("[id]"),r=t.querySelectorAll("canvas");e.removeAttribute("id");for(var i=0;i<n.length;i++)n[i].removeAttribute("id");if(r.length)for(var o=e.querySelectorAll("canvas"),a=0;a<r.length;a++){var s=o[a].getContext("2d");s&&s.drawImage(r[a],0,0)}return e}function h_(t,e,n){return Math.max(e,Math.min(n,t))}function f_(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function d_(t){return"t"===t.type[0]}function p_(t,e){var n=t.rootNodes;if(1===n.length&&n[0].nodeType===e.ELEMENT_NODE)return n[0];var r=e.createElement("div");return n.forEach((function(t){return r.appendChild(t)})),r}function v_(t,e){t.style.width=e.width+"px",t.style.height=e.height+"px",t.style.transform=c_(e.left,e.top)}function y_(t,e,n){var r=g_(e,t.length-1),i=g_(n,t.length-1);if(r!==i){for(var o=t[r],a=i<r?-1:1,s=r;s!==i;s+=a)t[s]=t[s+a];t[i]=o}}function g_(t,e){return Math.max(0,Math.min(e,t))}var m_=function(){function t(e,n,r,i,o){var a=this;_classCallCheck(this,t),this._dragDropRegistry=n,this._ngZone=i,this._viewportRuler=o,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.enterPredicate=function(){return!0},this.beforeStarted=new xm.a,this.entered=new xm.a,this.exited=new xm.a,this.dropped=new xm.a,this.sorted=new xm.a,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0},this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=Vm.a.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new xm.a,this._cachedShadowRoot=null,this._startScrollInterval=function(){a._stopScrolling(),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:zr.a;return(!Object(Ob.a)(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=zr.a),new Pt.a((function(n){return n.add(e.schedule(Yb,t,{subscriber:n,counter:0,period:t})),n}))}(0,Eb).pipe(Db(a._stopScrollTimers)).subscribe((function(){var t=a._scrollNode;1===a._verticalScrollDirection?__(t,-2):2===a._verticalScrollDirection&&__(t,2),1===a._horizontalScrollDirection?w_(t,-2):2===a._horizontalScrollDirection&&w_(t,2)}))},this.element=wb(e),this._document=r,this.withScrollableParents([this.element]),n.registerDropContainer(this),this._parentPositions=new o_(r,o)}return _createClass(t,[{key:"dispose",value:function(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}},{key:"isDragging",value:function(){return this._isDragging}},{key:"start",value:function(){var t=this,e=wb(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._cacheItems(),this._siblings.forEach((function(e){return e._startReceiving(t)})),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}},{key:"enter",value:function(t,e,n,r){var i;this.start(),null==r?-1===(i=this.sortingDisabled?this._draggables.indexOf(t):-1)&&(i=this._getItemIndexFromPointerPosition(t,e,n)):i=r;var o=this._activeDraggables,a=o.indexOf(t),s=t.getPlaceholderElement(),u=o[i];if(u===t&&(u=o[i+1]),a>-1&&o.splice(a,1),u&&!this._dragDropRegistry.isDragging(u)){var c=u.getRootElement();c.parentElement.insertBefore(s,c),o.splice(i,0,t)}else{var l=wb(this.element);this._shouldEnterAsFirstChild(e,n)?(l.insertBefore(s,o[0].getRootElement()),o.unshift(t)):(l.appendChild(s),o.push(t))}s.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}},{key:"exit",value:function(t){this._reset(),this.exited.next({item:t,container:this})}},{key:"drop",value:function(t,e,n,r,i,o){this._reset(),null==o&&(o=n.getItemIndex(t)),this.dropped.next({item:t,currentIndex:e,previousIndex:o,container:this,previousContainer:n,isPointerOverContainer:r,distance:i})}},{key:"withItems",value:function(t){var e=this,n=this._draggables;return this._draggables=t,t.forEach((function(t){return t._withDropContainer(e)})),this.isDragging()&&(n.filter((function(t){return t.isDragging()})).every((function(e){return-1===t.indexOf(e)}))?this._reset():this._cacheItems()),this}},{key:"withDirection",value:function(t){return this._direction=t,this}},{key:"connectedTo",value:function(t){return this._siblings=t.slice(),this}},{key:"withOrientation",value:function(t){return this._orientation=t,this}},{key:"withScrollableParents",value:function(t){var e=wb(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e].concat(_toConsumableArray(t)):t.slice(),this}},{key:"getScrollableParents",value:function(){return this._scrollableElements}},{key:"getItemIndex",value:function(t){return this._isDragging?b_("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,(function(e){return e.drag===t})):this._draggables.indexOf(t)}},{key:"isReceiving",value:function(){return this._activeSiblings.size>0}},{key:"_sortItem",value:function(t,e,n,r){if(!this.sortingDisabled&&i_(this._clientRect,.05,e,n)){var i=this._itemPositions,o=this._getItemIndexFromPointerPosition(t,e,n,r);if(!(-1===o&&i.length>0)){var a="horizontal"===this._orientation,s=b_(i,(function(e){return e.drag===t})),u=i[o],c=i[s].clientRect,l=u.clientRect,h=s>o?1:-1;this._previousSwap.drag=u.drag,this._previousSwap.delta=a?r.x:r.y;var f=this._getItemOffsetPx(c,l,h),d=this._getSiblingOffsetPx(s,i,h),p=i.slice();y_(i,s,o),this.sorted.next({previousIndex:s,currentIndex:o,container:this,item:t}),i.forEach((function(e,n){if(p[n]!==e){var r=e.drag===t,i=r?f:d,o=r?t.getPlaceholderElement():e.drag.getRootElement();e.offset+=i,a?(o.style.transform="translate3d(".concat(Math.round(e.offset),"px, 0, 0)"),r_(e.clientRect,0,i)):(o.style.transform="translate3d(0, ".concat(Math.round(e.offset),"px, 0)"),r_(e.clientRect,i,0))}}))}}}},{key:"_startScrollingIfNecessary",value:function(t,e){var n=this;if(!this.autoScrollDisabled){var r,i=0,o=0;if(this._parentPositions.positions.forEach((function(a,s){var u;s!==n._document&&a.clientRect&&!r&&i_(a.clientRect,.05,t,e)&&(u=_slicedToArray(function(t,e,n,r){var i=k_(e,r),o=C_(e,n),a=0,s=0;if(i){var u=t.scrollTop;1===i?u>0&&(a=1):t.scrollHeight-u>t.clientHeight&&(a=2)}if(o){var c=t.scrollLeft;1===o?c>0&&(s=1):t.scrollWidth-c>t.clientWidth&&(s=2)}return[a,s]}(s,a.clientRect,t,e),2),i=u[0],o=u[1],(i||o)&&(r=s))})),!i&&!o){var a=this._viewportRuler.getViewportSize(),s=a.width,u=a.height,c={width:s,height:u,top:0,right:s,bottom:u,left:0};i=k_(c,e),o=C_(c,t),r=window}!r||i===this._verticalScrollDirection&&o===this._horizontalScrollDirection&&r===this._scrollNode||(this._verticalScrollDirection=i,this._horizontalScrollDirection=o,this._scrollNode=r,(i||o)&&r?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}}},{key:"_stopScrolling",value:function(){this._stopScrollTimers.next()}},{key:"_cacheParentPositions",value:function(){var t=wb(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}},{key:"_cacheItemPositions",value:function(){var t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map((function(t){var e=t.getVisibleElement();return{drag:t,offset:0,clientRect:e_(e)}})).sort((function(e,n){return t?e.clientRect.left-n.clientRect.left:e.clientRect.top-n.clientRect.top}))}},{key:"_reset",value:function(){var t=this;this._isDragging=!1;var e=wb(this.element).style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach((function(t){var e=t.getRootElement();e&&(e.style.transform="")})),this._siblings.forEach((function(e){return e._stopReceiving(t)})),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}},{key:"_getSiblingOffsetPx",value:function(t,e,n){var r="horizontal"===this._orientation,i=e[t].clientRect,o=e[t+-1*n],a=i[r?"width":"height"]*n;if(o){var s=r?"left":"top",u=r?"right":"bottom";-1===n?a-=o.clientRect[s]-i[u]:a+=i[s]-o.clientRect[u]}return a}},{key:"_getItemOffsetPx",value:function(t,e,n){var r="horizontal"===this._orientation,i=r?e.left-t.left:e.top-t.top;return-1===n&&(i+=r?e.width-t.width:e.height-t.height),i}},{key:"_shouldEnterAsFirstChild",value:function(t,e){if(!this._activeDraggables.length)return!1;var n=this._itemPositions,r="horizontal"===this._orientation;if(n[0].drag!==this._activeDraggables[0]){var i=n[n.length-1].clientRect;return r?t>=i.right:e>=i.bottom}var o=n[0].clientRect;return r?t<=o.left:e<=o.top}},{key:"_getItemIndexFromPointerPosition",value:function(t,e,n,r){var i=this,o="horizontal"===this._orientation;return b_(this._itemPositions,(function(a,s,u){var c=a.drag,l=a.clientRect;if(c===t)return u.length<2;if(r){var h=o?r.x:r.y;if(c===i._previousSwap.drag&&h===i._previousSwap.delta)return!1}return o?e>=Math.floor(l.left)&&e<Math.floor(l.right):n>=Math.floor(l.top)&&n<Math.floor(l.bottom)}))}},{key:"_cacheItems",value:function(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}},{key:"_isOverContainer",value:function(t,e){return n_(this._clientRect,t,e)}},{key:"_getSiblingContainerFromPosition",value:function(t,e,n){return this._siblings.find((function(r){return r._canReceive(t,e,n)}))}},{key:"_canReceive",value:function(t,e,n){if(!n_(this._clientRect,e,n)||!this.enterPredicate(t,this))return!1;var r=this._getShadowRoot().elementFromPoint(e,n);if(!r)return!1;var i=wb(this.element);return r===i||i.contains(r)}},{key:"_startReceiving",value:function(t){var e=this._activeSiblings;e.has(t)||(e.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}},{key:"_stopReceiving",value:function(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}},{key:"_listenToScrollEvents",value:function(){var t=this;this._viewportScrollSubscription=this._dragDropRegistry.scroll.subscribe((function(e){if(t.isDragging()){var n=t._parentPositions.handleScroll(e);n&&(t._itemPositions.forEach((function(t){r_(t.clientRect,n.top,n.left)})),t._itemPositions.forEach((function(e){var n=e.drag;t._dragDropRegistry.isDragging(n)&&n._sortFromLastPointerPosition()})))}else t.isReceiving()&&t._cacheParentPositions()}))}},{key:"_getShadowRoot",value:function(){if(!this._cachedShadowRoot){var t=function(t){if(function(){if(null==jb){var t="undefined"!=typeof document?document.head:null;jb=!(!t||!t.createShadowRoot&&!t.attachShadow)}return jb}()){var e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(wb(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}}]),t}();function b_(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return n;return-1}function __(t,e){t===window?t.scrollBy(0,e):t.scrollTop+=e}function w_(t,e){t===window?t.scrollBy(e,0):t.scrollLeft+=e}function k_(t,e){var n=t.top,r=t.bottom,i=.05*t.height;return e>=n-i&&e<=n+i?1:e>=r-i&&e<=r+i?2:0}function C_(t,e){var n=t.left,r=t.right,i=.05*t.width;return e>=n-i&&e<=n+i?1:e>=r-i&&e<=r+i?2:0}var S_,E_,T_,I_,O_,A_,x_=Fb({passive:!1,capture:!0}),D_=((S_=function(){function t(e,n){var r=this;_classCallCheck(this,t),this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=new Set,this._globalListeners=new Map,this.pointerMove=new xm.a,this.pointerUp=new xm.a,this.scroll=new xm.a,this._preventDefaultWhileDragging=function(t){r._activeDragInstances.size&&t.preventDefault()},this._document=n}return _createClass(t,[{key:"registerDropContainer",value:function(t){this._dropInstances.has(t)||this._dropInstances.add(t)}},{key:"registerDragItem",value:function(t){var e=this;this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular((function(){e._document.addEventListener("touchmove",e._preventDefaultWhileDragging,x_)}))}},{key:"removeDropContainer",value:function(t){this._dropInstances.delete(t)}},{key:"removeDragItem",value:function(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._preventDefaultWhileDragging,x_)}},{key:"startDragging",value:function(t,e){var n=this;if(!this._activeDragInstances.has(t)&&(this._activeDragInstances.add(t),1===this._activeDragInstances.size)){var r=e.type.startsWith("touch"),i=r?"touchend":"mouseup";this._globalListeners.set(r?"touchmove":"mousemove",{handler:function(t){return n.pointerMove.next(t)},options:x_}).set(i,{handler:function(t){return n.pointerUp.next(t)},options:!0}).set("scroll",{handler:function(t){return n.scroll.next(t)},options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:x_}),this._ngZone.runOutsideAngular((function(){n._globalListeners.forEach((function(t,e){n._document.addEventListener(e,t.handler,t.options)}))}))}}},{key:"stopDragging",value:function(t){this._activeDragInstances.delete(t),0===this._activeDragInstances.size&&this._clearGlobalListeners()}},{key:"isDragging",value:function(t){return this._activeDragInstances.has(t)}},{key:"ngOnDestroy",value:function(){var t=this;this._dragInstances.forEach((function(e){return t.removeDragItem(e)})),this._dropInstances.forEach((function(e){return t.removeDropContainer(e)})),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}},{key:"_clearGlobalListeners",value:function(){var t=this;this._globalListeners.forEach((function(e,n){t._document.removeEventListener(n,e.handler,e.options)})),this._globalListeners.clear()}}]),t}()).\u0275fac=function(t){return new(t||S_)(r.Sb(r.z),r.Sb(u))},S_.\u0275prov=Object(r.Hb)({factory:function(){return new S_(Object(r.Sb)(r.z),Object(r.Sb)(u))},token:S_,providedIn:"root"}),S_),N_={dragStartThreshold:5,pointerDirectionChangeThreshold:5},R_=((E_=function(){function t(e,n,r,i){_classCallCheck(this,t),this._document=e,this._ngZone=n,this._viewportRuler=r,this._dragDropRegistry=i}return _createClass(t,[{key:"createDrag",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:N_;return new u_(t,e,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}},{key:"createDropList",value:function(t){return new m_(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}]),t}()).\u0275fac=function(t){return new(t||E_)(r.Sb(u),r.Sb(r.z),r.Sb(Kb),r.Sb(D_))},E_.\u0275prov=Object(r.Hb)({factory:function(){return new E_(Object(r.Sb)(u),Object(r.Sb)(r.z),Object(r.Sb)(Kb),Object(r.Sb)(D_))},token:E_,providedIn:"root"}),E_),P_=new r.q("CDK_DRAG_PARENT"),L_=((O_=function(){function t(e,n){_classCallCheck(this,t),this.element=e,this._stateChanges=new xm.a,this._disabled=!1,this._parentDrag=n,Jb(e.nativeElement,!1)}return _createClass(t,[{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=_b(t),this._stateChanges.next(this)}},{key:"ngOnDestroy",value:function(){this._stateChanges.complete()}}]),t}()).\u0275fac=function(t){return new(t||O_)(r.Lb(r.l),r.Lb(P_,8))},O_.\u0275dir=r.Gb({type:O_,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]}}),O_),j_=((I_=function t(e){_classCallCheck(this,t),this.templateRef=e}).\u0275fac=function(t){return new(t||I_)(r.Lb(r.K))},I_.\u0275dir=r.Gb({type:I_,selectors:[["ng-template","cdkDragPlaceholder",""]],inputs:{data:"data"}}),I_),M_=((T_=function(){function t(e){_classCallCheck(this,t),this.templateRef=e,this._matchSize=!1}return _createClass(t,[{key:"matchSize",get:function(){return this._matchSize},set:function(t){this._matchSize=_b(t)}}]),t}()).\u0275fac=function(t){return new(t||T_)(r.Lb(r.K))},T_.\u0275dir=r.Gb({type:T_,selectors:[["ng-template","cdkDragPreview",""]],inputs:{matchSize:"matchSize",data:"data"}}),T_),V_=new r.q("CDK_DRAG_CONFIG"),F_=new r.q("CDK_DROP_LIST"),U_=((A_=function(){function t(e,n,i,o,a,s,u,c,l){var h=this;_classCallCheck(this,t),this.element=e,this.dropContainer=n,this._document=i,this._ngZone=o,this._viewContainerRef=a,this._dir=u,this._changeDetectorRef=l,this._destroyed=new xm.a,this.started=new r.n,this.released=new r.n,this.ended=new r.n,this.entered=new r.n,this.exited=new r.n,this.dropped=new r.n,this.moved=new Pt.a((function(t){var e=h._dragRef.moved.pipe(Object(jt.a)((function(t){return{source:h,pointerPosition:t.pointerPosition,event:t.event,delta:t.delta,distance:t.distance}}))).subscribe(t);return function(){e.unsubscribe()}})),this._dragRef=c.createDrag(e,{dragStartThreshold:s&&null!=s.dragStartThreshold?s.dragStartThreshold:5,pointerDirectionChangeThreshold:s&&null!=s.pointerDirectionChangeThreshold?s.pointerDirectionChangeThreshold:5,zIndex:null==s?void 0:s.zIndex}),this._dragRef.data=this,s&&this._assignDefaults(s),n&&(this._dragRef._withDropContainer(n._dropListRef),n.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}return _createClass(t,[{key:"disabled",get:function(){return this._disabled||this.dropContainer&&this.dropContainer.disabled},set:function(t){this._disabled=_b(t),this._dragRef.disabled=this._disabled}},{key:"getPlaceholderElement",value:function(){return this._dragRef.getPlaceholderElement()}},{key:"getRootElement",value:function(){return this._dragRef.getRootElement()}},{key:"reset",value:function(){this._dragRef.reset()}},{key:"getFreeDragPosition",value:function(){return this._dragRef.getFreeDragPosition()}},{key:"ngAfterViewInit",value:function(){var t=this;this._ngZone.onStable.asObservable().pipe(Hm(1),Db(this._destroyed)).subscribe((function(){t._updateRootElement(),t._handles.changes.pipe(Yr(t._handles),Object(Zb.a)((function(e){var n=e.filter((function(e){return e._parentDrag===t})).map((function(t){return t.element}));t._dragRef.withHandles(n)})),Lm((function(t){return Object(Dm.a).apply(void 0,_toConsumableArray(t.map((function(t){return t._stateChanges.pipe(Yr(t))}))))})),Db(t._destroyed)).subscribe((function(e){var n=t._dragRef,r=e.element.nativeElement;e.disabled?n.disableHandle(r):n.enableHandle(r)})),t.freeDragPosition&&t._dragRef.setFreeDragPosition(t.freeDragPosition)}))}},{key:"ngOnChanges",value:function(t){var e=t.rootElementSelector,n=t.freeDragPosition;e&&!e.firstChange&&this._updateRootElement(),n&&!n.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}},{key:"ngOnDestroy",value:function(){this.dropContainer&&this.dropContainer.removeItem(this),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()}},{key:"_updateRootElement",value:function(){var t=this.element.nativeElement,e=this.rootElementSelector?q_(t,this.rootElementSelector):t;if(e&&e.nodeType!==this._document.ELEMENT_NODE)throw Error('cdkDrag must be attached to an element node. Currently attached to "'.concat(e.nodeName,'".'));this._dragRef.withRootElement(e||t)}},{key:"_getBoundaryElement",value:function(){var t=this.boundaryElement;if(!t)return null;if("string"==typeof t)return q_(this.element.nativeElement,t);var e=wb(t);if(Object(r.V)()&&!e.contains(this.element.nativeElement))throw Error("Draggable element is not inside of the node passed into cdkDragBoundary.");return e}},{key:"_syncInputs",value:function(t){var e=this;t.beforeStarted.subscribe((function(){if(!t.isDragging()){var n=e._dir,r=e.dragStartDelay,i=e._placeholderTemplate?{template:e._placeholderTemplate.templateRef,context:e._placeholderTemplate.data,viewContainer:e._viewContainerRef}:null,o=e._previewTemplate?{template:e._previewTemplate.templateRef,context:e._previewTemplate.data,matchSize:e._previewTemplate.matchSize,viewContainer:e._viewContainerRef}:null;t.disabled=e.disabled,t.lockAxis=e.lockAxis,t.dragStartDelay="object"==typeof r&&r?r:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}(r),t.constrainPosition=e.constrainPosition,t.previewClass=e.previewClass,t.withBoundaryElement(e._getBoundaryElement()).withPlaceholderTemplate(i).withPreviewTemplate(o),n&&t.withDirection(n.value)}}))}},{key:"_handleEvents",value:function(t){var e=this;t.started.subscribe((function(){e.started.emit({source:e}),e._changeDetectorRef.markForCheck()})),t.released.subscribe((function(){e.released.emit({source:e})})),t.ended.subscribe((function(t){e.ended.emit({source:e,distance:t.distance}),e._changeDetectorRef.markForCheck()})),t.entered.subscribe((function(t){e.entered.emit({container:t.container.data,item:e,currentIndex:t.currentIndex})})),t.exited.subscribe((function(t){e.exited.emit({container:t.container.data,item:e})})),t.dropped.subscribe((function(t){e.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,isPointerOverContainer:t.isPointerOverContainer,item:e,distance:t.distance})}))}},{key:"_assignDefaults",value:function(t){var e=t.lockAxis,n=t.dragStartDelay,r=t.constrainPosition,i=t.previewClass,o=t.boundaryElement,a=t.draggingDisabled,s=t.rootElementSelector;this.disabled=null!=a&&a,this.dragStartDelay=n||0,e&&(this.lockAxis=e),r&&(this.constrainPosition=r),i&&(this.previewClass=i),o&&(this.boundaryElement=o),s&&(this.rootElementSelector=s)}}]),t}()).\u0275fac=function(t){return new(t||A_)(r.Lb(r.l),r.Lb(F_,12),r.Lb(u),r.Lb(r.z),r.Lb(r.O),r.Lb(V_,8),r.Lb(Gb,8),r.Lb(R_),r.Lb(r.h))},A_.\u0275dir=r.Gb({type:A_,selectors:[["","cdkDrag",""]],contentQueries:function(t,e,n){var i;1&t&&(r.Eb(n,M_,!0),r.Eb(n,j_,!0),r.Eb(n,L_,!0)),2&t&&(r.hc(i=r.Xb())&&(e._previewTemplate=i.first),r.hc(i=r.Xb())&&(e._placeholderTemplate=i.first),r.hc(i=r.Xb())&&(e._handles=i))},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(t,e){2&t&&r.Db("cdk-drag-disabled",e.disabled)("cdk-drag-dragging",e._dragRef.isDragging())},inputs:{disabled:["cdkDragDisabled","disabled"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],lockAxis:["cdkDragLockAxis","lockAxis"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],boundaryElement:["cdkDragBoundary","boundaryElement"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],data:["cdkDragData","data"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[r.Ab([{provide:P_,useExisting:A_}]),r.zb]}),A_);function q_(t,e){for(var n=t.parentElement;n;){if(n.matches?n.matches(e):n.msMatchesSelector(e))return n;n=n.parentElement}return null}var B_,H_,z_,G_=((z_=function(){function t(){_classCallCheck(this,t),this._items=new Set,this._disabled=!1}return _createClass(t,[{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=_b(t)}},{key:"ngOnDestroy",value:function(){this._items.clear()}}]),t}()).\u0275fac=function(t){return new(t||z_)},z_.\u0275dir=r.Gb({type:z_,selectors:[["","cdkDropListGroup",""]],inputs:{disabled:["cdkDropListGroupDisabled","disabled"]},exportAs:["cdkDropListGroup"]}),z_),W_=0,K_=((H_=function(){function t(e,n,i,o,a,s,u){var c=this;_classCallCheck(this,t),this.element=e,this._changeDetectorRef=i,this._dir=o,this._group=a,this._scrollDispatcher=s,this._destroyed=new xm.a,this.connectedTo=[],this.id="cdk-drop-list-"+W_++,this.enterPredicate=function(){return!0},this.dropped=new r.n,this.entered=new r.n,this.exited=new r.n,this.sorted=new r.n,this._unsortedItems=new Set,this._dropListRef=n.createDropList(e),this._dropListRef.data=this,u&&this._assignDefaults(u),this._dropListRef.enterPredicate=function(t,e){return c.enterPredicate(t.data,e.data)},this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),t._dropLists.push(this),a&&a._items.add(this)}return _createClass(t,[{key:"disabled",get:function(){return this._disabled||!!this._group&&this._group.disabled},set:function(t){this._dropListRef.disabled=this._disabled=_b(t)}},{key:"addItem",value:function(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}},{key:"removeItem",value:function(t){this._unsortedItems.delete(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}},{key:"getSortedItems",value:function(){return Array.from(this._unsortedItems).sort((function(t,e){return t._dragRef.getVisibleElement().compareDocumentPosition(e._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1}))}},{key:"ngOnDestroy",value:function(){var e=t._dropLists.indexOf(this);e>-1&&t._dropLists.splice(e,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}},{key:"start",value:function(){this._dropListRef.start()}},{key:"drop",value:function(t,e,n,r){this._dropListRef.drop(t._dragRef,e,n._dropListRef,r,{x:0,y:0})}},{key:"enter",value:function(t,e,n){this._dropListRef.enter(t._dragRef,e,n)}},{key:"exit",value:function(t){this._dropListRef.exit(t._dragRef)}},{key:"getItemIndex",value:function(t){return this._dropListRef.getItemIndex(t._dragRef)}},{key:"_setupInputSyncSubscription",value:function(e){var n=this;this._dir&&this._dir.change.pipe(Yr(this._dir.value),Db(this._destroyed)).subscribe((function(t){return e.withDirection(t)})),e.beforeStarted.subscribe((function(){var r,i=(r=n.connectedTo,Array.isArray(r)?r:[r]).map((function(e){return"string"==typeof e?t._dropLists.find((function(t){return t.id===e})):e}));if(n._group&&n._group._items.forEach((function(t){-1===i.indexOf(t)&&i.push(t)})),!n._scrollableParentsResolved&&n._scrollDispatcher){var o=n._scrollDispatcher.getAncestorScrollContainers(n.element).map((function(t){return t.getElementRef().nativeElement}));n._dropListRef.withScrollableParents(o),n._scrollableParentsResolved=!0}e.disabled=n.disabled,e.lockAxis=n.lockAxis,e.sortingDisabled=_b(n.sortingDisabled),e.autoScrollDisabled=_b(n.autoScrollDisabled),e.connectedTo(i.filter((function(t){return t&&t!==n})).map((function(t){return t._dropListRef}))).withOrientation(n.orientation)}))}},{key:"_handleEvents",value:function(t){var e=this;t.beforeStarted.subscribe((function(){e._syncItemsWithRef(),e._changeDetectorRef.markForCheck()})),t.entered.subscribe((function(t){e.entered.emit({container:e,item:t.item.data,currentIndex:t.currentIndex})})),t.exited.subscribe((function(t){e.exited.emit({container:e,item:t.item.data}),e._changeDetectorRef.markForCheck()})),t.sorted.subscribe((function(t){e.sorted.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,container:e,item:t.item.data})})),t.dropped.subscribe((function(t){e.dropped.emit({previousIndex:t.previousIndex,currentIndex:t.currentIndex,previousContainer:t.previousContainer.data,container:t.container.data,item:t.item.data,isPointerOverContainer:t.isPointerOverContainer,distance:t.distance}),e._changeDetectorRef.markForCheck()}))}},{key:"_assignDefaults",value:function(t){var e=t.lockAxis,n=t.draggingDisabled,r=t.sortingDisabled,i=t.listAutoScrollDisabled,o=t.listOrientation;this.disabled=null!=n&&n,this.sortingDisabled=null!=r&&r,this.autoScrollDisabled=null!=i&&i,this.orientation=o||"vertical",e&&(this.lockAxis=e)}},{key:"_syncItemsWithRef",value:function(){this._dropListRef.withItems(this.getSortedItems().map((function(t){return t._dragRef})))}}]),t}()).\u0275fac=function(t){return new(t||H_)(r.Lb(r.l),r.Lb(R_),r.Lb(r.h),r.Lb(Gb,8),r.Lb(G_,12),r.Lb(Wb),r.Lb(V_,8))},H_.\u0275dir=r.Gb({type:H_,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(t,e){2&t&&(r.Rb("id",e.id),r.Db("cdk-drop-list-disabled",e.disabled)("cdk-drop-list-dragging",e._dropListRef.isDragging())("cdk-drop-list-receiving",e._dropListRef.isReceiving()))},inputs:{connectedTo:["cdkDropListConnectedTo","connectedTo"],id:"id",enterPredicate:["cdkDropListEnterPredicate","enterPredicate"],disabled:["cdkDropListDisabled","disabled"],sortingDisabled:["cdkDropListSortingDisabled","sortingDisabled"],autoScrollDisabled:["cdkDropListAutoScrollDisabled","autoScrollDisabled"],orientation:["cdkDropListOrientation","orientation"],lockAxis:["cdkDropListLockAxis","lockAxis"],data:["cdkDropListData","data"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[r.Ab([{provide:G_,useValue:void 0},{provide:F_,useExisting:H_}])]}),H_._dropLists=[],H_),Q_=((B_=function t(){_classCallCheck(this,t)}).\u0275mod=r.Jb({type:B_}),B_.\u0275inj=r.Ib({factory:function(t){return new(t||B_)},providers:[R_],imports:[Qb]}),B_),Y_=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var r;return _classCallCheck(this,n),(r=e.call(this))._value=t,r}return _createClass(n,[{key:"value",get:function(){return this.getValue()}},{key:"_subscribe",value:function(t){var e=_get(_getPrototypeOf(n.prototype),"_subscribe",this).call(this,t);return e&&!e.closed&&t.next(this._value),e}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Fm.a;return this._value}},{key:"next",value:function(t){_get(_getPrototypeOf(n.prototype),"next",this).call(this,this._value=t)}}]),n}(xm.a),Z_=n("yCtX"),X_={},J_=function(){function t(e){_classCallCheck(this,t),this.resultSelector=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new $_(t,this.resultSelector))}}]),t}(),$_=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return _createClass(n,[{key:"_next",value:function(t){this.values.push(X_),this.observables.push(t)}},{key:"_complete",value:function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(Object(Pm.a)(this,r,r,n))}}}},{key:"notifyComplete",value:function(t){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(t,e,n,r,i){var o=this.values,a=this.toRespond?o[n]===X_?--this.toRespond:this.toRespond:0;o[n]=e,0===a&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}},{key:"_tryResultSelector",value:function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(Nm.a);function tw(t){return new Pt.a((function(e){var n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(Vt.a)(n):Object(Bm.b)()).subscribe(e)}))}function ew(t){return function(e){return 0===t?Object(Bm.b)():e.lift(new nw(t))}}var nw=function(){function t(e){if(_classCallCheck(this,t),this.total=e,this.total<0)throw new qm}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new rw(t,this.total))}}]),t}(),rw=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).total=r,i.ring=new Array,i.count=0,i}return _createClass(n,[{key:"_next",value:function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}},{key:"_complete",value:function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()}}]),n}(Jn.a);function iw(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?$n((function(e,n){return t(e,n,r)})):$m.a,ew(1),n?Wm(e):Ym((function(){return new Um})))}}function ow(t){return function(e){var n=new sw(t),r=e.lift(n);return n.caught=r}}var aw,sw=function(){function t(e){_classCallCheck(this,t),this.selector=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new uw(t,this.selector,this.caught))}}]),t}(),uw=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t)).selector=r,o.caught=i,o}return _createClass(n,[{key:"error",value:function(t){if(!this.isStopped){var e;try{e=this.selector(t,this.caught)}catch(o){return void _get(_getPrototypeOf(n.prototype),"error",this).call(this,o)}this._unsubscribeAndRecycle();var r=new Rm.a(this,void 0,void 0);this.add(r);var i=Object(Pm.a)(this,e,void 0,void 0,r);i!==r&&this.add(i)}}}]),n}(Nm.a),cw=function(){function t(e,n,r){_classCallCheck(this,t),this.predicate=e,this.thisArg=n,this.source=r}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new lw(t,this.predicate,this.thisArg,this.source))}}]),t}(),lw=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t)).predicate=r,a.thisArg=i,a.source=o,a.index=0,a.thisArg=i||_assertThisInitialized(a),a}return _createClass(n,[{key:"notifyComplete",value:function(t){this.destination.next(t),this.destination.complete()}},{key:"_next",value:function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}},{key:"_complete",value:function(){this.notifyComplete(!0)}}]),n}(Jn.a),hw=n("mCNh"),fw=function(){function t(e){_classCallCheck(this,t),this.callback=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new dw(t,this.callback))}}]),t}(),dw=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).add(new Vm.a(r)),i}return n}(Jn.a),pw=function t(e,n){_classCallCheck(this,t),this.id=e,this.url=n},vw=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _classCallCheck(this,n),(i=e.call(this,t,r)).navigationTrigger=o,i.restoredState=a,i}return _createClass(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(pw),yw=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t,r)).urlAfterRedirects=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(pw),gw=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t,r)).reason=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(pw),mw=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i){var o;return _classCallCheck(this,n),(o=e.call(this,t,r)).error=i,o}return _createClass(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(pw),bw=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(pw),_w=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(pw),ww=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o,a){var s;return _classCallCheck(this,n),(s=e.call(this,t,r)).urlAfterRedirects=i,s.state=o,s.shouldActivate=a,s}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(pw),kw=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(pw),Cw=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,i,o){var a;return _classCallCheck(this,n),(a=e.call(this,t,r)).urlAfterRedirects=i,a.state=o,a}return _createClass(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(pw),Sw=function(){function t(e){_classCallCheck(this,t),this.route=e}return _createClass(t,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),t}(),Ew=function(){function t(e){_classCallCheck(this,t),this.route=e}return _createClass(t,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),t}(),Tw=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),Iw=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),Ow=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),Aw=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),xw=function(){function t(e,n,r){_classCallCheck(this,t),this.routerEvent=e,this.position=n,this.anchor=r}return _createClass(t,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),t}(),Dw=((aw=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||aw)},aw.\u0275cmp=r.Fb({type:aw,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Mb(0,"router-outlet")},directives:function(){return[UC]},encapsulation:2}),aw),Nw=function(){function t(e){_classCallCheck(this,t),this.params=e||{}}return _createClass(t,[{key:"has",value:function(t){return this.params.hasOwnProperty(t)}},{key:"get",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null}},{key:"getAll",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),t}();function Rw(t){return new Nw(t)}function Pw(t){var e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Lw(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=t[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}var jw=function t(e,n){_classCallCheck(this,t),this.routes=e,this.module=n};function Mw(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<t.length;n++){var r=t[n];Vw(r,Fw(e,r))}}function Vw(t,e){if(!t)throw new Error("\n      Invalid configuration of route '".concat(e,"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    "));if(Array.isArray(t))throw new Error("Invalid configuration of route '".concat(e,"': Array cannot be specified"));if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error("Invalid configuration of route '".concat(e,"': a componentless route without children or loadChildren cannot have a named outlet set"));if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and children cannot be used together"));if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and loadChildren cannot be used together"));if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"': children and loadChildren cannot be used together"));if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '".concat(e,"': redirectTo and component cannot be used together"));if(t.path&&t.matcher)throw new Error("Invalid configuration of route '".concat(e,"': path and matcher cannot be used together"));if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '".concat(e,"'. One of the following must be provided: component, redirectTo, children or loadChildren"));if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '".concat(e,"': routes must have either a path or a matcher specified"));if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '".concat(e,"': path cannot start with a slash"));if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error("Invalid configuration of route '{path: \"".concat(e,'", redirectTo: "').concat(t.redirectTo,"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'."));if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '".concat(e,"': pathMatch can only be set to 'prefix' or 'full'"));t.children&&Mw(t.children,e)}function Fw(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:"".concat(t,"/").concat(e.path):"":t}function Uw(t){var e=t.children&&t.children.map(Uw),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=Dw),n}function qw(t,e){var n,r=Object.keys(t),i=Object.keys(e);if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(!Bw(t[n=r[o]],e[n]))return!1;return!0}function Bw(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length==e.length&&t.every((function(t){return e.indexOf(t)>-1})):t===e}function Hw(t){return Array.prototype.concat.apply([],t)}function zw(t){return t.length>0?t[t.length-1]:null}function Gw(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Ww(t){return Object(r.rb)(t)?t:Object(r.sb)(t)?Object(Vt.a)(Promise.resolve(t)):Object(Yn.a)(t)}function Kw(t,e,n){return n?function(t,e){return qw(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Xw(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every((function(n){return Bw(t[n],e[n])}))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!Xw(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!Xw(n.segments,i))return!1;for(var o in r.children){if(!n.children[o])return!1;if(!t(n.children[o],r.children[o]))return!1}return!0}var a=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!Xw(n.segments,a)&&!!n.children.primary&&e(n.children.primary,r,s)}(e,n,n.segments)}(t.root,e.root)}var Qw=function(){function t(e,n,r){_classCallCheck(this,t),this.root=e,this.queryParams=n,this.fragment=r}return _createClass(t,[{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Rw(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return ek.serialize(this)}}]),t}(),Yw=function(){function t(e,n){var r=this;_classCallCheck(this,t),this.segments=e,this.children=n,this.parent=null,Gw(n,(function(t,e){return t.parent=r}))}return _createClass(t,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}},{key:"toString",value:function(){return nk(this)}}]),t}(),Zw=function(){function t(e,n){_classCallCheck(this,t),this.path=e,this.parameters=n}return _createClass(t,[{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=Rw(this.parameters)),this._parameterMap}},{key:"toString",value:function(){return uk(this)}}]),t}();function Xw(t,e){return t.length===e.length&&t.every((function(t,n){return t.path===e[n].path}))}function Jw(t,e){var n=[];return Gw(t.children,(function(t,r){"primary"===r&&(n=n.concat(e(t,r)))})),Gw(t.children,(function(t,r){"primary"!==r&&(n=n.concat(e(t,r)))})),n}var $w=function t(){_classCallCheck(this,t)},tk=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"parse",value:function(t){var e=new dk(t);return new Qw(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}},{key:"serialize",value:function(t){return"".concat("/"+function t(e,n){if(!e.hasChildren())return nk(e);if(n){var r=e.children.primary?t(e.children.primary,!1):"",i=[];return Gw(e.children,(function(e,n){"primary"!==n&&i.push("".concat(n,":").concat(t(e,!1)))})),i.length>0?"".concat(r,"(").concat(i.join("//"),")"):r}var o=Jw(e,(function(n,r){return"primary"===r?[t(e.children.primary,!1)]:["".concat(r,":").concat(t(n,!1))]}));return"".concat(nk(e),"/(").concat(o.join("//"),")")}(t.root,!0)).concat((e=t.queryParams,n=Object.keys(e).map((function(t){var n=e[t];return Array.isArray(n)?n.map((function(e){return"".concat(ik(t),"=").concat(ik(e))})).join("&"):"".concat(ik(t),"=").concat(ik(n))})),n.length?"?"+n.join("&"):"")).concat("string"==typeof t.fragment?"#"+encodeURI(t.fragment):"");var e,n}}]),t}(),ek=new tk;function nk(t){return t.segments.map((function(t){return uk(t)})).join("/")}function rk(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ik(t){return rk(t).replace(/%3B/gi,";")}function ok(t){return rk(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ak(t){return decodeURIComponent(t)}function sk(t){return ak(t.replace(/\+/g,"%20"))}function uk(t){return"".concat(ok(t.path)).concat((e=t.parameters,Object.keys(e).map((function(t){return";".concat(ok(t),"=").concat(ok(e[t]))})).join("")));var e}var ck=/^[^\/()?;=#]+/;function lk(t){var e=t.match(ck);return e?e[0]:""}var hk=/^[^=?&#]+/,fk=/^[^?&#]+/,dk=function(){function t(e){_classCallCheck(this,t),this.url=e,this.remaining=e}return _createClass(t,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Yw([],{}):new Yw([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Yw(t,e)),n}},{key:"parseSegment",value:function(){var t=lk(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(t),new Zw(ak(t),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t}},{key:"parseParam",value:function(t){var e=lk(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=lk(this.remaining);r&&(n=r,this.capture(n))}t[ak(e)]=ak(n)}}},{key:"parseQueryParam",value:function(t){var e=function(t){var e=t.match(hk);return e?e[0]:""}(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=function(t){var e=t.match(fk);return e?e[0]:""}(this.remaining);r&&(n=r,this.capture(n))}var i=sk(e),o=sk(n);if(t.hasOwnProperty(i)){var a=t[i];Array.isArray(a)||(a=[a],t[i]=a),a.push(o)}else t[i]=o}}},{key:"parseParens",value:function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=lk(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");var o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new Yw([],o),this.consumeOptional("//")}return e}},{key:"peekStartsWith",value:function(t){return this.remaining.startsWith(t)}},{key:"consumeOptional",value:function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}},{key:"capture",value:function(t){if(!this.consumeOptional(t))throw new Error('Expected "'.concat(t,'".'))}}]),t}(),pk=function(){function t(e){_classCallCheck(this,t),this._root=e}return _createClass(t,[{key:"root",get:function(){return this._root.value}},{key:"parent",value:function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}},{key:"children",value:function(t){var e=vk(t,this._root);return e?e.children.map((function(t){return t.value})):[]}},{key:"firstChild",value:function(t){var e=vk(t,this._root);return e&&e.children.length>0?e.children[0].value:null}},{key:"siblings",value:function(t){var e=yk(t,this._root);return e.length<2?[]:e[e.length-2].children.map((function(t){return t.value})).filter((function(e){return e!==t}))}},{key:"pathFromRoot",value:function(t){return yk(t,this._root).map((function(t){return t.value}))}}]),t}();function vk(t,e){if(t===e.value)return e;var n,r=_createForOfIteratorHelper(e.children);try{for(r.s();!(n=r.n()).done;){var i=vk(t,n.value);if(i)return i}}catch(o){r.e(o)}finally{r.f()}return null}function yk(t,e){if(t===e.value)return[e];var n,r=_createForOfIteratorHelper(e.children);try{for(r.s();!(n=r.n()).done;){var i=yk(t,n.value);if(i.length)return i.unshift(e),i}}catch(o){r.e(o)}finally{r.f()}return[]}var gk=function(){function t(e,n){_classCallCheck(this,t),this.value=e,this.children=n}return _createClass(t,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),t}();function mk(t){var e={};return t&&t.children.forEach((function(t){return e[t.value.outlet]=t})),e}var bk=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,t)).snapshot=r,Ek(_assertThisInitialized(i),t),i}return _createClass(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(pk);function _k(t,e){var n=function(t,e){var n=new Ck([],{},{},"",{},"primary",e,null,t.root,-1,{});return new Sk("",new gk(n,[]))}(t,e),r=new Y_([new Zw("",{})]),i=new Y_({}),o=new Y_({}),a=new Y_({}),s=new Y_(""),u=new wk(r,i,a,s,o,"primary",e,n.root);return u.snapshot=n.root,new bk(new gk(u,[]),n)}var wk=function(){function t(e,n,r,i,o,a,s,u){_classCallCheck(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this._futureSnapshot=u}return _createClass(t,[{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(Object(jt.a)((function(t){return Rw(t)})))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(jt.a)((function(t){return Rw(t)})))),this._queryParamMap}},{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}}]),t}();function kk(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=t.pathFromRoot,r=0;if("always"!==e)for(r=n.length-1;r>=1;){var i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function(t){return t.reduce((function(t,e){return{params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}}),{params:{},data:{},resolve:{}})}(n.slice(r))}var Ck=function(){function t(e,n,r,i,o,a,s,u,c,l,h){_classCallCheck(this,t),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=h}return _createClass(t,[{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=Rw(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Rw(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return"Route(url:'".concat(this.url.map((function(t){return t.toString()})).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}}]),t}(),Sk=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var i;return _classCallCheck(this,n),(i=e.call(this,r)).url=t,Ek(_assertThisInitialized(i),r),i}return _createClass(n,[{key:"toString",value:function(){return Tk(this._root)}}]),n}(pk);function Ek(t,e){e.value._routerState=t,e.children.forEach((function(e){return Ek(t,e)}))}function Tk(t){var e=t.children.length>0?" { ".concat(t.children.map(Tk).join(", ")," } "):"";return"".concat(t.value).concat(e)}function Ik(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,qw(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),qw(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!qw(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),qw(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Ok(t,e){return qw(t.params,e.params)&&function(t,e){return Xw(t,e)&&t.every((function(t,n){return qw(t.parameters,e[n].parameters)}))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Ok(t.parent,e.parent))}function Ak(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function xk(t,e,n,r,i){var o={};return r&&Gw(r,(function(t,e){o[e]=Array.isArray(t)?t.map((function(t){return""+t})):""+t})),new Qw(n.root===t?e:function t(e,n,r){var i={};return Gw(e.children,(function(e,o){i[o]=e===n?r:t(e,n,r)})),new Yw(e.segments,i)}(n.root,t,e),o,i)}var Dk=function(){function t(e,n,r){if(_classCallCheck(this,t),this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Ak(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find((function(t){return"object"==typeof t&&null!=t&&t.outlets}));if(i&&i!==zw(r))throw new Error("{outlets:{}} has to be the last command")}return _createClass(t,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),t}(),Nk=function t(e,n,r){_classCallCheck(this,t),this.segmentGroup=e,this.processChildren=n,this.index=r};function Rk(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function Pk(t,e,n){if(t||(t=new Yw([],{})),0===t.segments.length&&t.hasChildren())return Lk(t,e,n);var r=function(t,e,n){for(var r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(r>=n.length)return o;var a=t.segments[i],s=Rk(n[r]),u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&u&&"object"==typeof u&&void 0===u.outlets){if(!Fk(s,u,a))return o;r+=2}else{if(!Fk(s,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var o=new Yw(t.segments.slice(0,r.pathIndex),{});return o.children.primary=new Yw(t.segments.slice(r.pathIndex),t.children),Lk(o,0,i)}return r.match&&0===i.length?new Yw(t.segments,{}):r.match&&!t.hasChildren()?jk(t,e,n):r.match?Lk(t,0,i):jk(t,e,n)}function Lk(t,e,n){if(0===n.length)return new Yw(t.segments,{});var r=function(t){return"object"!=typeof t[0]||void 0===t[0].outlets?{primary:t}:t[0].outlets}(n),i={};return Gw(r,(function(n,r){null!==n&&(i[r]=Pk(t.children[r],e,n))})),Gw(t.children,(function(t,e){void 0===r[e]&&(i[e]=t)})),new Yw(t.segments,i)}function jk(t,e,n){for(var r=t.segments.slice(0,e),i=0;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){var o=Mk(n[i].outlets);return new Yw(r,o)}if(0===i&&Ak(n[0]))r.push(new Zw(t.segments[e].path,n[0])),i++;else{var a=Rk(n[i]),s=i<n.length-1?n[i+1]:null;a&&s&&Ak(s)?(r.push(new Zw(a,Vk(s))),i+=2):(r.push(new Zw(a,{})),i++)}}return new Yw(r,{})}function Mk(t){var e={};return Gw(t,(function(t,n){null!==t&&(e[n]=jk(new Yw([],{}),0,t))})),e}function Vk(t){var e={};return Gw(t,(function(t,n){return e[n]=""+t})),e}function Fk(t,e,n){return t==n.path&&qw(e,n.parameters)}var Uk=function(){function t(e,n,r,i){_classCallCheck(this,t),this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}return _createClass(t,[{key:"activate",value:function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Ik(this.futureState.root),this.activateChildRoutes(e,n,t)}},{key:"deactivateChildRoutes",value:function(t,e,n){var r=this,i=mk(e);t.children.forEach((function(t){var e=t.value.outlet;r.deactivateRoutes(t,i[e],n),delete i[e]})),Gw(i,(function(t,e){r.deactivateRouteAndItsChildren(t,n)}))}},{key:"deactivateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}},{key:"deactivateRouteAndItsChildren",value:function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}},{key:"detachAndStoreRouteSubtree",value:function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(t,e){var n=this,r=e.getContext(t.value.outlet);if(r){var i=mk(t),o=t.value.component?r.children:e;Gw(i,(function(t,e){return n.deactivateRouteAndItsChildren(t,o)})),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}}},{key:"activateChildRoutes",value:function(t,e,n){var r=this,i=mk(e);t.children.forEach((function(t){r.activateRoutes(t,i[t.value.outlet],n),r.forwardEvent(new Aw(t.value.snapshot))})),t.children.length&&this.forwardEvent(new Iw(t.value.snapshot))}},{key:"activateRoutes",value:function(t,e,n){var r=t.value,i=e?e.value:null;if(Ik(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(r.component){var a=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),qk(s.route)}else{var u=function(t){for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),c=u?u.module.componentFactoryResolver:null;a.attachRef=null,a.route=r,a.resolver=c,a.outlet&&a.outlet.activateWith(r,c),this.activateChildRoutes(t,null,a.children)}}else this.activateChildRoutes(t,null,n)}}]),t}();function qk(t){Ik(t.value),t.children.forEach(qk)}function Bk(t){return"function"==typeof t}function Hk(t){return t instanceof Qw}var zk=function t(e){_classCallCheck(this,t),this.segmentGroup=e||null},Gk=function t(e){_classCallCheck(this,t),this.urlTree=e};function Wk(t){return new Pt.a((function(e){return e.error(new zk(t))}))}function Kk(t){return new Pt.a((function(e){return e.error(new Gk(t))}))}function Qk(t){return new Pt.a((function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(t,"'")))}))}var Yk=function(){function t(e,n,i,o,a){_classCallCheck(this,t),this.configLoader=n,this.urlSerializer=i,this.urlTree=o,this.config=a,this.allowRedirects=!0,this.ngModule=e.get(r.x)}return _createClass(t,[{key:"apply",value:function(){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(Object(jt.a)((function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)}))).pipe(ow((function(e){if(e instanceof Gk)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof zk)throw t.noMatchError(e);throw e})))}},{key:"match",value:function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(Object(jt.a)((function(n){return e.createUrlTree(n,t.queryParams,t.fragment)}))).pipe(ow((function(t){if(t instanceof zk)throw e.noMatchError(t);throw t})))}},{key:"noMatchError",value:function(t){return new Error("Cannot match any routes. URL Segment: '".concat(t.segmentGroup,"'"))}},{key:"createUrlTree",value:function(t,e,n){var r=t.segments.length>0?new Yw([],{primary:t}):t;return new Qw(r,e,n)}},{key:"expandSegmentGroup",value:function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(jt.a)((function(t){return new Yw([],t)}))):this.expandSegment(t,n,e,n.segments,r,!0)}},{key:"expandChildren",value:function(t,e,n){var r=this;return function(n,i){if(0===Object.keys(n).length)return Object(Yn.a)({});var o=[],a=[],s={};return Gw(n,(function(n,i){var u,c,l=(u=i,c=n,r.expandSegmentGroup(t,e,c,u)).pipe(Object(jt.a)((function(t){return s[i]=t})));"primary"===i?o.push(l):a.push(l)})),Yn.a.apply(null,o.concat(a)).pipe(Wr(),iw(),Object(jt.a)((function(){return s})))}(n.children)}},{key:"expandSegment",value:function(t,e,n,r,i,o){var a=this;return Object(Yn.a).apply(void 0,_toConsumableArray(n)).pipe(Object(jt.a)((function(s){return a.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(ow((function(t){if(t instanceof zk)return Object(Yn.a)(null);throw t})))})),Wr(),tb((function(t){return!!t})),ow((function(t,n){if(t instanceof Um||"EmptyError"===t.name){if(a.noLeftoversInUrl(e,r,i))return Object(Yn.a)(new Yw([],{}));throw new zk(e)}throw t})))}},{key:"noLeftoversInUrl",value:function(t,e,n){return 0===e.length&&!t.children[n]}},{key:"expandSegmentAgainstRoute",value:function(t,e,n,r,i,o,a){return $k(r)!==o?Wk(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Wk(e)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(t,e,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Kk(o):this.lineralizeSegments(n,o).pipe(Object(Zn.a)((function(n){var o=new Yw(n,{});return i.expandSegment(t,o,e,n,r,!1)})))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(t,e,n,r,i,o){var a=this,s=Zk(e,r,i),u=s.matched,c=s.consumedSegments,l=s.lastChild,h=s.positionalParamSegments;if(!u)return Wk(e);var f=this.applyRedirectCommands(c,r.redirectTo,h);return r.redirectTo.startsWith("/")?Kk(f):this.lineralizeSegments(r,f).pipe(Object(Zn.a)((function(r){return a.expandSegment(t,e,n,r.concat(i.slice(l)),o,!1)})))}},{key:"matchSegmentAgainstRoute",value:function(t,e,n,r){var i=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(jt.a)((function(t){return n._loadedConfig=t,new Yw(r,{})}))):Object(Yn.a)(new Yw(r,{}));var o=Zk(e,n,r),a=o.matched,s=o.consumedSegments,u=o.lastChild;if(!a)return Wk(e);var c=r.slice(u);return this.getChildConfig(t,n,r).pipe(Object(Zn.a)((function(t){var n=t.module,r=t.routes,o=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some((function(n){return Jk(t,e,n)&&"primary"!==$k(n)}))}(t,n,r)?{segmentGroup:Xk(new Yw(e,function(t,e){var n={};n.primary=e;var r,i=_createForOfIteratorHelper(t);try{for(i.s();!(r=i.n()).done;){var o=r.value;""===o.path&&"primary"!==$k(o)&&(n[$k(o)]=new Yw([],{}))}}catch(a){i.e(a)}finally{i.f()}return n}(r,new Yw(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some((function(n){return Jk(t,e,n)}))}(t,n,r)?{segmentGroup:Xk(new Yw(t.segments,function(t,e,n,r){var i,o={},a=_createForOfIteratorHelper(n);try{for(a.s();!(i=a.n()).done;){var s=i.value;Jk(t,e,s)&&!r[$k(s)]&&(o[$k(s)]=new Yw([],{}))}}catch(u){a.e(u)}finally{a.f()}return Object.assign(Object.assign({},r),o)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,s,c,r),a=o.segmentGroup,u=o.slicedSegments;return 0===u.length&&a.hasChildren()?i.expandChildren(n,r,a).pipe(Object(jt.a)((function(t){return new Yw(s,t)}))):0===r.length&&0===u.length?Object(Yn.a)(new Yw(s,{})):i.expandSegment(n,a,r,u,"primary",!0).pipe(Object(jt.a)((function(t){return new Yw(s.concat(t.segments),t.children)})))})))}},{key:"getChildConfig",value:function(t,e,n){var r=this;return e.children?Object(Yn.a)(new jw(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Yn.a)(e._loadedConfig):function(t,e,n){var r,i=e.canLoad;return i&&0!==i.length?Object(Vt.a)(i).pipe(Object(jt.a)((function(r){var i,o=t.get(r);if(function(t){return t&&Bk(t.canLoad)}(o))i=o.canLoad(e,n);else{if(!Bk(o))throw new Error("Invalid CanLoad guard");i=o(e,n)}return Ww(i)}))).pipe(Wr(),(r=function(t){return!0===t},function(t){return t.lift(new cw(r,void 0,t))})):Object(Yn.a)(!0)}(t.injector,e,n).pipe(Object(Zn.a)((function(n){return n?r.configLoader.load(t.injector,e).pipe(Object(jt.a)((function(t){return e._loadedConfig=t,t}))):function(t){return new Pt.a((function(e){return e.error(Pw("Cannot load children because the guard of the route \"path: '".concat(t.path,"'\" returned false")))}))}(e)}))):Object(Yn.a)(new jw([],t))}},{key:"lineralizeSegments",value:function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Yn.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Qk(t.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}},{key:"applyRedirectCreatreUrlTree",value:function(t,e,n,r){var i=this.createSegmentGroup(t,e.root,n,r);return new Qw(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}},{key:"createQueryParams",value:function(t,e){var n={};return Gw(t,(function(t,r){if("string"==typeof t&&t.startsWith(":")){var i=t.substring(1);n[r]=e[i]}else n[r]=t})),n}},{key:"createSegmentGroup",value:function(t,e,n,r){var i=this,o=this.createSegments(t,e.segments,n,r),a={};return Gw(e.children,(function(e,o){a[o]=i.createSegmentGroup(t,e,n,r)})),new Yw(o,a)}},{key:"createSegments",value:function(t,e,n,r){var i=this;return e.map((function(e){return e.path.startsWith(":")?i.findPosParam(t,e,r):i.findOrReturn(e,n)}))}},{key:"findPosParam",value:function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(t,"'. Cannot find '").concat(e.path,"'."));return r}},{key:"findOrReturn",value:function(t,e){var n,r=0,i=_createForOfIteratorHelper(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.path===t.path)return e.splice(r),o;r++}}catch(a){i.e(a)}finally{i.f()}return t}}]),t}();function Zk(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(e.matcher||Lw)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Xk(t){if(1===t.numberOfChildren&&t.children.primary){var e=t.children.primary;return new Yw(t.segments.concat(e.segments),e.children)}return t}function Jk(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function $k(t){return t.outlet||"primary"}var tC=function t(e){_classCallCheck(this,t),this.path=e,this.route=this.path[this.path.length-1]},eC=function t(e,n){_classCallCheck(this,t),this.component=e,this.route=n};function nC(t,e,n){var r=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function rC(t,e,n){var r=mk(t),i=t.value;Gw(r,(function(t,r){rC(t,i.component?e?e.children.getContext(r):null:e,n)})),n.canDeactivateChecks.push(new eC(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}var iC=Symbol("INITIAL_VALUE");function oC(){return Lm((function(t){return(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=null,i=null;return Object(Qr.a)(e[e.length-1])&&(i=e.pop()),"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&Object(Lt.a)(e[0])&&(e=e[0]),Object(Z_.a)(e,i).lift(new J_(r))}).apply(void 0,_toConsumableArray(t.map((function(t){return t.pipe(Hm(1),Yr(iC))})))).pipe($r((function(t,e){var n=!1;return e.reduce((function(t,r,i){if(t!==iC)return t;if(r===iC&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Hk(r))return r}return t}),t)}),iC),$n((function(t){return t!==iC})),Object(jt.a)((function(t){return Hk(t)?t:!0===t})),Hm(1))}))}function aC(t,e){return null!==t&&e&&e(new Ow(t)),Object(Yn.a)(!0)}function sC(t,e){return null!==t&&e&&e(new Tw(t)),Object(Yn.a)(!0)}function uC(t,e,n){var r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Yn.a)(!0);var i=r.map((function(r){return tw((function(){var i,o=nC(r,e,n);if(function(t){return t&&Bk(t.canActivate)}(o))i=Ww(o.canActivate(e,t));else{if(!Bk(o))throw new Error("Invalid CanActivate guard");i=Ww(o(e,t))}return i.pipe(tb())}))}));return Object(Yn.a)(i).pipe(oC())}function cC(t,e,n){var r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map((function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)})).filter((function(t){return null!==t})).map((function(e){return tw((function(){var i=e.guards.map((function(i){var o,a=nC(i,e.node,n);if(function(t){return t&&Bk(t.canActivateChild)}(a))o=Ww(a.canActivateChild(r,t));else{if(!Bk(a))throw new Error("Invalid CanActivateChild guard");o=Ww(a(r,t))}return o.pipe(tb())}));return Object(Yn.a)(i).pipe(oC())}))}));return Object(Yn.a)(i).pipe(oC())}var lC=function t(){_classCallCheck(this,t)},hC=function(){function t(e,n,r,i,o,a){_classCallCheck(this,t),this.rootComponentType=e,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a}return _createClass(t,[{key:"recognize",value:function(){try{var t=pC(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new Ck([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new gk(n,e),i=new Sk(this.url,r);return this.inheritParamsAndData(i._root),Object(Yn.a)(i)}catch(Em){return new Pt.a((function(e){return e.error(Em)}))}}},{key:"inheritParamsAndData",value:function(t){var e=this,n=t.value,r=kk(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach((function(t){return e.inheritParamsAndData(t)}))}},{key:"processSegmentGroup",value:function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}},{key:"processChildren",value:function(t,e){var n,r=this,i=Jw(e,(function(e,n){return r.processSegmentGroup(t,e,n)}));return n={},i.forEach((function(t){var e=n[t.value.outlet];if(e){var r=e.url.map((function(t){return t.toString()})).join("/"),i=t.value.url.map((function(t){return t.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(r,"' and '").concat(i,"'."))}n[t.value.outlet]=t.value})),i.sort((function(t,e){return"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)})),i}},{key:"processSegment",value:function(t,e,n,r){var i,o=_createForOfIteratorHelper(t);try{for(o.s();!(i=o.n()).done;){var a=i.value;try{return this.processSegmentAgainstRoute(a,e,n,r)}catch(Em){if(!(Em instanceof lC))throw Em}}}catch(s){o.e(s)}finally{o.f()}if(this.noLeftoversInUrl(e,n,r))return[];throw new lC}},{key:"noLeftoversInUrl",value:function(t,e,n){return 0===e.length&&!t.children[n]}},{key:"processSegmentAgainstRoute",value:function(t,e,n,r){if(t.redirectTo)throw new lC;if((t.outlet||"primary")!==r)throw new lC;var i,o=[],a=[];if("**"===t.path){var s=n.length>0?zw(n).parameters:{};i=new Ck(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,gC(t),r,t.component,t,fC(e),dC(e)+n.length,mC(t))}else{var u=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new lC;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(e.matcher||Lw)(n,t,e);if(!r)throw new lC;var i={};Gw(r.posParams,(function(t,e){i[e]=t.path}));var o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=u.consumedSegments,a=n.slice(u.lastChild),i=new Ck(o,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,gC(t),r,t.component,t,fC(e),dC(e)+o.length,mC(t))}var c=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),l=pC(e,o,a,c,this.relativeLinkResolution),h=l.segmentGroup,f=l.slicedSegments;if(0===f.length&&h.hasChildren()){var d=this.processChildren(c,h);return[new gk(i,d)]}if(0===c.length&&0===f.length)return[new gk(i,[])];var p=this.processSegment(c,h,f,"primary");return[new gk(i,p)]}}]),t}();function fC(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function dC(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function pC(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some((function(n){return vC(t,e,n)&&"primary"!==yC(n)}))}(t,n,r)){var o=new Yw(e,function(t,e,n,r){var i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;var o,a=_createForOfIteratorHelper(n);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(""===s.path&&"primary"!==yC(s)){var u=new Yw([],{});u._sourceSegment=t,u._segmentIndexShift=e.length,i[yC(s)]=u}}}catch(c){a.e(c)}finally{a.f()}return i}(t,e,r,new Yw(n,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some((function(n){return vC(t,e,n)}))}(t,n,r)){var a=new Yw(t.segments,function(t,e,n,r,i,o){var a,s={},u=_createForOfIteratorHelper(r);try{for(u.s();!(a=u.n()).done;){var c=a.value;if(vC(t,n,c)&&!i[yC(c)]){var l=new Yw([],{});l._sourceSegment=t,l._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[yC(c)]=l}}}catch(h){u.e(h)}finally{u.f()}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:n}}var s=new Yw(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function vC(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function yC(t){return t.outlet||"primary"}function gC(t){return t.data||{}}function mC(t){return t.resolve||{}}function bC(t,e,n,r){var i=nC(t,e,r);return Ww(i.resolve?i.resolve(e,n):i(e,n))}function _C(t){return function(e){return e.pipe(Lm((function(e){var n=t(e);return n?Object(Vt.a)(n).pipe(Object(jt.a)((function(){return e}))):Object(Vt.a)([e])})))}}var wC=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"shouldDetach",value:function(t){return!1}},{key:"store",value:function(t,e){}},{key:"shouldAttach",value:function(t){return!1}},{key:"retrieve",value:function(t){return null}},{key:"shouldReuseRoute",value:function(t,e){return t.routeConfig===e.routeConfig}}]),t}(),kC=new r.q("ROUTES"),CC=function(){function t(e,n,r,i){_classCallCheck(this,t),this.loader=e,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return _createClass(t,[{key:"load",value:function(t,e){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(jt.a)((function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var i=r.create(t);return new jw(Hw(i.injector.get(kC)).map(Uw),i)})))}},{key:"loadModuleFactory",value:function(t){var e=this;return"string"==typeof t?Object(Vt.a)(this.loader.load(t)):Ww(t()).pipe(Object(Zn.a)((function(t){return t instanceof r.v?Object(Yn.a)(t):Object(Vt.a)(e.compiler.compileModuleAsync(t))})))}}]),t}(),SC=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"shouldProcessUrl",value:function(t){return!0}},{key:"extract",value:function(t){return t}},{key:"merge",value:function(t,e){return t}}]),t}();function EC(t){throw t}function TC(t,e,n){return e.parse("/")}function IC(t,e){return Object(Yn.a)(null)}var OC,AC,xC,DC=((xC=function(){function t(e,n,i,o,a,s,u,c){var l=this;_classCallCheck(this,t),this.rootComponentType=e,this.urlSerializer=n,this.rootContexts=i,this.location=o,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new xm.a,this.errorHandler=EC,this.malformedUriErrorHandler=TC,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:IC,afterPreactivation:IC},this.urlHandlingStrategy=new SC,this.routeReuseStrategy=new wC,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=a.get(r.x),this.console=a.get(r.Y);var h=a.get(r.z);this.isNgZoneEnabled=h instanceof r.z,this.resetConfig(c),this.currentUrlTree=new Qw(new Yw([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new CC(s,u,(function(t){return l.triggerEvent(new Sw(t))}),(function(t){return l.triggerEvent(new Ew(t))})),this.routerState=_k(this.currentUrlTree,this.rootComponentType),this.transitions=new Y_({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return _createClass(t,[{key:"setupNavigations",value:function(t){var e=this,n=this.events;return t.pipe($n((function(t){return 0!==t.id})),Object(jt.a)((function(t){return Object.assign(Object.assign({},t),{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})})),Lm((function(t){var r,i,o,a,s=!1,u=!1;return Object(Yn.a)(t).pipe(Object(Zb.a)((function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?Object.assign(Object.assign({},e.lastSuccessfulNavigation),{previousNavigation:null}):null}})),Lm((function(t){var r,i,o,a,s=!e.navigated||t.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||s)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Yn.a)(t).pipe(Lm((function(t){var r=e.transitions.getValue();return n.next(new vw(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),r!==e.transitions.getValue()?Bm.a:[t]})),Lm((function(t){return Promise.resolve(t)})),(r=e.ngModule.injector,i=e.configLoader,o=e.urlSerializer,a=e.config,function(t){return t.pipe(Lm((function(t){return function(t,e,n,r,i){return new Yk(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,a).pipe(Object(jt.a)((function(e){return Object.assign(Object.assign({},t),{urlAfterRedirects:e})})))})))}),Object(Zb.a)((function(t){e.currentNavigation=Object.assign(Object.assign({},e.currentNavigation),{finalUrl:t.urlAfterRedirects})})),function(t,n,r,i,o){return function(r){return r.pipe(Object(Zn.a)((function(r){return function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";return new hC(t,e,n,r,i,o).recognize()}(t,n,r.urlAfterRedirects,(a=r.urlAfterRedirects,e.serializeUrl(a)),i,o).pipe(Object(jt.a)((function(t){return Object.assign(Object.assign({},r),{targetSnapshot:t})})));var a})))}}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),Object(Zb.a)((function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),Object(Zb.a)((function(t){var r=new bw(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);n.next(r)})));if(s&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var u=t.id,c=t.extractedUrl,l=t.source,h=t.restoredState,f=t.extras,d=new vw(u,e.serializeUrl(c),l,h);n.next(d);var p=_k(c,e.rootComponentType).snapshot;return Object(Yn.a)(Object.assign(Object.assign({},t),{targetSnapshot:p,urlAfterRedirects:c,extras:Object.assign(Object.assign({},f),{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,e.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Bm.a})),_C((function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,u=a.replaceUrl;return e.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})})),Object(Zb.a)((function(t){var n=new _w(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})),Object(jt.a)((function(t){return Object.assign(Object.assign({},t),{guards:(n=t.targetSnapshot,r=t.currentSnapshot,i=e.rootContexts,o=n._root,function t(e,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=mk(n);return e.children.forEach((function(e){!function(e,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=e.value,s=n?n.value:null,u=r?r.getContext(e.value.outlet):null;if(s&&a.routeConfig===s.routeConfig){var c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Xw(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Xw(t.url,e.url)||!qw(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ok(t,e)||!qw(t.queryParams,e.queryParams);case"paramsChange":default:return!Ok(t,e)}}(s,a,a.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new tC(i)):(a.data=s.data,a._resolvedData=s._resolvedData),t(e,n,a.component?u?u.children:null:r,i,o),c&&o.canDeactivateChecks.push(new eC(u&&u.outlet&&u.outlet.component||null,s))}else s&&rC(n,u,o),o.canActivateChecks.push(new tC(i)),t(e,null,a.component?u?u.children:null:r,i,o)}(e,a[e.value.outlet],r,i.concat([e.value]),o),delete a[e.value.outlet]})),Gw(a,(function(t,e){return rC(t,r.getContext(e),o)})),o}(o,r?r._root:null,i,[o.value]))});var n,r,i,o})),function(t,e){return function(n){return n.pipe(Object(Zn.a)((function(n){var r=n.targetSnapshot,i=n.currentSnapshot,o=n.guards,a=o.canActivateChecks,s=o.canDeactivateChecks;return 0===s.length&&0===a.length?Object(Yn.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(Vt.a)(t).pipe(Object(Zn.a)((function(t){return function(t,e,n,r,i){var o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(Yn.a)(!0);var a=o.map((function(o){var a,s=nC(o,e,i);if(function(t){return t&&Bk(t.canDeactivate)}(s))a=Ww(s.canDeactivate(t,e,n,r));else{if(!Bk(s))throw new Error("Invalid CanDeactivate guard");a=Ww(s(t,e,n,r))}return a.pipe(tb())}));return Object(Yn.a)(a).pipe(oC())}(t.component,t.route,n,e,r)})),tb((function(t){return!0!==t}),!0))}(s,r,i,t).pipe(Object(Zn.a)((function(n){return n&&"boolean"==typeof n?function(t,e,n,r){return Object(Vt.a)(e).pipe(Xn((function(e){return Object(Vt.a)([sC(e.route.parent,r),aC(e.route,r),cC(t,e.path,n),uC(t,e.route,n)]).pipe(Wr(),tb((function(t){return!0!==t}),!0))})),tb((function(t){return!0!==t}),!0))}(r,a,t,e):Object(Yn.a)(n)})),Object(jt.a)((function(t){return Object.assign(Object.assign({},n),{guardsResult:t})})))})))}}(e.ngModule.injector,(function(t){return e.triggerEvent(t)})),Object(Zb.a)((function(t){if(Hk(t.guardsResult)){var n=Pw('Redirecting to "'.concat(e.serializeUrl(t.guardsResult),'"'));throw n.url=t.guardsResult,n}})),Object(Zb.a)((function(t){var n=new ww(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(n)})),$n((function(t){if(!t.guardsResult){e.resetUrlToCurrentUrlTree();var r=new gw(t.id,e.serializeUrl(t.extractedUrl),"");return n.next(r),t.resolve(!1),!1}return!0})),_C((function(t){if(t.guards.canActivateChecks.length)return Object(Yn.a)(t).pipe(Object(Zb.a)((function(t){var n=new kw(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})),(n=e.paramsInheritanceStrategy,r=e.ngModule.injector,function(t){return t.pipe(Object(Zn.a)((function(t){var e=t.targetSnapshot,i=t.guards.canActivateChecks;return i.length?Object(Vt.a)(i).pipe(Xn((function(t){return function(t,e,n,r){return function(t,e,n,r){var i=Object.keys(t);if(0===i.length)return Object(Yn.a)({});if(1===i.length){var o=i[0];return bC(t[o],e,n,r).pipe(Object(jt.a)((function(t){return _defineProperty({},o,t)})))}var a={};return Object(Vt.a)(i).pipe(Object(Zn.a)((function(i){return bC(t[i],e,n,r).pipe(Object(jt.a)((function(t){return a[i]=t,t})))}))).pipe(iw(),Object(jt.a)((function(){return a})))}(t._resolve,t,e,r).pipe(Object(jt.a)((function(e){return t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),kk(t,n).resolve),null})))}(t.route,e,n,r)})),function(t,e){return arguments.length>=2?function(n){return Object(hw.a)($r(t,e),ew(1),Wm(e))(n)}:function(e){return Object(hw.a)($r((function(e,n,r){return t(e,n,r+1)})),ew(1))(e)}}((function(t,e){return t})),Object(jt.a)((function(e){return t}))):Object(Yn.a)(t)})))}),Object(Zb.a)((function(t){var n=new Cw(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})));var n,r})),_C((function(t){var n=t.targetSnapshot,r=t.id,i=t.extractedUrl,o=t.rawUrl,a=t.extras,s=a.skipLocationChange,u=a.replaceUrl;return e.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:o,skipLocationChange:!!s,replaceUrl:!!u})})),Object(jt.a)((function(t){var n=function(t,e,n){var r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){var i=r.value;i._futureSnapshot=n.value;var o=function(e,n,r){return n.children.map((function(n){var i,o=_createForOfIteratorHelper(r.children);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(e.shouldReuseRoute(a.value.snapshot,n.value))return t(e,n,a)}}catch(s){o.e(s)}finally{o.f()}return t(e,n)}))}(e,n,r);return new gk(i,o)}var a=e.retrieve(n.value);if(a){var s=a.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(var r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,s),s}var u,c=new wk(new Y_((u=n.value).url),new Y_(u.params),new Y_(u.queryParams),new Y_(u.fragment),new Y_(u.data),u.outlet,u.component,u),l=n.children.map((function(n){return t(e,n)}));return new gk(c,l)}(t,e._root,n?n._root:void 0);return new bk(r,e)}(e.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:n})})),Object(Zb.a)((function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),(i=e.rootContexts,o=e.routeReuseStrategy,a=function(t){return e.triggerEvent(t)},Object(jt.a)((function(t){return new Uk(o,t.targetRouterState,t.currentRouterState,a).activate(i),t}))),Object(Zb.a)({next:function(){s=!0},complete:function(){s=!0}}),(r=function(){if(!s&&!u){e.resetUrlToCurrentUrlTree();var r=new gw(t.id,e.serializeUrl(t.extractedUrl),"Navigation ID ".concat(t.id," is not equal to the current navigation id ").concat(e.navigationId));n.next(r),t.resolve(!1)}e.currentNavigation=null},function(t){return t.lift(new fw(r))}),ow((function(r){if(u=!0,(s=r)&&s.ngNavigationCancelingError){var i=Hk(r.url);i||(e.navigated=!0,e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));var o=new gw(t.id,e.serializeUrl(t.extractedUrl),r.message);n.next(o),i?setTimeout((function(){var n=e.urlHandlingStrategy.merge(r.url,e.rawUrlTree);return e.scheduleNavigation(n,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})}),0):t.resolve(!1)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var a=new mw(t.id,e.serializeUrl(t.extractedUrl),r);n.next(a);try{t.resolve(e.errorHandler(r))}catch(Zc){t.reject(Zc)}}var s;return Bm.a})))})))}},{key:"resetRootComponentType",value:function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}},{key:"setTransition",value:function(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(e){var n=t.parseUrl(e.url),r="popstate"===e.type?"popstate":"hashchange",i=e.state&&e.state.navigationId?e.state:null;setTimeout((function(){t.scheduleNavigation(n,r,i,{replaceUrl:!0})}),0)})))}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(t){this.events.next(t)}},{key:"resetConfig",value:function(t){Mw(t),this.config=t.map(Uw),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}},{key:"createUrlTree",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.relativeTo,i=e.queryParams,o=e.fragment,a=e.preserveQueryParams,s=e.queryParamsHandling,u=e.preserveFragment;Object(r.V)()&&a&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var c=n||this.routerState.root,l=u?this.currentUrlTree.fragment:o,h=null;if(s)switch(s){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=a?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,r,i){if(0===n.length)return xk(e.root,e.root,e,r,i);var o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Dk(!0,0,t);var e=0,n=!1,r=t.reduce((function(t,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return Gw(r.outlets,(function(t,e){o[e]="string"==typeof t?t.split("/"):t})),[].concat(_toConsumableArray(t),[{outlets:o}])}if(r.segmentPath)return[].concat(_toConsumableArray(t),[r.segmentPath])}return"string"!=typeof r?[].concat(_toConsumableArray(t),[r]):0===i?(r.split("/").forEach((function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))})),t):[].concat(_toConsumableArray(t),[r])}),[]);return new Dk(n,e,r)}(n);if(o.toRoot())return xk(e.root,new Yw([],{}),e,r,i);var a=function(t,e,n){if(t.isAbsolute)return new Nk(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new Nk(n.snapshot._urlSegment,!0,0);var r=Ak(t.commands[0])?0:1;return function(t,e,n){for(var r=t,i=e,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new Nk(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),s=a.processChildren?Lk(a.segmentGroup,a.index,o.commands):Pk(a.segmentGroup,a.index,o.commands);return xk(a.segmentGroup,s,e,r,i)}(c,this.currentUrlTree,t,h,l)}},{key:"navigateByUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};Object(r.V)()&&this.isNgZoneEnabled&&!r.z.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=Hk(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}},{key:"navigate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(e))}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}},{key:"serializeUrl",value:function(t){return this.urlSerializer.serialize(t)}},{key:"parseUrl",value:function(t){var e;try{e=this.urlSerializer.parse(t)}catch(Em){e=this.malformedUriErrorHandler(Em,this.urlSerializer,t)}return e}},{key:"isActive",value:function(t,e){if(Hk(t))return Kw(this.currentUrlTree,t,e);var n=this.parseUrl(t);return Kw(this.currentUrlTree,n,e)}},{key:"removeEmptyProps",value:function(t){return Object.keys(t).reduce((function(e,n){var r=t[n];return null!=r&&(e[n]=r),e}),{})}},{key:"processNavigations",value:function(){var t=this;this.navigations.subscribe((function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new yw(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,t.currentNavigation=null,e.resolve(!0)}),(function(e){t.console.warn("Unhandled Navigation Error: ")}))}},{key:"scheduleNavigation",value:function(t,e,n,r,i){var o,a,s,u=this.getTransition();if(u&&"imperative"!==e&&"imperative"===u.source&&u.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(u&&"hashchange"==e&&"popstate"===u.source&&u.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(u&&"popstate"==e&&"hashchange"===u.source&&u.rawUrl.toString()===t.toString())return Promise.resolve(!0);i?(o=i.resolve,a=i.reject,s=i.promise):s=new Promise((function(t,e){o=t,a=e}));var c=++this.navigationId;return this.setTransition({id:c,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch((function(t){return Promise.reject(t)}))}},{key:"setBrowserUrl",value:function(t,e,n,r){var i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}},{key:"resetStateAndUrl",value:function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}]),t}()).\u0275fac=function(t){r.Vb()},xC.\u0275dir=r.Gb({type:xC}),xC),NC=((AC=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this.router=e,this.route=n,this.commands=[],null==r&&i.setAttribute(o.nativeElement,"tabindex","0")}return _createClass(t,[{key:"routerLink",set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}},{key:"preserveQueryParams",set:function(t){Object(r.V)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}},{key:"onClick",value:function(){var t={skipLocationChange:PC(this.skipLocationChange),replaceUrl:PC(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:PC(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:PC(this.preserveFragment)})}}]),t}()).\u0275fac=function(t){return new(t||AC)(r.Lb(DC),r.Lb(wk),r.Tb("tabindex"),r.Lb(r.D),r.Lb(r.l))},AC.\u0275dir=r.Gb({type:AC,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.Wb("click",(function(){return e.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"}}),AC),RC=((OC=function(){function t(e,n,r){var i=this;_classCallCheck(this,t),this.router=e,this.route=n,this.locationStrategy=r,this.commands=[],this.subscription=e.events.subscribe((function(t){t instanceof yw&&i.updateTargetUrlAndHref()}))}return _createClass(t,[{key:"routerLink",set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}},{key:"preserveQueryParams",set:function(t){Object(r.V)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}},{key:"ngOnChanges",value:function(t){this.updateTargetUrlAndHref()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var i={skipLocationChange:PC(this.skipLocationChange),replaceUrl:PC(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:PC(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:PC(this.preserveFragment)})}}]),t}()).\u0275fac=function(t){return new(t||OC)(r.Lb(DC),r.Lb(wk),r.Lb(_))},OC.\u0275dir=r.Gb({type:OC,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.Wb("click",(function(t){return e.onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)})),2&t&&(r.Rb("href",e.href,r.kc),r.Cb("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.zb]}),OC);function PC(t){return""===t||!!t}var LC,jC,MC,VC=function t(){_classCallCheck(this,t),this.outlet=null,this.route=null,this.resolver=null,this.children=new FC,this.attachRef=null},FC=function(){function t(){_classCallCheck(this,t),this.contexts=new Map}return _createClass(t,[{key:"onChildOutletCreated",value:function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}},{key:"onChildOutletDestroyed",value:function(t){var e=this.getContext(t);e&&(e.outlet=null)}},{key:"onOutletDeactivated",value:function(){var t=this.contexts;return this.contexts=new Map,t}},{key:"onOutletReAttached",value:function(t){this.contexts=t}},{key:"getOrCreateContext",value:function(t){var e=this.getContext(t);return e||(e=new VC,this.contexts.set(t,e)),e}},{key:"getContext",value:function(t){return this.contexts.get(t)||null}}]),t}(),UC=((LC=function(){function t(e,n,i,o,a){_classCallCheck(this,t),this.parentContexts=e,this.location=n,this.resolver=i,this.changeDetector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=o||"primary",e.onChildOutletCreated(this.name,this)}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t}},{key:"attach",value:function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}},{key:"deactivate",value:function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}},{key:"activateWith",value:function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new qC(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}]),t}()).\u0275fac=function(t){return new(t||LC)(r.Lb(FC),r.Lb(r.O),r.Lb(r.j),r.Tb("name"),r.Lb(r.h))},LC.\u0275dir=r.Gb({type:LC,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),LC),qC=function(){function t(e,n,r){_classCallCheck(this,t),this.route=e,this.childContexts=n,this.parent=r}return _createClass(t,[{key:"get",value:function(t,e){return t===wk?this.route:t===FC?this.childContexts:this.parent.get(t,e)}}]),t}(),BC=function t(){_classCallCheck(this,t)},HC=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"preload",value:function(t,e){return Object(Yn.a)(null)}}]),t}(),zC=((MC=function(){function t(e,n,r,i,o){_classCallCheck(this,t),this.router=e,this.injector=i,this.preloadingStrategy=o,this.loader=new CC(n,r,(function(t){return e.triggerEvent(new Sw(t))}),(function(t){return e.triggerEvent(new Ew(t))}))}return _createClass(t,[{key:"setUpPreloading",value:function(){var t=this;this.subscription=this.router.events.pipe($n((function(t){return t instanceof yw})),Xn((function(){return t.preload()}))).subscribe((function(){}))}},{key:"preload",value:function(){var t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"processRoutes",value:function(t,e){var n,r=[],i=_createForOfIteratorHelper(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(o.loadChildren&&!o.canLoad&&o._loadedConfig){var a=o._loadedConfig;r.push(this.processRoutes(a.module,a.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(t,o)):o.children&&r.push(this.processRoutes(t,o.children))}}catch(s){i.e(s)}finally{i.f()}return Object(Vt.a)(r).pipe(Object(Gr.a)(),Object(jt.a)((function(t){})))}},{key:"preloadConfig",value:function(t,e){var n=this;return this.preloadingStrategy.preload(e,(function(){return n.loader.load(t.injector,e).pipe(Object(Zn.a)((function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)})))}))}}]),t}()).\u0275fac=function(t){return new(t||MC)(r.Sb(DC),r.Sb(r.w),r.Sb(r.i),r.Sb(r.r),r.Sb(BC))},MC.\u0275prov=r.Hb({token:MC,factory:MC.\u0275fac}),MC),GC=((jC=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,t),this.router=e,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return _createClass(t,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var t=this;return this.router.events.subscribe((function(e){e instanceof vw?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof yw&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))}))}},{key:"consumeScrollEvents",value:function(){var t=this;return this.router.events.subscribe((function(e){e instanceof xw&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))}))}},{key:"scheduleScrollEvent",value:function(t,e){this.router.triggerEvent(new xw(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),t}()).\u0275fac=function(t){r.Vb()},jC.\u0275dir=r.Gb({type:jC}),jC),WC=new r.q("ROUTER_CONFIGURATION"),KC=new r.q("ROUTER_FORROOT_GUARD"),QC=[O,{provide:$w,useClass:tk},{provide:DC,useFactory:function(t,e,n,r,i,o,s){var u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},c=arguments.length>8?arguments[8]:void 0,l=arguments.length>9?arguments[9]:void 0,h=new DC(null,t,e,n,r,i,o,Hw(s));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){var f=a();h.events.subscribe((function(t){f.logGroup("Router Event: "+t.constructor.name),f.log(t.toString()),f.log(t),f.logGroupEnd()}))}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h},deps:[$w,FC,O,r.r,r.w,r.i,kC,WC,[function(){return function t(){_classCallCheck(this,t)}}(),new r.A],[function(){return function t(){_classCallCheck(this,t)}}(),new r.A]]},FC,{provide:wk,useFactory:function(t){return t.routerState.root},deps:[DC]},{provide:r.w,useClass:r.J},zC,HC,function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"preload",value:function(t,e){return e().pipe(ow((function(){return Object(Yn.a)(null)})))}}]),t}(),{provide:WC,useValue:{enableTracing:!1}}];function YC(){return new r.y("Router",DC)}var ZC,XC=((ZC=function(){function t(e,n){_classCallCheck(this,t)}return _createClass(t,null,[{key:"forRoot",value:function(e,n){return{ngModule:t,providers:[QC,eS(e),{provide:KC,useFactory:tS,deps:[[DC,new r.A,new r.I]]},{provide:WC,useValue:n||{}},{provide:_,useFactory:$C,deps:[c,[new r.p(E),new r.A],WC]},{provide:GC,useFactory:JC,deps:[DC,tt,WC]},{provide:BC,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:HC},{provide:r.y,multi:!0,useFactory:YC},[rS,{provide:r.d,multi:!0,useFactory:iS,deps:[rS]},{provide:sS,useFactory:oS,deps:[rS]},{provide:r.b,multi:!0,useExisting:sS}]]}}},{key:"forChild",value:function(e){return{ngModule:t,providers:[eS(e)]}}}]),t}()).\u0275mod=r.Jb({type:ZC}),ZC.\u0275inj=r.Ib({factory:function(t){return new(t||ZC)(r.Sb(KC,8),r.Sb(DC,8))}}),ZC);function JC(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new GC(t,e,n)}function $C(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new I(t,e):new T(t,e)}function tS(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function eS(t){return[{provide:r.a,multi:!0,useValue:t},{provide:kC,multi:!0,useValue:t}]}var nS,rS=((nS=function(){function t(e){_classCallCheck(this,t),this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new xm.a}return _createClass(t,[{key:"appInitializer",value:function(){var t=this;return this.injector.get(f,Promise.resolve(null)).then((function(){var e=null,n=new Promise((function(t){return e=t})),r=t.injector.get(DC),i=t.injector.get(WC);if(t.isLegacyDisabled(i)||t.isLegacyEnabled(i))e(!0);else if("disabled"===i.initialNavigation)r.setUpLocationChangeListener(),e(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '".concat(i.initialNavigation,"'"));r.hooks.afterPreactivation=function(){return t.initNavigation?Object(Yn.a)(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()}return n}))}},{key:"bootstrapListener",value:function(t){var e=this.injector.get(WC),n=this.injector.get(zC),i=this.injector.get(GC),o=this.injector.get(DC),a=this.injector.get(r.g);t===a.components[0]&&(this.isLegacyEnabled(e)?o.initialNavigation():this.isLegacyDisabled(e)&&o.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"isLegacyEnabled",value:function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}},{key:"isLegacyDisabled",value:function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}]),t}()).\u0275fac=function(t){return new(t||nS)(r.Sb(r.r))},nS.\u0275prov=r.Hb({token:nS,factory:nS.\u0275fac}),nS);function iS(t){return t.appInitializer.bind(t)}function oS(t){return t.bootstrapListener.bind(t)}var aS,sS=new r.q("Router Initializer"),uS=function t(e,n,r,i,o,a,s,u,c){_classCallCheck(this,t),this.id=e,this.name=n,this.firstname=r,this.lastname=i,this.role=o,this.email=a,this.password=s,this.description=u,this.image=c},cS=((aS=function(){function t(e){_classCallCheck(this,t),this._http=e,this.url="http://api-rest-laravel.com/api/"}return _createClass(t,[{key:"test",value:function(){return"Hola Mundoi desde un servicio"}},{key:"register",value:function(t){var e="json="+JSON.stringify(t),n=(new ir).set("Content-type","application/x-www-form-urlencoded");return this._http.post(this.url+"register",e,{headers:n})}},{key:"signup",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null!=e&&(t.gettoken="true");var n="json="+JSON.stringify(t),r=(new ir).set("Content-type","application/x-www-form-urlencoded");return this._http.post(this.url+"login",n,{headers:r})}},{key:"getIdentity",value:function(){var t=JSON.parse(localStorage.getItem("identity"));return this.identity=t&&"undefined"!=t?t:null,this.identity}},{key:"getToken",value:function(){var t=localStorage.getItem("token");return this.token=t&&"undefined"!=t?t:null,this.token}}]),t}()).\u0275fac=function(t){return new(t||aS)(r.Sb(Ir))},aS.\u0275prov=r.Hb({token:aS,factory:aS.\u0275fac}),aS);function lS(t,e){1&t&&(r.Ob(0,"small",12),r.pc(1," El Correo es invalido "),r.Nb())}function hS(t,e){1&t&&(r.Ob(0,"small",12),r.pc(1," El Password es invalido "),r.Nb())}var fS,dS=((fS=function(){function t(e,n,r){_classCallCheck(this,t),this._userService=e,this._router=n,this._route=r,this.page_title="Identificate",this.user=new uS(1,"","","","ROLE_USER","","","","")}return _createClass(t,[{key:"ngOnInit",value:function(){this.logout()}},{key:"onSubmit",value:function(t){var e=this;this._userService.signup(this.user).subscribe((function(t){console.log(t),"error"!=t.status?(e.status="success",e.token=t,e._userService.signup(e.user,!0).subscribe((function(t){console.log(t),e.identity=t,console.log(e.token),console.log(e.identity),localStorage.setItem("token",e.token),localStorage.setItem("identity",JSON.stringify(e.identity)),e._router.navigate(["/inicio"])}),(function(t){e.status="error",console.log(t)}))):e.status="error"}),(function(t){e.status="error",console.log(t)}))}},{key:"logout",value:function(){var t=this;this._route.params.subscribe((function(e){1==+e.sure&&(localStorage.removeItem("identity"),localStorage.removeItem("token"),t.identity=null,t.token=null,t._router.navigate(["/login"]))}))}}]),t}()).\u0275fac=function(t){return new(t||fS)(r.Lb(cS),r.Lb(DC),r.Lb(wk))},fS.\u0275cmp=r.Fb({type:fS,selectors:[["login"]],features:[r.Ab([cS])],decls:20,vars:6,consts:[[1,"col-md-12","mt-3"],[1,"col-md-5","ml-0","pl-0",3,"ngSubmit"],["loginForm","ngForm"],[1,"form-group"],["for","email"],["type","text","name","email","required","","pattern","[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$",1,"form-control",3,"ngModel","ngModelChange"],["email","ngModel"],["class","invalid-feedback d-block",4,"ngIf"],["for","password"],["type","text","name","password","required","",1,"form-control",3,"ngModel","ngModelChange"],["password","ngModel"],["type","submit","value","Identificarse",1,"btn","btn-success",3,"disabled"],[1,"invalid-feedback","d-block"]],template:function(t,e){if(1&t){var n=r.Pb();r.Ob(0,"div",0),r.Ob(1,"h1"),r.pc(2),r.Nb(),r.Ob(3,"p"),r.pc(4,"Identificate en la plataforma para comenzar"),r.Nb(),r.Ob(5,"form",1,2),r.Wb("ngSubmit",(function(){r.jc(n);var t=r.ic(6);return e.onSubmit(t)})),r.Ob(7,"div",3),r.Ob(8,"label",4),r.pc(9,"Email"),r.Nb(),r.Ob(10,"input",5,6),r.Wb("ngModelChange",(function(t){return e.user.email=t})),r.Nb(),r.oc(12,lS,2,0,"small",7),r.Nb(),r.Ob(13,"div",3),r.Ob(14,"label",8),r.pc(15,"Password"),r.Nb(),r.Ob(16,"input",9,10),r.Wb("ngModelChange",(function(t){return e.user.password=t})),r.Nb(),r.oc(18,hS,2,0,"small",7),r.Nb(),r.Mb(19,"input",11),r.Nb(),r.Nb()}if(2&t){var i=r.ic(6),o=r.ic(11),a=r.ic(17);r.Bb(2),r.qc(e.page_title),r.Bb(8),r.dc("ngModel",e.user.email),r.Bb(2),r.dc("ngIf",!o.valid&&o.touched),r.Bb(4),r.dc("ngModel",e.user.password),r.Bb(2),r.dc("ngIf",!a.valid&&a.touched),r.Bb(1),r.dc("disabled",i.invalid)}},directives:[Cn,oe,pn,Yt,Bn,zn,ie,kn,B],styles:[""]}),fS);function pS(t,e){1&t&&(r.Ob(0,"p"),r.pc(1,"Retgistrate en nuestro formulario para realizar varias entradas"),r.Nb())}var vS=function(){return["/login"]};function yS(t,e){1&t&&(r.Ob(0,"div",21),r.pc(1," El registro se ha completado correctamente, "),r.Ob(2,"a",22),r.pc(3,"Logueate Aqui"),r.Nb(),r.Nb()),2&t&&(r.Bb(2),r.dc("routerLink",r.ec(1,vS)))}function gS(t,e){1&t&&(r.Ob(0,"div",23),r.pc(1," El registro NO se ha completado correctamente,Vuelve a intentarlo mas tarde "),r.Nb())}function mS(t,e){1&t&&(r.Ob(0,"small",24),r.pc(1," El nombre es invalido "),r.Nb())}function bS(t,e){1&t&&(r.Ob(0,"small",24),r.pc(1," El Apellido es invalido "),r.Nb())}function _S(t,e){1&t&&(r.Ob(0,"small",24),r.pc(1," El Correo es invalido "),r.Nb())}function wS(t,e){1&t&&(r.Ob(0,"small",24),r.pc(1," El Password es invalido "),r.Nb())}var kS,CS,SS,ES=((SS=function(){function t(e){_classCallCheck(this,t),this._userService=e,this.page_title="Registratre",this.user=new uS(1,"","","","ROLE_USER","","","","")}return _createClass(t,[{key:"ngOnInit",value:function(){console.log("Componente Registro lanzado.")}},{key:"onSubmit",value:function(t){var e=this;this._userService.register(this.user).subscribe((function(n){"success"==n.status?(e.status=n.status,t.reset()):e.status="error"}),(function(t){e.status="error",console.log(t)}))}}]),t}()).\u0275fac=function(t){return new(t||SS)(r.Lb(cS))},SS.\u0275cmp=r.Fb({type:SS,selectors:[["register"]],features:[r.Ab([cS])],decls:33,vars:13,consts:[["mt-3","",1,"col-md-12"],[4,"ngIf"],["class","alert alert-success col-md-5",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"col-md-5","ml-0","pl-0",3,"ngSubmit"],["registerForm","ngForm"],[1,"form-group"],["for","firstname"],["type","text","name","firstname","required","","pattern","[a-zA-Z]+",1,"form-control",3,"ngModel","ngModelChange"],["firstname","ngModel"],["class","invalid-feedback d-block",4,"ngIf"],["for","lastname"],["type","text","name","lastname","required","","pattern","[a-zA-Z]+",1,"form-control",3,"ngModel","ngModelChange"],["lastname","ngModel"],["for","email"],["type","text","name","email","required","","pattern","[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$",1,"form-control",3,"ngModel","ngModelChange"],["email","ngModel"],["for","password"],["type","text","name","password","required","",1,"form-control",3,"ngModel","ngModelChange"],["password","ngModel"],["type","submit","value","Registrame",1,"btn","btn-success",3,"disabled"],[1,"alert","alert-success","col-md-5"],[3,"routerLink"],[1,"alert","alert-danger"],[1,"invalid-feedback","d-block"]],template:function(t,e){if(1&t){var n=r.Pb();r.Ob(0,"div",0),r.Ob(1,"h1"),r.pc(2),r.Nb(),r.oc(3,pS,2,0,"p",1),r.oc(4,yS,4,2,"div",2),r.oc(5,gS,2,0,"div",3),r.Ob(6,"form",4,5),r.Wb("ngSubmit",(function(){r.jc(n);var t=r.ic(7);return e.onSubmit(t)})),r.Ob(8,"div",6),r.Ob(9,"label",7),r.pc(10,"Nombres"),r.Nb(),r.Ob(11,"input",8,9),r.Wb("ngModelChange",(function(t){return e.user.firstname=t})),r.Nb(),r.oc(13,mS,2,0,"small",10),r.Nb(),r.Ob(14,"div",6),r.Ob(15,"label",11),r.pc(16,"Apellidos "),r.Nb(),r.Ob(17,"input",12,13),r.Wb("ngModelChange",(function(t){return e.user.lastname=t})),r.Nb(),r.oc(19,bS,2,0,"small",10),r.Nb(),r.Ob(20,"div",6),r.Ob(21,"label",14),r.pc(22,"Email"),r.Nb(),r.Ob(23,"input",15,16),r.Wb("ngModelChange",(function(t){return e.user.email=t})),r.Nb(),r.oc(25,_S,2,0,"small",10),r.Nb(),r.Ob(26,"div",6),r.Ob(27,"label",17),r.pc(28,"Password"),r.Nb(),r.Ob(29,"input",18,19),r.Wb("ngModelChange",(function(t){return e.user.password=t})),r.Nb(),r.oc(31,wS,2,0,"small",10),r.Nb(),r.Mb(32,"input",20),r.Nb(),r.Nb()}if(2&t){var i=r.ic(7),o=r.ic(12),a=r.ic(18),s=r.ic(24),u=r.ic(30);r.Bb(2),r.qc(e.page_title),r.Bb(1),r.dc("ngIf","success"!=e.status),r.Bb(1),r.dc("ngIf","success"==e.status),r.Bb(1),r.dc("ngIf","error"==e.status),r.Bb(6),r.dc("ngModel",e.user.firstname),r.Bb(2),r.dc("ngIf",!o.valid&&o.touched),r.Bb(4),r.dc("ngModel",e.user.lastname),r.Bb(2),r.dc("ngIf",!a.valid&&a.touched),r.Bb(4),r.dc("ngModel",e.user.email),r.Bb(2),r.dc("ngIf",!s.valid&&s.touched),r.Bb(4),r.dc("ngModel",e.user.password),r.Bb(2),r.dc("ngIf",!u.valid&&u.touched),r.Bb(1),r.dc("disabled",i.invalid)}},directives:[B,Cn,oe,pn,Yt,Bn,zn,ie,kn,RC],styles:[""]}),SS),TS=((CS=function(){function t(){_classCallCheck(this,t),this.page_title="PAgina no encontrada"}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||CS)},CS.\u0275cmp=r.Fb({type:CS,selectors:[["app-error"]],decls:4,vars:1,template:function(t,e){1&t&&(r.Ob(0,"h1"),r.pc(1),r.Nb(),r.Ob(2,"p"),r.pc(3,"error works!"),r.Nb()),2&t&&(r.Bb(1),r.qc(e.page_title))},styles:[""]}),CS),IS=((kS=function(){function t(e){_classCallCheck(this,t),this._afs=e,this.id=""}return _createClass(t,[{key:"getTasksByStatus",value:function(t,e){return this._afs.collection("Tasks",(function(n){return n.where("status","==",t).where("user","==",e)})).valueChanges()}},{key:"saveTask",value:function(t){this._afs.collection("Tasks").add(t).then((function(t){console.log(t)})).catch((function(t){console.log(t)}))}},{key:"getIdAfs",value:function(t){return this._afs.collection("Tasks",(function(e){return e.where("id","==",t)})).snapshotChanges().pipe(Object(jt.a)((function(t){var e;return t.forEach((function(t){e=t.payload.doc.id})),e})))}},{key:"updateDoc",value:function(t,e){console.log("id",t),console.log("status",e),this._afs.collection("Tasks").doc(t).update({status:e})}}]),t}()).\u0275fac=function(t){return new(t||kS)(r.Sb(mb))},kS.\u0275prov=r.Hb({token:kS,factory:kS.\u0275fac,providedIn:"root"}),kS);function OS(t,e){if(1&t&&(r.Ob(0,"div",14),r.Ob(1,"strong"),r.pc(2),r.Nb(),r.Ob(3,"div",15),r.Ob(4,"h5",16),r.pc(5),r.Nb(),r.Ob(6,"p",17),r.pc(7),r.Zb(8,"slice"),r.Nb(),r.Ob(9,"button",18),r.pc(10,"Ver m\xe1s..."),r.Nb(),r.Nb(),r.Nb()),2&t){var n=e.$implicit;r.Bb(2),r.rc("Id: ",n.id,""),r.Bb(3),r.qc(n.title),r.Bb(2),r.qc(r.ac(8,3,n.description,0,200))}}function AS(t,e){if(1&t&&(r.Ob(0,"div",14),r.Ob(1,"strong"),r.pc(2),r.Nb(),r.Ob(3,"div",15),r.Ob(4,"h5",16),r.pc(5),r.Nb(),r.Ob(6,"p",17),r.pc(7),r.Zb(8,"slice"),r.Nb(),r.Ob(9,"button",18),r.pc(10,"Ver m\xe1s..."),r.Nb(),r.Nb(),r.Nb()),2&t){var n=e.$implicit;r.Bb(2),r.rc("Id: ",n.id,""),r.Bb(3),r.qc(n.title),r.Bb(2),r.qc(r.ac(8,3,n.description,0,200))}}function xS(t,e){if(1&t&&(r.Ob(0,"div",14),r.Ob(1,"strong"),r.pc(2),r.Nb(),r.Ob(3,"div",15),r.Ob(4,"h5",16),r.pc(5),r.Nb(),r.Ob(6,"p",17),r.pc(7),r.Zb(8,"slice"),r.Nb(),r.Ob(9,"button",18),r.pc(10,"Ver m\xe1s..."),r.Nb(),r.Nb(),r.Nb()),2&t){var n=e.$implicit;r.Bb(2),r.rc("Id: ",n.id,""),r.Bb(3),r.qc(n.title),r.Bb(2),r.qc(r.ac(8,3,n.description,0,200))}}var DS=function(){return["/taskNew"]},NS=function(t){return[t]},RS=function(t,e){return[t,e]};function PS(t,e){if(1&t){var n=r.Pb();r.Ob(0,"div",1),r.Ob(1,"div",2),r.Ob(2,"h3",3),r.pc(3,"DASHBOARD"),r.Nb(),r.Nb(),r.Ob(4,"div",4),r.Ob(5,"button",5),r.pc(6,"Add Task"),r.Nb(),r.Nb(),r.Ob(7,"div",2),r.Ob(8,"div",6),r.Ob(9,"h4",7),r.pc(10,"REQUESTED"),r.Nb(),r.Ob(11,"div",8,9),r.Wb("cdkDropListDropped",(function(t){return r.jc(n),r.Yb().drop(t)})),r.oc(13,OS,11,7,"div",10),r.Nb(),r.Nb(),r.Ob(14,"div",6),r.Ob(15,"h4",7),r.pc(16,"IN PROGRESS"),r.Nb(),r.Ob(17,"div",8,11),r.Wb("cdkDropListDropped",(function(t){return r.jc(n),r.Yb().drop(t)})),r.oc(19,AS,11,7,"div",12),r.Nb(),r.Nb(),r.Ob(20,"div",6),r.Ob(21,"h4",7),r.pc(22,"DONE"),r.Nb(),r.Ob(23,"div",8,13),r.Wb("cdkDropListDropped",(function(t){return r.jc(n),r.Yb().drop(t)})),r.oc(25,xS,11,7,"div",12),r.Nb(),r.Nb(),r.Nb(),r.Nb()}if(2&t){var i=r.ic(12),o=r.ic(18),a=r.ic(24),s=r.Yb();r.Bb(5),r.dc("routerLink",r.ec(10,DS)),r.Bb(6),r.dc("cdkDropListData",s.tasksToDo)("cdkDropListConnectedTo",r.fc(11,NS,o)),r.Bb(2),r.dc("ngForOf",s.tasksToDo),r.Bb(4),r.dc("cdkDropListData",s.tasksInProgress)("cdkDropListConnectedTo",r.gc(13,RS,i,a)),r.Bb(2),r.dc("ngForOf",s.tasksInProgress),r.Bb(4),r.dc("cdkDropListData",s.tasksDone)("cdkDropListConnectedTo",r.fc(16,NS,o)),r.Bb(2),r.dc("ngForOf",s.tasksDone)}}function LS(t,e){1&t&&(r.Ob(0,"small",12),r.pc(1,"Ingrese 10 letras minimo"),r.Nb())}function jS(t,e){1&t&&(r.Ob(0,"small",12),r.pc(1,"The description is invalid"),r.Nb())}function MS(t,e){1&t&&(r.Ob(0,"small",12),r.pc(1,"The status is invalid"),r.Nb())}function VS(t,e){1&t&&(r.Ob(0,"small",12),r.pc(1,"The User es invalid"),r.Nb())}var FS,US,qS=[],BS=XC.forRoot([{path:"",component:dS},{path:"inicio",component:(US=function(){function t(e,n){_classCallCheck(this,t),this._taskService=e,this._userService=n,this.tasksToDo=[],this.tasksInProgress=[],this.tasksDone=[],this.identity=this._userService.getIdentity(),this.status=["Nueva","En Progreso","Terminada"]}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this._taskService.getTasksByStatus("Nueva",this.identity.email).subscribe((function(e){e.forEach((function(e){t.tasksToDo.push(e)}))})),this._taskService.getTasksByStatus("En Progreso",this.identity.email).subscribe((function(e){console.log(e),e.forEach((function(e){t.tasksInProgress.push(e)}))})),this._taskService.getTasksByStatus("Terminada",this.identity.email).subscribe((function(e){e.forEach((function(e){t.tasksDone.push(e)}))}))}},{key:"drop",value:function(t){var e=this;t.previousContainer===t.container?y_(t.container.data,t.previousIndex,t.currentIndex):function(t,e,n,r){var i=g_(n,t.length-1),o=g_(r,e.length);t.length&&e.splice(o,0,t.splice(i,1)[0])}(t.previousContainer.data,t.container.data,t.previousIndex,t.currentIndex);for(var n,r=t.container.id.split("-"),i=r[r.length-1],o=t.container.data.length,a=0;a<o;a++)t.container.data[a].status!==this.status[i]&&(n=t.container.data[a].id);this._taskService.getIdAfs(n).subscribe((function(t){e._taskService.updateDoc(t,e.status[i])}))}}]),t}(),US.\u0275fac=function(t){return new(t||US)(r.Lb(IS),r.Lb(cS))},US.\u0275cmp=r.Fb({type:US,selectors:[["app-task"]],features:[r.Ab([cS])],decls:1,vars:1,consts:[["class","container mt-5",4,"ngIf"],[1,"container","mt-5"],[1,"row"],[1,"text-center","montserrate"],[1,"float-right"],[1,"btn","btn-warning",3,"routerLink"],[1,"col-lg-4"],[1,"montserrate","text-center"],["cdkDropList","",1,"example-list",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["todoList","cdkDropList"],["class","card ","cdkDrag","",4,"ngFor","ngForOf"],["progressList","cdkDropList"],["class","card","cdkDrag","",4,"ngFor","ngForOf"],["doneList","cdkDropList"],["cdkDrag","",1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-text","ext-justify"],["type","button",1,"btn","btn-outline-primary","btn-block"]],template:function(t,e){1&t&&r.oc(0,PS,26,18,"div",0),2&t&&r.dc("ngIf",e.tasksToDo||e.tasksInProgress||e.tasksDone)},directives:[B,NC,K_,U,U_],pipes:[J],styles:[".montserrat[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif}example-list[_ngcontent-%COMP%]{border:1px solid #ccc;min-height:60px;background:#fff;border-radius:4px;overflow:hidden;display:block}.example-box[_ngcontent-%COMP%]{padding:20px 10px;border-bottom:1px solid #ccc;color:rgba(0,0,0,.87);display:flex;flex-direction:row;align-items:center;justify-content:space-between;box-sizing:border-box;cursor:move;background:#fff;font-size:14px}"]}),US)},{path:"logout/:sure",component:dS},{path:"taskNew",component:(FS=function(){function t(e,n,r){_classCallCheck(this,t),this.fb=e,this._userService=n,this._taskService=r,this.identity=this._userService.getIdentity(),this.crearFormulario(),console.log(this.identity.email)}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"crearFormulario",value:function(){this.forma=this.fb.group({title:["",[le.required,le.minLength(10)]],description:["",[le.required]],status:["",[le.required]],user:["",[le.pattern("[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,3}$"),le.required]]}),this.forma.get("user").setValue(this.identity.email),this.forma.get("status").setValue("Nueva")}},{key:"guardar",value:function(){if(console.log(this.forma.controls),this.forma.invalid)return Object.values(this.forma.controls).forEach((function(t){t instanceof ln?Object.values(t.controls).forEach((function(t){return t.markAsTouched()})):t.markAsTouched()}));this._taskService.saveTask({id:Math.floor(Date.now()/1e3),title:this.forma.controls.title.value,description:this.forma.controls.description.value,status:this.forma.controls.status.value,user:this.forma.controls.user.value}),this.forma.reset({status:"Nueva",user:this.identity.email})}},{key:"titleNoValid",get:function(){return this.forma.get("title").invalid&&this.forma.get("title").touched}},{key:"descriptionNoValid",get:function(){return this.forma.get("description").invalid&&this.forma.get("description").touched}},{key:"statusNoValid",get:function(){return this.forma.get("status").invalid&&this.forma.get("status").touched}},{key:"userNoValid",get:function(){return this.forma.get("user").invalid&&this.forma.get("user").touched}}]),t}(),FS.\u0275fac=function(t){return new(t||FS)(r.Lb(Wn),r.Lb(cS),r.Lb(IS))},FS.\u0275cmp=r.Fb({type:FS,selectors:[["app-task-new"]],features:[r.Ab([cS])],decls:35,vars:19,consts:[[1,"text-center","montserrat"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"form-group","row"],[1,"col-2","col-form-label"],[1,"col"],["type","text","placeholder","Title","formControlName","title",1,"form-control"],["class","text-danger",4,"ngIf"],["type","text","placeholder","Description","formControlName","description",1,"form-control"],["type","email","placeholder","Status","formControlName","status",1,"form-control"],["type","text","placeholder","User","formControlName","user",1,"form-control"],[1,"input-group","col"],["type","submit",1,"btn","btn-outline-primary","btn-block"],[1,"text-danger"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.pc(1," ADD TASK"),r.Nb(),r.Mb(2,"hr"),r.Ob(3,"form",1),r.Wb("ngSubmit",(function(){return e.guardar()})),r.Ob(4,"div"),r.Ob(5,"div",2),r.Ob(6,"label",3),r.pc(7,"Title"),r.Nb(),r.Ob(8,"div",4),r.Mb(9,"input",5),r.oc(10,LS,2,0,"small",6),r.Nb(),r.Nb(),r.Ob(11,"div",2),r.Ob(12,"label",3),r.pc(13,"Description"),r.Nb(),r.Ob(14,"div",4),r.Mb(15,"input",7),r.oc(16,jS,2,0,"small",6),r.Nb(),r.Nb(),r.Ob(17,"div",2),r.Ob(18,"label",3),r.pc(19,"Status"),r.Nb(),r.Ob(20,"div",4),r.Mb(21,"input",8),r.oc(22,MS,2,0,"small",6),r.Nb(),r.Nb(),r.Ob(23,"div",2),r.Ob(24,"label",3),r.pc(25,"User"),r.Nb(),r.Ob(26,"div",4),r.Mb(27,"input",9),r.oc(28,VS,2,0,"small",6),r.Nb(),r.Nb(),r.Nb(),r.Ob(29,"div",2),r.Ob(30,"label",3),r.pc(31,"\xa0"),r.Nb(),r.Ob(32,"div",10),r.Ob(33,"button",11),r.pc(34," Guardar "),r.Nb(),r.Nb(),r.Nb(),r.Nb()),2&t&&(r.Bb(3),r.dc("formGroup",e.forma),r.Bb(6),r.Db("is-invalid",e.titleNoValid)("is-valid",!e.titleNoValid),r.Bb(1),r.dc("ngIf",e.titleNoValid),r.Bb(5),r.Db("is-invalid",e.descriptionNoValid)("is-valid",!e.descriptionNoValid),r.Bb(1),r.dc("ngIf",e.descriptionNoValid),r.Bb(5),r.Db("is-invalid",e.statusNoValid)("is-valid",!e.statusNoValid),r.Bb(1),r.dc("ngIf",e.statusNoValid),r.Bb(5),r.Db("is-invalid",e.userNoValid),r.Bb(1),r.dc("ngIf",e.userNoValid))},directives:[Cn,oe,Tn,Yt,ie,Un,B],styles:[""]}),FS)},{path:"login",component:dS},{path:"registro",component:ES},{path:"**",component:TS}]),HS=function(){return["/inicio"]};function zS(t,e){1&t&&(r.Ob(0,"li",11),r.Ob(1,"a",12),r.pc(2,"Home "),r.Nb(),r.Nb()),2&t&&(r.Bb(1),r.dc("routerLink",r.ec(1,HS)))}var GS=function(){return["/login"]},WS=function(){return["/registro"]};function KS(t,e){1&t&&(r.Ob(0,"ul",13),r.Ob(1,"li",11),r.Ob(2,"a",12),r.pc(3,"Login "),r.Nb(),r.Nb(),r.Ob(4,"li",11),r.Ob(5,"a",14),r.pc(6," Register"),r.Nb(),r.Nb(),r.Nb()),2&t&&(r.Bb(2),r.dc("routerLink",r.ec(2,GS)),r.Bb(3),r.dc("routerLink",r.ec(3,WS)))}var QS=function(){return["/taskNew"]},YS=function(){return["/logout/1"]};function ZS(t,e){if(1&t&&(r.Ob(0,"ul",13),r.Ob(1,"li",15),r.Ob(2,"a",16),r.pc(3),r.Nb(),r.Ob(4,"ul",17),r.Ob(5,"li"),r.Ob(6,"a",18),r.pc(7,"Add Task"),r.Nb(),r.Nb(),r.Ob(8,"li"),r.Mb(9,"hr",19),r.Nb(),r.Ob(10,"li"),r.Ob(11,"a",18),r.pc(12,"LogOut"),r.Nb(),r.Nb(),r.Nb(),r.Nb(),r.Nb()),2&t){var n=r.Yb();r.Bb(3),r.rc(" ",n.identity.firstname," "),r.Bb(3),r.dc("routerLink",r.ec(3,QS)),r.Bb(5),r.dc("routerLink",r.ec(4,YS))}}var XS,JS,$S=((JS=function(){function t(e){_classCallCheck(this,t),this._userService=e,this.title="DashBoard PrimeStone",this.loadUser()}return _createClass(t,[{key:"ngOnInit",value:function(){console.log("Cargado correctamente ")}},{key:"ngDoCheck",value:function(){this.loadUser()}},{key:"loadUser",value:function(){this.identity=this._userService.getIdentity(),this.token=this._userService.getToken()}}]),t}()).\u0275fac=function(t){return new(t||JS)(r.Lb(cS))},JS.\u0275cmp=r.Fb({type:JS,selectors:[["app-root"]],features:[r.Ab([cS])],decls:15,vars:3,consts:[[1,"container"],[1,"navbar","navbar-expand-lg","navbar-light","bg-primary"],[1,"container-fluid"],["src","../assets/images/bootstrap-logo.svg","alt","NG-BLOG","width","30","height","24"],[1,"montserrat"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],["class","nav-item",4,"ngIf"],["class","navbar-nav mb-2 mb-lg-0 navbar-right",4,"ngIf"],[1,"nav-item"],["aria-current","page",1,"nav-link","active",3,"routerLink"],[1,"navbar-nav","mb-2","mb-lg-0","navbar-right"],[1,"nav-link",3,"routerLink"],[1,"nav-item","dropdown"],["href","#","id","navbarDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],["aria-labelledby","navbarDropdown",1,"dropdown-menu"],[1,"dropdown-item",3,"routerLink"],[1,"dropdown-divider"]],template:function(t,e){1&t&&(r.Ob(0,"div",0),r.Mb(1,"br"),r.Ob(2,"nav",1),r.Ob(3,"div",2),r.Mb(4,"img",3),r.Ob(5,"div",4),r.pc(6,"DASHBOARD"),r.Nb(),r.Ob(7,"button",5),r.Mb(8,"span",6),r.Nb(),r.Ob(9,"div",7),r.Ob(10,"ul",8),r.oc(11,zS,3,2,"li",9),r.Nb(),r.oc(12,KS,7,4,"ul",10),r.oc(13,ZS,13,5,"ul",10),r.Nb(),r.Nb(),r.Nb(),r.Mb(14,"router-outlet"),r.Nb()),2&t&&(r.Bb(11),r.dc("ngIf",e.identity&&e.identity.firstname),r.Bb(1),r.dc("ngIf",!e.identity),r.Bb(1),r.dc("ngIf",e.identity&&e.identity.firstname))},directives:[B,UC,RC],styles:[""]}),JS),tE=((XS=function t(){_classCallCheck(this,t)}).\u0275mod=r.Jb({type:XS,bootstrap:[$S]}),XS.\u0275inj=r.Ib({factory:function(t){return new(t||XS)},providers:[qS],imports:[[Rt,BS,Kn,Qn,Br,Hr.a.initializeApp(i),bb,Q_]]}),XS);Object(r.S)(),Dt().bootstrapModule(tE).catch((function(t){return console.error(t)}))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);